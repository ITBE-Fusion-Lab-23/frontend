{"version":3,"file":"react.cjs.production.min.js","sources":["../src/Client/sessionId.ts","../src/Client/generateRecaptchaToken.ts","../src/Client/lazyLoadScript.ts","../src/Client/ApiError.ts","../src/Client/debounceCollect.ts","../src/Client/index.ts","../src/contexts/ClientContext.ts","../src/contexts/RatingContext.tsx","../src/theme.ts","../src/Provider.tsx","../src/hooks/useSafeEffect.ts","../src/ClapButton/templates/Simple/icons/ClapFull.tsx","../src/ClapButton/templates/Simple/style.ts","../src/ClapButton/templates/Simple/index.tsx","../src/ClapButton/templates/Heart/icons/ClapHeart.tsx","../src/ClapButton/templates/Heart/style.ts","../src/ClapButton/templates/Heart/index.tsx","../src/ClapButton/templates/Medium/icons/ClapEmpty.tsx","../src/ClapButton/templates/Medium/icons/ClapFull.tsx","../src/ClapButton/templates/Medium/style.ts","../src/ClapButton/templates/Medium/index.tsx","../src/ClapButton/index.tsx","../src/LikeButton/templates/Simple/icons/ThumbIcon.tsx","../src/LikeButton/templates/Base/style.ts","../src/LikeButton/templates/Base/index.tsx","../src/LikeButton/templates/Simple/index.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartFull.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartEmpty.tsx","../src/LikeButton/templates/Twitter/style.ts","../src/LikeButton/templates/Twitter/index.tsx","../src/LikeButton/templates/Chevron/icons/ChevronIcon.tsx","../src/LikeButton/templates/Heart/icons/Icon.tsx","../src/LikeButton/index.tsx","../src/LikeButton/templates/Chevron/index.tsx","../src/LikeButton/templates/Heart/index.tsx","../src/UpdownButton/templates/Simple/icons/ThumbIcon.tsx","../src/UpdownButton/templates/Simple/style.ts","../src/UpdownButton/templates/Simple/index.tsx","../src/UpdownButton/templates/Chevron/icons/ChevronIcon.tsx","../src/UpdownButton/templates/Chevron/style.ts","../src/UpdownButton/templates/Chevron/index.tsx","../src/UpdownButton/templates/Reddit/icons/RedditArrow.tsx","../src/UpdownButton/templates/Reddit/style.ts","../src/UpdownButton/templates/Reddit/index.tsx","../src/UpdownButton/index.tsx","../src/RateButton/templates/Custom/icons/Icon.tsx","../src/RateButton/templates/Base/style.ts","../src/RateButton/templates/Base/index.tsx","../src/RateButton/templates/Heart/icons/Icon.tsx","../src/RateButton/templates/Star/icons/Icon.tsx","../src/RateButton/templates/Star/index.tsx","../src/RateButton/index.tsx","../src/RateButton/templates/Custom/index.tsx","../src/RateButton/templates/Heart/index.tsx"],"sourcesContent":["export const getSessionId = () => {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  }\n\n  //TODO: remove sessionId legacy name\n  const legacySessionId = window.localStorage.getItem('sessionId');\n\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n\n  const sessionId = window.localStorage.getItem('lyket-session-id');\n\n  if (sessionId) {\n    return sessionId;\n  }\n\n  const newSessionId =\n    Math.random()\n      .toString(36)\n      .substring(2, 15) +\n    Math.random()\n      .toString(36)\n      .substring(2, 15);\n\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n\n  return newSessionId;\n};\n","import { lazyLoadScript } from './lazyLoadScript';\n\ndeclare const grecaptcha: any;\n\nexport function generateRecaptchaToken(\n  siteKey: string,\n  action: string\n): Promise<string> {\n  return lazyLoadScript(\n    `https://www.google.com/recaptcha/api.js?render=${siteKey}`\n  ).then(\n    () =>\n      new Promise((resolve, reject) => {\n        grecaptcha.ready(async () => {\n          try {\n            const token = await grecaptcha.execute(siteKey, {\n              action,\n            });\n            resolve(token);\n          } catch (e) {\n            console.error('recaptcha error!', e);\n            reject(e);\n          }\n        });\n      })\n  );\n}\n","type Options = Partial<{\n  async: boolean;\n  integrity: string;\n  type: string;\n}>;\n\nexport function lazyLoadScript(src: string, opts: Options = {}) {\n  return new Promise(function(resolve, reject) {\n    const { async, integrity, type } = opts;\n\n    const sc = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.src = src;\n\n    if (async) { script.setAttribute('async', 'true'); }\n    if (integrity) { script.setAttribute('integrity', integrity); }\n    if (type) { script.setAttribute('type', type); }\n\n    script.onload = () => resolve(script);\n    script.onerror = event => reject(event);\n\n    document.body.appendChild(script);\n  });\n}\n","export class ApiError extends Error {\n  requestInfo: RequestInfo;\n  requestInit: RequestInit;\n  status: Response['status'];\n  errors: [Response];\n\n  constructor(requestInfo, requestInit, status, errors) {\n    super(`Failed API request to ${requestInfo} with status ${status}`);\n\n    this.requestInfo = requestInfo;\n    this.requestInit = requestInit;\n    this.status = status;\n    this.errors = errors;\n  }\n}\n","const now = () => new Date().getTime();\n\ntype Deferred = {\n  resolve: (value: any) => void;\n  reject: (value: any) => void;\n};\n\nexport function debounceCollect<Args extends any[]>(\n  func: (calls: Args[]) => Promise<any[]>,\n  wait: number\n) {\n  let timer: NodeJS.Timeout | null;\n  let timestamp: number;\n\n  let args: Args[] = [];\n  let deferreds: Deferred[] = [];\n\n  async function onTimeout() {\n    let elapsed = now() - timestamp;\n\n    if (elapsed < wait && elapsed > 0) {\n      timer = setTimeout(onTimeout, wait - elapsed);\n    } else {\n      timer = null;\n      await call();\n      if (!timer) { reset(); }\n    }\n  }\n\n  async function call() {\n    const results = await func.call(null, args);\n\n    for (let i = 0; i < results.length; i++) {\n      deferreds[i].resolve(results[i]);\n    }\n  }\n\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n\n  return function debounced(...callArgs: Args): Promise<any> {\n    args.push(callArgs);\n\n    timestamp = now();\n\n    if (!timer) { timer = setTimeout(onTimeout, wait); }\n\n    return new Promise((resolve, reject) => {\n      deferreds.push({ resolve, reject });\n    });\n  };\n}\n","import { getSessionId } from \"./sessionId\";\nimport { generateRecaptchaToken } from \"./generateRecaptchaToken\";\nimport { ApiError } from \"./ApiError\";\nimport { debounceCollect } from \"./debounceCollect\";\n\nexport type ConstructorArguments = {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tbaseUrl?: string;\n\tdisableSessionId?: boolean;\n};\n\nclass LikeButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonPress.PathParameters): Promise<Paths.LikeButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/like-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/like-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonInfo.PathParameters): Promise<Paths.LikeButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/like-buttons/${namespace}/${id}` : `/like-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass ClapButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonPress.PathParameters): Promise<Paths.ClapButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/clap-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/clap-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonInfo.PathParameters): Promise<Paths.ClapButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/clap-buttons/${namespace}/${id}` : `/clap-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass UpdownButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonInfo.PathParameters): Promise<Paths.UpdownButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}`\n\t\t\t\t: `/updown-buttons/${id}`,\n\t\t);\n\t}\n\n\tpressUp({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressUp.PathParameters): Promise<Paths.UpdownButtonPressUp.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-up`\n\t\t\t\t: `/updown-buttons/${id}/press-up`,\n\t\t\t\"pressUp\",\n\t\t);\n\t}\n\n\tpressDown({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressDown.PathParameters): Promise<Paths.UpdownButtonPressDown.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-down`\n\t\t\t\t: `/updown-buttons/${id}/press-down`,\n\t\t\t\"pressDown\",\n\t\t);\n\t}\n}\n\nclass RateButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t\trating,\n\t}: Paths.RateButtonPress.PathParameters): Promise<Paths.RateButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/rate-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/rate-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t\t{\n\t\t\t\ttype: \"rate-buttons\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { rating },\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.RateButtonInfo.PathParameters): Promise<Paths.RateButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/rate-buttons/${namespace}/${id}` : `/rate-buttons/${id}`,\n\t\t);\n\t}\n}\n\nexport class Client {\n\tapiKey: string;\n\tbaseUrl: string;\n\tdisableSessionId: boolean;\n\trecaptchaSiteKey: string | undefined;\n\tlikeButtons: LikeButtonClient;\n\tclapButtons: ClapButtonClient;\n\trateButtons: RateButtonClient;\n\tupdownButtons: UpdownButtonClient;\n\tenqueueToBatch: (url: string) => Promise<any>;\n\n\tconstructor({\n\t\tapiKey,\n\t\trecaptchaSiteKey,\n\t\tbaseUrl,\n\t\tdisableSessionId,\n\t}: ConstructorArguments) {\n\t\tthis.apiKey = apiKey;\n\t\tthis.recaptchaSiteKey = recaptchaSiteKey;\n\t\tthis.disableSessionId = disableSessionId;\n\t\tthis.baseUrl = baseUrl || \"https://api.lyket.dev\";\n\n\t\tthis.likeButtons = new LikeButtonClient(this);\n\t\tthis.clapButtons = new ClapButtonClient(this);\n\t\tthis.updownButtons = new UpdownButtonClient(this);\n\t\tthis.rateButtons = new RateButtonClient(this);\n\n\t\tthis.enqueueToBatch = debounceCollect<[string]>(this.batch.bind(this), 500);\n\t}\n\n\tget(url: string) {\n\t\treturn this.request(url);\n\t}\n\n\tasync batch(calls: [string][]) {\n\t\t// return Promise.all(calls.map(args => this.request(args[0])));\n\t\tconst url: RequestInfo = \"/buttons/batch\";\n\n\t\tconst result = await this.request(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: {\n\t\t\t\ttype: \"batch\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { urls: calls.map((args) => args[0]) },\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn result.data.attributes.responses;\n\t}\n\n\tput(url: string, recaptchaAction: string, body = {}) {\n\t\treturn this.request(url, { method: \"PUT\", recaptchaAction, body });\n\t}\n\n\tasync request(\n\t\tinput: string,\n\t\tinit?: {\n\t\t\tmethod: string;\n\t\t\tbody?: Record<string, any>;\n\t\t\trecaptchaAction?: string;\n\t\t\theaders?: Record<string, string>;\n\t\t},\n\t) {\n\t\tif (typeof window === \"undefined\") {\n\t\t\tthrow new Error(\"Client is supposed to be used client-side only!\");\n\t\t}\n\n\t\tconst defaultHeaders: Record<string, string> = {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${this.apiKey}`,\n\t\t};\n\n\t\tif (!this.disableSessionId) {\n\t\t\tdefaultHeaders[\"x-session-id\"] = getSessionId();\n\t\t}\n\n\t\tif (this.recaptchaSiteKey && init && init.recaptchaAction) {\n\t\t\tdefaultHeaders[\"x-recaptcha-token\"] = await generateRecaptchaToken(\n\t\t\t\tthis.recaptchaSiteKey,\n\t\t\t\tinit.recaptchaAction,\n\t\t\t);\n\t\t}\n\n\t\tconst url: RequestInfo = `${this.baseUrl}/v1${input}`;\n\t\tconst requestInit: RequestInit = init\n\t\t\t? {\n\t\t\t\t\t...init,\n\t\t\t\t\theaders: { ...defaultHeaders, ...init.headers },\n\t\t\t\t\tbody: init.body && JSON.stringify(init.body),\n\t\t\t  }\n\t\t\t: { headers: defaultHeaders };\n\n\t\tconst response = await fetch(url, requestInit);\n\n\t\tif (response.status < 200 || response.status >= 300) {\n\t\t\tconst errorMessages = await response.json();\n\n\t\t\tthrow new ApiError(\n\t\t\t\turl,\n\t\t\t\trequestInit,\n\t\t\t\tresponse.status,\n\t\t\t\terrorMessages.errors,\n\t\t\t);\n\t\t}\n\n\t\treturn response.json();\n\t}\n}\n","import React from 'react';\nimport { Client } from '../Client';\n\nexport const ClientContext = React.createContext<Client | null>(null);\n","import React, { useState, useContext, createContext } from \"react\";\n\ntype Dispatch = React.Dispatch<React.SetStateAction<{}>>;\ntype State = Record<string, number>;\ntype RatingProviderProps = { children: React.ReactNode };\n\nconst RatingContext = createContext<\n\t{ registeredButtons: State; forceUpdate: Dispatch } | undefined\n>(undefined);\n\nconst RatingProvider = ({ children }: RatingProviderProps) => {\n\tconst [registeredButtons, forceUpdate] = useState({});\n\tconst value = { registeredButtons, forceUpdate };\n\treturn (\n\t\t<RatingContext.Provider value={value}>{children}</RatingContext.Provider>\n\t);\n};\n\nconst useForceUpdate = () => {\n\tconst context = useContext(RatingContext);\n\tif (context === undefined) {\n\t\tthrow new Error(\"useForceUpdate must be used within a RatingProvider\");\n\t}\n\treturn context;\n};\n\nexport { RatingProvider, useForceUpdate };\n","export type ThemeRecord = {\n  colors?: Colors;\n  fonts?: Fonts;\n};\n\ntype Colors = {\n  icon?: string;\n  text?: string;\n  background?: string;\n  primary?: string;\n  secondary?: string;\n  highlight?: string;\n};\n\ntype Fonts = {\n  body?: string;\n};\n\nexport const defaultTheme: ThemeRecord = {\n  colors: {\n    icon: '#292929',\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed',\n  },\n  fonts: {\n    body: 'inherit',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { FC, HTMLAttributes, useState, useEffect, ReactNode } from \"react\";\nimport { jsx, ThemeProvider } from \"theme-ui\";\nimport { Client, ConstructorArguments } from \"./Client\";\nimport { ClientContext } from \"./contexts/ClientContext\";\nimport { RatingProvider } from \"./contexts/RatingContext\";\nimport { defaultTheme, ThemeRecord } from \"./theme\";\n\nexport interface ProviderProps extends HTMLAttributes<HTMLDivElement> {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tdisableSessionId?: boolean;\n\tbaseUrl?: string;\n\tchildren?: ReactNode;\n\ttheme?: ThemeRecord | null;\n}\n\nconst clientInstances: Record<string, Client> = {};\n\nconst getClientInstanceForSettings = (settings: ConstructorArguments) => {\n\tconst key = JSON.stringify(settings);\n\n\tif (clientInstances[key]) {\n\t\treturn clientInstances[key];\n\t}\n\n\tconst client = new Client(settings);\n\tclientInstances[key] = client;\n\treturn client;\n};\n\nexport const Provider: FC<ProviderProps> = ({\n\tapiKey,\n\trecaptchaSiteKey,\n\tdisableSessionId,\n\tbaseUrl,\n\tchildren,\n\ttheme: customTheme,\n}) => {\n\tconst [client, setClient] = useState<Client>(\n\t\tgetClientInstanceForSettings({\n\t\t\tapiKey,\n\t\t\trecaptchaSiteKey,\n\t\t\tdisableSessionId,\n\t\t\tbaseUrl,\n\t\t}),\n\t);\n\n\tuseEffect(() => {\n\t\tsetClient(\n\t\t\tgetClientInstanceForSettings({\n\t\t\t\tapiKey,\n\t\t\t\trecaptchaSiteKey,\n\t\t\t\tdisableSessionId,\n\t\t\t\tbaseUrl,\n\t\t\t}),\n\t\t);\n\t}, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n\n\tconst theme = customTheme || { colors: {}, fonts: {} };\n\tconst colors = { ...defaultTheme.colors, ...theme.colors };\n\tconst fonts = { ...defaultTheme.fonts, ...theme.fonts };\n\n\treturn (\n\t\t<ThemeProvider\n\t\t\ttheme={{\n\t\t\t\tconfig: {\n\t\t\t\t\tuseRootStyles: false,\n\t\t\t\t\tuseLocalStorage: false,\n\t\t\t\t\tuseColorSchemeMediaQuery: false,\n\t\t\t\t},\n\t\t\t\tcolors,\n\t\t\t\tfonts,\n\t\t\t}}\n\t\t>\n\t\t\t<ClientContext.Provider value={client}>\n\t\t\t\t<RatingProvider>{children}</RatingProvider>\n\t\t\t</ClientContext.Provider>\n\t\t</ThemeProvider>\n\t);\n};\n","import React, { useState, useEffect } from 'react';\n\ntype PromiseFactory = () => Promise<any>;\n\nexport const useSafeEffect = (\n  effect: PromiseFactory,\n  deps?: React.DependencyList | undefined\n) => {\n  const setState = useState<boolean>()[1];\n\n  return useEffect(() => {\n    async function safeRunner() {\n      try {\n        await effect();\n      } catch (e) {\n        setState(() => {\n          throw e;\n        });\n      }\n    }\n\n    safeRunner();\n    // eslint-disable-next-line\n  }, [...(deps || []), setState]);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    color: theme => theme.rawColors?.text,\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1.6em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'body',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.8em',\n    width: '2.8em',\n    top: '-1.4em',\n    left: '-1.4em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { ClapButtonTemplateComponentProps } from \"../..\";\nimport { ClapFull } from \"./icons/ClapFull\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState, useRef } from \"react\";\nimport { style } from \"./style\";\n\nconst baloonFade = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-3.2em)\",\n\t},\n\t\"72%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-4em)\",\n\t},\n\t\"100%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-6em)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst BALOON = {\n\tdurationMs: 800,\n\tanimation: baloonFade,\n};\n\nconst ICON = {\n\tdurationMs: 700,\n\tanimation: iconScale,\n};\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nexport const Simple: FC<ClapButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserClaps,\n\ttotalClaps,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tsetAnimationActive(true);\n\t\t\tif (timeoutId.current) {\n\t\t\t\tclearTimeout(timeoutId.current);\n\t\t\t}\n\t\t\ttimeoutId.current = setTimeout(\n\t\t\t\t() => setAnimationActive(false),\n\t\t\t\tBALOON.durationMs,\n\t\t\t);\n\t\t\thandlePress(e);\n\t\t},\n\t\t[handlePress],\n\t);\n\n\tconst baloonStyle = {\n\t\t...style.baloon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\t...style.button,\n\t\tbg: (theme) =>\n\t\t\tuserClaps ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<div sx={style.buttonContainer}>\n\t\t\t\t<div sx={style.centeredContainer}>\n\t\t\t\t\t<div key={timeoutId.current?.toString()} sx={baloonStyle}>\n\t\t\t\t\t\t{userClaps}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button onClick={handleClick} sx={buttonStyle} disabled={isLoading}>\n\t\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t\t<ClapFull sx={iconStyle} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n\t\t</div>\n\t);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapHeart = ({ className }: Props) => (\n  <svg\n    version=\"1.1\"\n    id=\"ClapHeart\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 110 115\"\n    aria-label=\"clap\"\n    className={className}\n  >\n    <g>\n      <g>\n        <path d=\"M42.68,27.43c-0.7,0-1.4-0.27-1.93-0.8l-5.91-5.91c-1.07-1.07-1.07-2.79,0-3.86c1.07-1.07,2.79-1.07,3.86,0 l5.91,5.91c1.07,1.07,1.07,2.79,0,3.86C44.08,27.16,43.38,27.43,42.68,27.43z\" />\n      </g>\n      <g>\n        <path d=\"M70.43,26.52c-0.7,0-1.4-0.27-1.93-0.8c-1.07-1.07-1.07-2.79,0-3.86l5.91-5.91c1.07-1.07,2.79-1.07,3.86,0 c1.07,1.07,1.07,2.79,0,3.86l-5.91,5.91C71.82,26.25,71.13,26.52,70.43,26.52z\" />\n      </g>\n      <path d=\"M67.23,7.48c-0.12-1.34-0.82-2.56-1.93-3.34l0,0c-1.77-1.24-4.33-0.97-5.94,0.65l-2.8,2.79l-2.79-2.79 c-1.61-1.61-4.17-1.9-5.94-0.65c-1.11,0.78-1.82,2-1.93,3.34c-0.12,1.34,0.36,2.66,1.31,3.61L53.11,17c0.86,0.86,2,1.33,3.22,1.33 c0.07,0,0.15,0,0.23-0.01c0.08,0.01,0.15,0.01,0.23,0.01c1.22,0,2.36-0.47,3.22-1.33l5.91-5.91C66.86,10.14,67.34,8.82,67.23,7.48z\" />\n      <path d=\"M104.64,60.44c-0.28-1.84-1.22-3.52-2.54-4.83l-0.06-0.06c-1.02-1.02-2.25-1.75-3.6-2.15l0.16-0.16 c3.32-3.32,3.33-8.71,0-12.04l-0.21-0.21c-1-1-2.19-1.71-3.5-2.12c1.4-3.13,0.82-6.94-1.75-9.5l-0.04-0.04 c-1.71-1.71-4.03-2.72-6.45-2.65c-1.76,0.05-3.48,0.54-4.8,1.67c-0.29,0.25-2.61,2.55-3.11,3.04c-0.8,0.79-0.71,2.1,0.19,2.77 l0.88,0.66c0.61,0.46,1.47,0.4,2.01-0.14l2.29-2.29c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-11.3,11.3c-0.85-0.69-1.81-1.21-2.84-1.53c1.4-3.13,0.82-6.94-1.75-9.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-1.22,0-2.41,0.26-3.49,0.74c-0.39-1.28-1.1-2.49-2.11-3.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-2.27,0-4.41,0.89-6.02,2.49L34.35,48.43c-0.4-1.34-1.13-2.58-2.15-3.6l-1.49-1.49 c-1.26-1.26-2.94-1.96-4.73-1.96c-1.79,0-3.47,0.7-4.73,1.96l-8.49,8.49l-0.58,0.58l-3.64,3.64c-3.64,3.64-5.52,9.27-5.3,15.84 c0.32,9.4,4.72,18.68,11.76,24.83c9.22,8.05,15.07,11.87,23.37,11.87c1.2,0,2.47-0.08,3.9-0.24c9.42-1.05,16.6-7.92,17.23-8.55 l0.44-0.42c0.47-0.04,0.93-0.07,1.43-0.13c9.42-1.05,16.6-7.92,17.23-8.55l23.59-22.88l0.05-0.05 C104.16,65.87,105.05,63.2,104.64,60.44z M92.38,43.04c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L81.75,63.66 c-0.74-0.51-1.55-0.92-2.4-1.17l0.16-0.16c2.62-2.62,3.16-6.53,1.65-9.7l8.43-8.43C90.36,43.43,91.37,43.04,92.38,43.04z M56.33,96.56c0,0-6.37,6.37-14.55,7.28c-1.2,0.13-2.32,0.21-3.4,0.21c-6.26,0-10.96-2.53-20.38-10.75 c-11.05-9.64-13.16-27.1-6.24-34.03l3.64-3.64l0.58-0.58l8.49-8.49c0.42-0.42,0.97-0.63,1.51-0.63c0.55,0,1.1,0.21,1.51,0.63 l1.49,1.49c1.55,1.55,1.55,4.06,0,5.6l-6.13,6.2c-0.89,0.9-0.89,2.35,0.01,3.25c0.45,0.45,1.04,0.67,1.63,0.67 c0.59,0,1.18-0.22,1.63-0.67l8.38-8.38l18.7-18.7c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-17.2,17.2c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59 l20.38-20.38c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.61L50.56,67.56 c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59L70.48,53.3c0.77-0.77,1.79-1.16,2.8-1.16 c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c0.38,0.38,0.66,0.81,0.85,1.28l0.27,1.59l0.04-0.04c-0.01,1.01-0.39,2.01-1.16,2.78 L59.54,75.87c-0.91,0.91-0.91,2.4,0.02,3.3c0.45,0.44,1.04,0.66,1.62,0.66c0.59,0,1.19-0.23,1.64-0.68l11.3-11.3 c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L56.33,96.56z M99.03,64.57 l-23.6,22.89c0,0-3.81,3.8-9.32,5.94L83.1,76.93l0.02-0.02l0.02-0.02c1.61-1.61,2.49-3.74,2.49-6.02c0-1.3-0.3-2.55-0.84-3.68 l8.42-8.42c0.77-0.77,1.79-1.16,2.8-1.16s2.03,0.39,2.8,1.16l0.21,0.21C100.58,60.51,100.58,63.02,99.03,64.57z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.4em',\n    fontFamily: 'body',\n    color: theme => theme.rawColors?.text,\n  },\n  icon: {\n    height: '2.2em',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.05)',\n        },\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    fontFamily: 'body',\n    borderRadius: '100%',\n    fontSize: '.6em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx, ThemeUIStyleObject } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapHeart } from './icons/ClapHeart';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.2',\n    transform: 'translateY(-3.2em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.8em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5.2em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1.05)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: theme => theme.rawColors?.secondary,\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: theme => theme.rawColors?.primary,\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Heart: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    const trianglesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      borderLeft: `${TRIANGLES.size}em solid transparent`,\n      borderRight: `${TRIANGLES.size}em solid transparent`,\n      borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const trianglesContainerStyle = {\n      transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n      transformOrigin: `${TRIANGLES.size}em 0`,\n      marginLeft: `-${TRIANGLES.size}em`,\n    };\n\n    triangles.push(\n      <div key={i} sx={trianglesContainerStyle}>\n        <div sx={trianglesStyle} />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    const circlesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      padding: `${CIRCLES.size}em`,\n      backgroundColor: `${CIRCLES.color}`,\n      borderRadius: '100%',\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const circleContainerStyle = {\n      transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n      transformOrigin: `${CIRCLES.size}em 0`,\n      marginLeft: `-${CIRCLES.size}em`,\n    };\n\n    circles.push(\n      <div key={i} sx={circleContainerStyle}>\n        <div sx={circlesStyle} />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const iconStyle = {\n    ...style.icon,\n    fill: theme =>\n      userClaps && userClaps > 0\n        ? theme.rawColors?.highlight\n        : theme.rawColors?.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <ClapHeart sx={iconStyle} />\n        </button>\n      </div>\n\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 33 33\" aria-label=\"clap\" className={className}>\n    <path\n      d=\"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.6em',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '2em',\n    fill: theme => theme.rawColors?.icon,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        opacity: 0.65,\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(0.9)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'inherit',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n    '@media (hover: hover)': {\n      ':hover': {\n        opacity: '1',\n      },\n    },\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapEmpty } from './icons/ClapEmpty';\nimport { ClapFull } from './icons/ClapFull';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.5',\n    transform: 'translateY(-2.6em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.4em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Medium: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    triangles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n          transformOrigin: `${TRIANGLES.size}em 0`,\n          marginLeft: `-${TRIANGLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            borderLeft: `${TRIANGLES.size}em solid transparent`,\n            borderRight: `${TRIANGLES.size}em solid transparent`,\n            borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    circles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n          transformOrigin: `${CIRCLES.size}em 0`,\n          marginLeft: `-${CIRCLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            padding: `${CIRCLES.size}em`,\n            backgroundColor: `${CIRCLES.color}`,\n            borderRadius: '100%',\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const Icon = userClaps && userClaps > 0 ? ClapFull : ClapEmpty;\n\n  const iconStyle = {\n    ...style.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <Icon sx={iconStyle} />\n        </button>\n      </div>\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Heart } from \"./templates/Heart\";\nimport { Medium } from \"./templates/Medium\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tMedium,\n\tHeart,\n};\n\nexport interface ClapButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserClaps: number | undefined;\n\ttotalClaps: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.ClapButton[\"data\"];\n\nexport interface ClapButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: ClapButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<ClapButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<ClapButtonTemplateComponentProps>;\n\t\tMedium: React.FC<ClapButtonTemplateComponentProps>;\n\t\tHeart: React.FC<ClapButtonTemplateComponentProps>;\n\t};\n};\n\nconst ClapButton: FCWithTemplates<ClapButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.ClapButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.clapButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.clapButtons.press({ id, namespace });\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPress) {\n\t\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_claps < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalClaps: response?.attributes.total_claps || 0,\n\t\tuserClaps: response?.attributes.user_claps || 0,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nClapButton.templates = templates;\n\nexport { ClapButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tbg: (theme) => theme.rawColors?.background,\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tborderRadius: \"100% !important\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseLikeButtonProps extends LikeButtonTemplateComponentProps {\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseLikeButtonProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePress(e);\n\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserLiked ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClick}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...buttonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t<Icon sx={iconStyle} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Simple: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ThumbIcon} />;\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\" />\n    </g>\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".4em\",\n\t\tfontFamily: \"body\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t},\n\ticon: {\n\t\theight: \"1.7em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"100% !important\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\"@media (hover: hover)\": {\n\t\t\t\":hover\": {\n\t\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\t\tbackgroundColor: \"#E5214A20\",\n\t\t\t},\n\t\t},\n\t},\n\tdotsRotContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tdotsContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%) rotate(165deg)\",\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { TwitterHeartFull } from \"./icons/TwitterHeartFull\";\nimport { TwitterHeartEmpty } from \"./icons/TwitterHeartEmpty\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst dotBurst = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-0.5em) scale(1)\",\n\t},\n\t\"52%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-1.6em) scale(1.3)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"translateY(-2.7em) scale(0)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst DOTS = {\n\tcount: 6,\n\tsize: 0.2,\n\tcolors: [\n\t\t\"lightcoral\",\n\t\t\"yellow\",\n\t\t\"pink\",\n\t\t\"lightseagreen\",\n\t\t\"orange\",\n\t\t\"aliceblue\",\n\t],\n\tdurationMs: 600,\n\tanimation: dotBurst,\n};\n\nconst RING = {\n\tcolor: \"#e095ed\",\n\tdurationMs: DOTS.durationMs,\n\tanimation: ringScale,\n};\n\nconst HEART = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Twitter: FC<LikeButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst dots = [];\n\tfor (let i = 0; i < DOTS.count; i++) {\n\t\tdots.push(\n\t\t\t<div\n\t\t\t\tkey={i}\n\t\t\t\tsx={{\n\t\t\t\t\ttransform: `rotate(${(360 / DOTS.count) * i}deg)`,\n\t\t\t\t\ttransformOrigin: `${DOTS.size}em 0`,\n\t\t\t\t\tmarginLeft: `-${DOTS.size}em`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tsx={{\n\t\t\t\t\t\topacity: \"0\",\n\t\t\t\t\t\twidth: `${DOTS.size}em`,\n\t\t\t\t\t\theight: `${DOTS.size}em`,\n\t\t\t\t\t\tborderRadius: `${DOTS.size}em`,\n\t\t\t\t\t\tbackgroundColor: `${DOTS.colors[i]}`,\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t? `${dotBurst} ${DOTS.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>,\n\t\t);\n\t}\n\n\tconst ring = (\n\t\t<div\n\t\t\tsx={{\n\t\t\t\t...style.ring,\n\t\t\t\t...{\n\t\t\t\t\tborder: `1px solid ${RING.color}`,\n\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), DOTS.durationMs);\n\t\t\t}\n\t\t\thandlePress(e);\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n\n\tconst buttonStyle = {\n\t\tfill: userLiked && !isLoading ? \"#E5214A\" : \"#aaa\",\n\t\tanimation: animationActive\n\t\t\t? `${HEART.animation} ${HEART.durationMs}ms ease forwards`\n\t\t\t: null,\n\t\t// fill: (theme) =>\n\t\t// userLiked && !isLoading\n\t\t// \t? theme.rawColors?.primary\n\t\t// \t: theme.rawColors?.icon,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button onClick={handleClick} sx={style.button} disabled={isLoading}>\n\t\t\t\t<div sx={style.dotsContainer}> {dots} </div>\n\t\t\t\t<div sx={style.dotsRotContainer}> {dots} </div>\n\t\t\t\t{ring}\n\t\t\t\t<Icon\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t...style.icon,\n\t\t\t\t\t\t...buttonStyle,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Twitter } from \"./templates/Twitter\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Heart } from \"./templates/Heart\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tTwitter,\n\tChevron,\n\tHeart,\n};\n\nexport interface LikeButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserLiked: boolean | undefined;\n\ttotalLikes: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.LikeButton[\"data\"];\n\nexport interface LikeButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: LikeButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<LikeButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<LikeButtonTemplateComponentProps>;\n\t\tTwitter: React.FC<LikeButtonTemplateComponentProps>;\n\t\tChevron: React.FC<LikeButtonTemplateComponentProps>;\n\t\tHeart: React.FC<LikeButtonTemplateComponentProps>;\n\t};\n};\n\nconst LikeButton: FCWithTemplates<LikeButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.LikeButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.likeButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.likeButtons.press({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_likes < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalLikes: response?.attributes.total_likes || 0,\n\t\tuserLiked: response?.attributes.user_has_liked,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nLikeButton.templates = templates;\n\nexport { LikeButton };\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Chevron: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ChevronIcon} />;\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Simple: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<ThumbIcon sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ThumbIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tid=\"Chevron\"\n\t\tclassName={className}\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Chevron: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<div>\n\t\t\t\t\t<ChevronIcon sx={iconStyleUp} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ChevronIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const RedditArrow = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path d=\"m1005.6 678-373.2-500.4c-16.801-22.801-50.398-22.801-67.199 0l-372 500.4c-20.398 27.602-1.1992 66 33.602 66h163.2v253.2c0 18 14.398 33.602 33.602 33.602h352.8c18 0 33.602-14.398 33.602-33.602l-0.003906-252h162c34.801 0 54-39.598 33.602-67.199z\" />\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"theme-ui\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"column\",\n\t},\n\tcounter: {\n\t\tminWidth: \"2em\",\n\t\ttextAlign: \"center\",\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.1em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: \"#878a8c\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none\",\n\t\toutline: \"none\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"3px\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"2em\",\n\t\theight: \"2em\",\n\t\tpadding: \"0\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { RedditArrow } from \"./icons/RedditArrow\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Reddit: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === 1 ? \"#cc3700\" : \"#25252550\",\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === -1 ? \"#5a75cc\" : \"#25252550\",\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveUp(false)}\n\t\t\t\tsx={style.button}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveDown(false)}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\ttransform: \"rotate(180deg)\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleDown} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Reddit } from \"./templates/Reddit\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tChevron,\n\tReddit,\n};\n\nexport interface UpdownButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserVoteDirection: number | undefined;\n\ttotalScore: number | undefined;\n\thandlePressUp: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\thandlePressDown: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.UpdownButton[\"data\"];\n\nexport interface UpdownButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPressUp?: (props: CallbackProps) => void;\n\tonPressDown?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: UpdownButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<UpdownButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tChevron: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tReddit: React.FC<UpdownButtonTemplateComponentProps>;\n\t};\n};\n\nconst UpdownButton: FCWithTemplates<UpdownButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPressUp,\n\tonPressDown,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.UpdownButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.updownButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad]);\n\n\tconst handlePressUp = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressUp({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressUp) {\n\t\t\t\t\t\tonPressUp(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressUp],\n\t);\n\n\tconst handlePressDown = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressDown({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressDown) {\n\t\t\t\t\t\tonPressDown(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressDown],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_score < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalScore: response?.attributes.total_score || 0,\n\t\tuserVoteDirection: response?.attributes.user_vote_direction || 0,\n\t\thandlePressUp,\n\t\thandlePressDown,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nUpdownButton.templates = templates;\n\nexport { UpdownButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t\twhiteSpace: \"nowrap\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\ticonActive: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.primary,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n\tbuttonInactive: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseRateButtonProps extends RateButtonTemplateComponentProps {\n\ticonColor?: { active: string; inactive: string };\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseRateButtonProps> = ({\n\tisLoading,\n\tuserRating,\n\taverageRating,\n\ttotalVotes,\n\tshowRating = \"average\",\n\ttotalReviewsLabel,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n\ticonColor,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>, index: number) => {\n\t\t\te.preventDefault();\n\n\t\t\thandlePress(index);\n\n\t\t\tif (!userRating) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userRating, handlePress],\n\t);\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t{Array.from(Array(5).keys()).map((index) => {\n\t\t\t\tconst selectedRating =\n\t\t\t\t\tshowRating === \"average\" ? averageRating : userRating;\n\n\t\t\t\tconst currentRating = selectedRating === index + 1;\n\n\t\t\t\tlet iconStyle = {\n\t\t\t\t\t...(selectedRating > index ? style.iconActive : style.icon),\n\t\t\t\t\t...(showRating === \"user\" &&\n\t\t\t\t\t\tcurrentRating && {\n\t\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t}),\n\t\t\t\t};\n\n\t\t\t\tif (iconColor) {\n\t\t\t\t\ticonStyle = {\n\t\t\t\t\t\t...iconStyle,\n\t\t\t\t\t\tfill:\n\t\t\t\t\t\t\tselectedRating > index ? iconColor.active : iconColor.inactive,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tkey={`${Icon.toString()}${index}`}\n\t\t\t\t\t\tonClick={(e) => handleClick(e, index + 1)}\n\t\t\t\t\t\tdisabled={isLoading || showRating === \"average\"}\n\t\t\t\t\t\tsx={showRating === \"user\" ? style.button : style.buttonInactive}\n\t\t\t\t\t>\n\t\t\t\t\t\t{currentRating && <div sx={ringStyle} />}\n\t\t\t\t\t\t<Icon sx={iconStyle} className={`icon-${index}`} />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t{isCounterVisible && showRating === \"average\" && (\n\t\t\t\t<span sx={style.counter}>\n\t\t\t\t\t{totalVotes}{\" \"}\n\t\t\t\t\t{totalReviewsLabel || `review${totalVotes !== 1 ? \"s\" : \"\"}`}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Star: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn (\n\t\t<Base\n\t\t\t{...props}\n\t\t\tIcon={Icon}\n\t\t\ticonColor={{ active: \"rgb(249, 199, 61)\", inactive: \"#e6e6e6\" }}\n\t\t/>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Custom } from \"./templates/Custom\";\nimport { Heart } from \"./templates/Heart\";\nimport { Star } from \"./templates/Star\";\nimport { camelizeKeys } from \"humps\";\nimport { useForceUpdate } from \"../contexts/RatingContext\";\n\nconst templates = {\n\tCustom,\n\tHeart,\n\tStar,\n};\n\nexport interface RateButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserRating: number;\n\taverageRating: number;\n\ttotalVotes: number;\n\thandlePress: (rating: number) => void;\n\tisCounterVisible: boolean;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n}\n\ntype CallbackProps = Components.Schemas.RateButton[\"data\"];\n\nexport interface RateButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: RateButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<RateButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tCustom: React.FC<RateButtonTemplateComponentProps>;\n\t\tHeart: React.FC<RateButtonTemplateComponentProps>;\n\t\tStar: React.FC<RateButtonTemplateComponentProps>;\n\t};\n};\n\nconst RateButton: FCWithTemplates<RateButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tshowRating,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\tconst { registeredButtons, forceUpdate } = useForceUpdate();\n\tconst rateButtonId = `${namespace || \"no-namespace\"}:${id}`;\n\tconst shouldUpdate = registeredButtons[rateButtonId];\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.RateButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.rateButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse, shouldUpdate]);\n\n\tconst handlePress = useCallback(\n\t\tasync (rating: number) => {\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.rateButtons.press({\n\t\t\t\t\tid,\n\t\t\t\t\tnamespace,\n\t\t\t\t\trating,\n\t\t\t\t});\n\n\t\t\t\tsetResponse(result.data);\n\t\t\t\tforceUpdate({ ...registeredButtons, [rateButtonId]: {} });\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse, shouldUpdate],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.average_rating < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tshowRating,\n\t\tisLoading: !response,\n\t\ttotalVotes: response?.attributes.total_votes || 0,\n\t\taverageRating: response?.attributes.average_rating || 0,\n\t\tuserRating: response?.attributes.user_rating,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Star;\n\n\treturn <Component {...props} />;\n};\n\nRateButton.templates = templates;\n\nexport { RateButton };\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Custom: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n"],"names":["getSessionId","window","Error","legacySessionId","localStorage","getItem","setItem","removeItem","sessionId","newSessionId","Math","random","toString","substring","generateRecaptchaToken","siteKey","action","src","opts","Promise","resolve","reject","async","integrity","type","sc","document","querySelector","script","createElement","setAttribute","onload","onerror","event","body","appendChild","then","grecaptcha","ready","_context","execute","console","error","ApiError","requestInfo","requestInit","status","errors","_this","now","Date","getTime","LikeButtonClient","client","this","_proto","press","id","namespace","put","info","enqueueToBatch","ClapButtonClient","_proto2","UpdownButtonClient","_proto3","pressUp","pressDown","RateButtonClient","_proto4","data","attributes","rating","Client","recaptchaSiteKey","baseUrl","disableSessionId","apiKey","likeButtons","clapButtons","updownButtons","rateButtons","func","wait","timer","timestamp","args","deferreds","onTimeout","_onTimeout","elapsed","setTimeout","call","reset","_call","_context2","results","i","length","callArgs","push","debounceCollect","batch","bind","_proto5","get","url","request","calls","method","urls","map","responses","recaptchaAction","input","init","defaultHeaders","Accept","Content-Type","Authorization","headers","JSON","stringify","fetch","response","json","ClientContext","React","createContext","RatingContext","undefined","RatingProvider","children","useState","Provider","value","registeredButtons","forceUpdate","defaultTheme","icon","background","text","primary","secondary","highlight","clientInstances","getClientInstanceForSettings","settings","key","useSafeEffect","effect","deps","setState","useEffect","_safeRunner","safeRunner","ClapFull","viewBox","className","d","style","root","color","fontFamily","display","alignItems","counter","ml","theme","rawColors","_theme$rawColors","height","margin","fill","_theme$rawColors2","ring","opacity","width","borderRadius","border","borderColor","_theme$rawColors3","boxSizing","position","top","left","transform","button","outline","boxShadow","cursor","appearance","fontSize","transition","padding","lineHeight","bg","_theme$rawColors4",":hover","baloon","justifyContent","backgroundColor","centeredContainer","buttonContainer","BALOON","keyframes","0%","72%","100%","ICON","52%","RING","borderWidth","Simple","isLoading","userClaps","totalClaps","handlePress","isCounterVisible","animationActive","setAnimationActive","timeoutId","useRef","handleClick","useCallback","e","current","clearTimeout","baloonStyle","animation","iconStyle","ringStyle","buttonStyle","jsx","sx","_timeoutId$current","onClick","disabled","ClapHeart","version","xmlns","x","y","p","@media (hover: hover)","svg",":active","baloonFade","triangleFade","32%","TRIANGLES","CIRCLES","ClapEmpty","fillRule","ClapButton","hideCounterIfLessThan","component","onLoad","onPress","useContext","setResponse","result","camelizeKeys","message","preventDefault","total_claps","props","user_claps","templates","Medium","triangles","transformOrigin","marginLeft","borderLeft","borderRight","borderTop","circles","Icon","Heart","ThumbIcon","iconScale","Base","userLiked","totalLikes","TwitterHeartFull","TwitterHeartEmpty","backfaceVisibility","dotsRotContainer","dotsContainer","dotBurst","DOTS","HEART","ChevronIcon","LikeButton","total_likes","user_has_liked","Twitter","dots","Chevron","mr","minWidth","textAlign","fontWeight","userVoteDirection","totalScore","handlePressUp","handlePressDown","animationActiveUp","setAnimationActiveUp","animationActiveDown","setAnimationActiveDown","handleClickUp","handleClickDown","iconStyleUp","iconStyleDown","ringStyleUp","ringStyleDown","downButtonStyle","RedditArrow","flexDirection","UpdownButton","onPressUp","onPressDown","_context3","total_score","user_vote_direction","Reddit","onAnimationEnd","whiteSpace","iconActive","buttonInactive","userRating","averageRating","totalVotes","_ref$showRating","showRating","totalReviewsLabel","iconColor","index","Array","from","keys","selectedRating","currentRating","active","inactive","Star","RateButton","context","useForceUpdate","rateButtonId","shouldUpdate","average_rating","total_votes","user_rating","Custom","customTheme","setClient","colors","fonts","ThemeProvider","config","useRootStyles","useLocalStorage","useColorSchemeMediaQuery"],"mappings":"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"}