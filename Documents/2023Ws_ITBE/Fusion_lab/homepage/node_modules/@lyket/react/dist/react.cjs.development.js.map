{"version":3,"file":"react.cjs.development.js","sources":["../src/Client/sessionId.ts","../src/Client/lazyLoadScript.ts","../src/Client/generateRecaptchaToken.ts","../src/Client/ApiError.ts","../src/Client/debounceCollect.ts","../src/Client/index.ts","../src/contexts/ClientContext.ts","../src/contexts/RatingContext.tsx","../src/theme.ts","../src/Provider.tsx","../src/hooks/useSafeEffect.ts","../src/ClapButton/templates/Simple/icons/ClapFull.tsx","../src/ClapButton/templates/Simple/style.ts","../src/ClapButton/templates/Simple/index.tsx","../src/ClapButton/templates/Heart/icons/ClapHeart.tsx","../src/ClapButton/templates/Heart/style.ts","../src/ClapButton/templates/Heart/index.tsx","../src/ClapButton/templates/Medium/icons/ClapEmpty.tsx","../src/ClapButton/templates/Medium/icons/ClapFull.tsx","../src/ClapButton/templates/Medium/style.ts","../src/ClapButton/templates/Medium/index.tsx","../src/ClapButton/index.tsx","../src/LikeButton/templates/Simple/icons/ThumbIcon.tsx","../src/LikeButton/templates/Base/style.ts","../src/LikeButton/templates/Base/index.tsx","../src/LikeButton/templates/Simple/index.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartFull.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartEmpty.tsx","../src/LikeButton/templates/Twitter/style.ts","../src/LikeButton/templates/Twitter/index.tsx","../src/LikeButton/templates/Chevron/icons/ChevronIcon.tsx","../src/LikeButton/templates/Chevron/index.tsx","../src/LikeButton/templates/Heart/icons/Icon.tsx","../src/LikeButton/templates/Heart/index.tsx","../src/LikeButton/index.tsx","../src/UpdownButton/templates/Simple/icons/ThumbIcon.tsx","../src/UpdownButton/templates/Simple/style.ts","../src/UpdownButton/templates/Simple/index.tsx","../src/UpdownButton/templates/Chevron/icons/ChevronIcon.tsx","../src/UpdownButton/templates/Chevron/style.ts","../src/UpdownButton/templates/Chevron/index.tsx","../src/UpdownButton/templates/Reddit/icons/RedditArrow.tsx","../src/UpdownButton/templates/Reddit/style.ts","../src/UpdownButton/templates/Reddit/index.tsx","../src/UpdownButton/index.tsx","../src/RateButton/templates/Custom/icons/Icon.tsx","../src/RateButton/templates/Base/style.ts","../src/RateButton/templates/Base/index.tsx","../src/RateButton/templates/Custom/index.tsx","../src/RateButton/templates/Heart/icons/Icon.tsx","../src/RateButton/templates/Heart/index.tsx","../src/RateButton/templates/Star/icons/Icon.tsx","../src/RateButton/templates/Star/index.tsx","../src/RateButton/index.tsx"],"sourcesContent":["export const getSessionId = () => {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  }\n\n  //TODO: remove sessionId legacy name\n  const legacySessionId = window.localStorage.getItem('sessionId');\n\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n\n  const sessionId = window.localStorage.getItem('lyket-session-id');\n\n  if (sessionId) {\n    return sessionId;\n  }\n\n  const newSessionId =\n    Math.random()\n      .toString(36)\n      .substring(2, 15) +\n    Math.random()\n      .toString(36)\n      .substring(2, 15);\n\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n\n  return newSessionId;\n};\n","type Options = Partial<{\n  async: boolean;\n  integrity: string;\n  type: string;\n}>;\n\nexport function lazyLoadScript(src: string, opts: Options = {}) {\n  return new Promise(function(resolve, reject) {\n    const { async, integrity, type } = opts;\n\n    const sc = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.src = src;\n\n    if (async) { script.setAttribute('async', 'true'); }\n    if (integrity) { script.setAttribute('integrity', integrity); }\n    if (type) { script.setAttribute('type', type); }\n\n    script.onload = () => resolve(script);\n    script.onerror = event => reject(event);\n\n    document.body.appendChild(script);\n  });\n}\n","import { lazyLoadScript } from './lazyLoadScript';\n\ndeclare const grecaptcha: any;\n\nexport function generateRecaptchaToken(\n  siteKey: string,\n  action: string\n): Promise<string> {\n  return lazyLoadScript(\n    `https://www.google.com/recaptcha/api.js?render=${siteKey}`\n  ).then(\n    () =>\n      new Promise((resolve, reject) => {\n        grecaptcha.ready(async () => {\n          try {\n            const token = await grecaptcha.execute(siteKey, {\n              action,\n            });\n            resolve(token);\n          } catch (e) {\n            console.error('recaptcha error!', e);\n            reject(e);\n          }\n        });\n      })\n  );\n}\n","export class ApiError extends Error {\n  requestInfo: RequestInfo;\n  requestInit: RequestInit;\n  status: Response['status'];\n  errors: [Response];\n\n  constructor(requestInfo, requestInit, status, errors) {\n    super(`Failed API request to ${requestInfo} with status ${status}`);\n\n    this.requestInfo = requestInfo;\n    this.requestInit = requestInit;\n    this.status = status;\n    this.errors = errors;\n  }\n}\n","const now = () => new Date().getTime();\n\ntype Deferred = {\n  resolve: (value: any) => void;\n  reject: (value: any) => void;\n};\n\nexport function debounceCollect<Args extends any[]>(\n  func: (calls: Args[]) => Promise<any[]>,\n  wait: number\n) {\n  let timer: NodeJS.Timeout | null;\n  let timestamp: number;\n\n  let args: Args[] = [];\n  let deferreds: Deferred[] = [];\n\n  async function onTimeout() {\n    let elapsed = now() - timestamp;\n\n    if (elapsed < wait && elapsed > 0) {\n      timer = setTimeout(onTimeout, wait - elapsed);\n    } else {\n      timer = null;\n      await call();\n      if (!timer) { reset(); }\n    }\n  }\n\n  async function call() {\n    const results = await func.call(null, args);\n\n    for (let i = 0; i < results.length; i++) {\n      deferreds[i].resolve(results[i]);\n    }\n  }\n\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n\n  return function debounced(...callArgs: Args): Promise<any> {\n    args.push(callArgs);\n\n    timestamp = now();\n\n    if (!timer) { timer = setTimeout(onTimeout, wait); }\n\n    return new Promise((resolve, reject) => {\n      deferreds.push({ resolve, reject });\n    });\n  };\n}\n","import { getSessionId } from \"./sessionId\";\nimport { generateRecaptchaToken } from \"./generateRecaptchaToken\";\nimport { ApiError } from \"./ApiError\";\nimport { debounceCollect } from \"./debounceCollect\";\n\nexport type ConstructorArguments = {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tbaseUrl?: string;\n\tdisableSessionId?: boolean;\n};\n\nclass LikeButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonPress.PathParameters): Promise<Paths.LikeButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/like-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/like-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonInfo.PathParameters): Promise<Paths.LikeButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/like-buttons/${namespace}/${id}` : `/like-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass ClapButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonPress.PathParameters): Promise<Paths.ClapButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/clap-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/clap-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonInfo.PathParameters): Promise<Paths.ClapButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/clap-buttons/${namespace}/${id}` : `/clap-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass UpdownButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonInfo.PathParameters): Promise<Paths.UpdownButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}`\n\t\t\t\t: `/updown-buttons/${id}`,\n\t\t);\n\t}\n\n\tpressUp({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressUp.PathParameters): Promise<Paths.UpdownButtonPressUp.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-up`\n\t\t\t\t: `/updown-buttons/${id}/press-up`,\n\t\t\t\"pressUp\",\n\t\t);\n\t}\n\n\tpressDown({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressDown.PathParameters): Promise<Paths.UpdownButtonPressDown.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-down`\n\t\t\t\t: `/updown-buttons/${id}/press-down`,\n\t\t\t\"pressDown\",\n\t\t);\n\t}\n}\n\nclass RateButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t\trating,\n\t}: Paths.RateButtonPress.PathParameters): Promise<Paths.RateButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/rate-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/rate-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t\t{\n\t\t\t\ttype: \"rate-buttons\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { rating },\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.RateButtonInfo.PathParameters): Promise<Paths.RateButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/rate-buttons/${namespace}/${id}` : `/rate-buttons/${id}`,\n\t\t);\n\t}\n}\n\nexport class Client {\n\tapiKey: string;\n\tbaseUrl: string;\n\tdisableSessionId: boolean;\n\trecaptchaSiteKey: string | undefined;\n\tlikeButtons: LikeButtonClient;\n\tclapButtons: ClapButtonClient;\n\trateButtons: RateButtonClient;\n\tupdownButtons: UpdownButtonClient;\n\tenqueueToBatch: (url: string) => Promise<any>;\n\n\tconstructor({\n\t\tapiKey,\n\t\trecaptchaSiteKey,\n\t\tbaseUrl,\n\t\tdisableSessionId,\n\t}: ConstructorArguments) {\n\t\tthis.apiKey = apiKey;\n\t\tthis.recaptchaSiteKey = recaptchaSiteKey;\n\t\tthis.disableSessionId = disableSessionId;\n\t\tthis.baseUrl = baseUrl || \"https://api.lyket.dev\";\n\n\t\tthis.likeButtons = new LikeButtonClient(this);\n\t\tthis.clapButtons = new ClapButtonClient(this);\n\t\tthis.updownButtons = new UpdownButtonClient(this);\n\t\tthis.rateButtons = new RateButtonClient(this);\n\n\t\tthis.enqueueToBatch = debounceCollect<[string]>(this.batch.bind(this), 500);\n\t}\n\n\tget(url: string) {\n\t\treturn this.request(url);\n\t}\n\n\tasync batch(calls: [string][]) {\n\t\t// return Promise.all(calls.map(args => this.request(args[0])));\n\t\tconst url: RequestInfo = \"/buttons/batch\";\n\n\t\tconst result = await this.request(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: {\n\t\t\t\ttype: \"batch\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { urls: calls.map((args) => args[0]) },\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn result.data.attributes.responses;\n\t}\n\n\tput(url: string, recaptchaAction: string, body = {}) {\n\t\treturn this.request(url, { method: \"PUT\", recaptchaAction, body });\n\t}\n\n\tasync request(\n\t\tinput: string,\n\t\tinit?: {\n\t\t\tmethod: string;\n\t\t\tbody?: Record<string, any>;\n\t\t\trecaptchaAction?: string;\n\t\t\theaders?: Record<string, string>;\n\t\t},\n\t) {\n\t\tif (typeof window === \"undefined\") {\n\t\t\tthrow new Error(\"Client is supposed to be used client-side only!\");\n\t\t}\n\n\t\tconst defaultHeaders: Record<string, string> = {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${this.apiKey}`,\n\t\t};\n\n\t\tif (!this.disableSessionId) {\n\t\t\tdefaultHeaders[\"x-session-id\"] = getSessionId();\n\t\t}\n\n\t\tif (this.recaptchaSiteKey && init && init.recaptchaAction) {\n\t\t\tdefaultHeaders[\"x-recaptcha-token\"] = await generateRecaptchaToken(\n\t\t\t\tthis.recaptchaSiteKey,\n\t\t\t\tinit.recaptchaAction,\n\t\t\t);\n\t\t}\n\n\t\tconst url: RequestInfo = `${this.baseUrl}/v1${input}`;\n\t\tconst requestInit: RequestInit = init\n\t\t\t? {\n\t\t\t\t\t...init,\n\t\t\t\t\theaders: { ...defaultHeaders, ...init.headers },\n\t\t\t\t\tbody: init.body && JSON.stringify(init.body),\n\t\t\t  }\n\t\t\t: { headers: defaultHeaders };\n\n\t\tconst response = await fetch(url, requestInit);\n\n\t\tif (response.status < 200 || response.status >= 300) {\n\t\t\tconst errorMessages = await response.json();\n\n\t\t\tthrow new ApiError(\n\t\t\t\turl,\n\t\t\t\trequestInit,\n\t\t\t\tresponse.status,\n\t\t\t\terrorMessages.errors,\n\t\t\t);\n\t\t}\n\n\t\treturn response.json();\n\t}\n}\n","import React from 'react';\nimport { Client } from '../Client';\n\nexport const ClientContext = React.createContext<Client | null>(null);\n","import React, { useState, useContext, createContext } from \"react\";\n\ntype Dispatch = React.Dispatch<React.SetStateAction<{}>>;\ntype State = Record<string, number>;\ntype RatingProviderProps = { children: React.ReactNode };\n\nconst RatingContext = createContext<\n\t{ registeredButtons: State; forceUpdate: Dispatch } | undefined\n>(undefined);\n\nconst RatingProvider = ({ children }: RatingProviderProps) => {\n\tconst [registeredButtons, forceUpdate] = useState({});\n\tconst value = { registeredButtons, forceUpdate };\n\treturn (\n\t\t<RatingContext.Provider value={value}>{children}</RatingContext.Provider>\n\t);\n};\n\nconst useForceUpdate = () => {\n\tconst context = useContext(RatingContext);\n\tif (context === undefined) {\n\t\tthrow new Error(\"useForceUpdate must be used within a RatingProvider\");\n\t}\n\treturn context;\n};\n\nexport { RatingProvider, useForceUpdate };\n","export type ThemeRecord = {\n  colors?: Colors;\n  fonts?: Fonts;\n};\n\ntype Colors = {\n  icon?: string;\n  text?: string;\n  background?: string;\n  primary?: string;\n  secondary?: string;\n  highlight?: string;\n};\n\ntype Fonts = {\n  body?: string;\n};\n\nexport const defaultTheme: ThemeRecord = {\n  colors: {\n    icon: '#292929',\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed',\n  },\n  fonts: {\n    body: 'inherit',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { FC, HTMLAttributes, useState, useEffect, ReactNode } from \"react\";\nimport { jsx, ThemeProvider } from \"theme-ui\";\nimport { Client, ConstructorArguments } from \"./Client\";\nimport { ClientContext } from \"./contexts/ClientContext\";\nimport { RatingProvider } from \"./contexts/RatingContext\";\nimport { defaultTheme, ThemeRecord } from \"./theme\";\n\nexport interface ProviderProps extends HTMLAttributes<HTMLDivElement> {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tdisableSessionId?: boolean;\n\tbaseUrl?: string;\n\tchildren?: ReactNode;\n\ttheme?: ThemeRecord | null;\n}\n\nconst clientInstances: Record<string, Client> = {};\n\nconst getClientInstanceForSettings = (settings: ConstructorArguments) => {\n\tconst key = JSON.stringify(settings);\n\n\tif (clientInstances[key]) {\n\t\treturn clientInstances[key];\n\t}\n\n\tconst client = new Client(settings);\n\tclientInstances[key] = client;\n\treturn client;\n};\n\nexport const Provider: FC<ProviderProps> = ({\n\tapiKey,\n\trecaptchaSiteKey,\n\tdisableSessionId,\n\tbaseUrl,\n\tchildren,\n\ttheme: customTheme,\n}) => {\n\tconst [client, setClient] = useState<Client>(\n\t\tgetClientInstanceForSettings({\n\t\t\tapiKey,\n\t\t\trecaptchaSiteKey,\n\t\t\tdisableSessionId,\n\t\t\tbaseUrl,\n\t\t}),\n\t);\n\n\tuseEffect(() => {\n\t\tsetClient(\n\t\t\tgetClientInstanceForSettings({\n\t\t\t\tapiKey,\n\t\t\t\trecaptchaSiteKey,\n\t\t\t\tdisableSessionId,\n\t\t\t\tbaseUrl,\n\t\t\t}),\n\t\t);\n\t}, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n\n\tconst theme = customTheme || { colors: {}, fonts: {} };\n\tconst colors = { ...defaultTheme.colors, ...theme.colors };\n\tconst fonts = { ...defaultTheme.fonts, ...theme.fonts };\n\n\treturn (\n\t\t<ThemeProvider\n\t\t\ttheme={{\n\t\t\t\tconfig: {\n\t\t\t\t\tuseRootStyles: false,\n\t\t\t\t\tuseLocalStorage: false,\n\t\t\t\t\tuseColorSchemeMediaQuery: false,\n\t\t\t\t},\n\t\t\t\tcolors,\n\t\t\t\tfonts,\n\t\t\t}}\n\t\t>\n\t\t\t<ClientContext.Provider value={client}>\n\t\t\t\t<RatingProvider>{children}</RatingProvider>\n\t\t\t</ClientContext.Provider>\n\t\t</ThemeProvider>\n\t);\n};\n","import React, { useState, useEffect } from 'react';\n\ntype PromiseFactory = () => Promise<any>;\n\nexport const useSafeEffect = (\n  effect: PromiseFactory,\n  deps?: React.DependencyList | undefined\n) => {\n  const setState = useState<boolean>()[1];\n\n  return useEffect(() => {\n    async function safeRunner() {\n      try {\n        await effect();\n      } catch (e) {\n        setState(() => {\n          throw e;\n        });\n      }\n    }\n\n    safeRunner();\n    // eslint-disable-next-line\n  }, [...(deps || []), setState]);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    color: theme => theme.rawColors?.text,\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1.6em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'body',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.8em',\n    width: '2.8em',\n    top: '-1.4em',\n    left: '-1.4em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { ClapButtonTemplateComponentProps } from \"../..\";\nimport { ClapFull } from \"./icons/ClapFull\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState, useRef } from \"react\";\nimport { style } from \"./style\";\n\nconst baloonFade = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-3.2em)\",\n\t},\n\t\"72%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-4em)\",\n\t},\n\t\"100%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-6em)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst BALOON = {\n\tdurationMs: 800,\n\tanimation: baloonFade,\n};\n\nconst ICON = {\n\tdurationMs: 700,\n\tanimation: iconScale,\n};\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nexport const Simple: FC<ClapButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserClaps,\n\ttotalClaps,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tsetAnimationActive(true);\n\t\t\tif (timeoutId.current) {\n\t\t\t\tclearTimeout(timeoutId.current);\n\t\t\t}\n\t\t\ttimeoutId.current = setTimeout(\n\t\t\t\t() => setAnimationActive(false),\n\t\t\t\tBALOON.durationMs,\n\t\t\t);\n\t\t\thandlePress(e);\n\t\t},\n\t\t[handlePress],\n\t);\n\n\tconst baloonStyle = {\n\t\t...style.baloon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\t...style.button,\n\t\tbg: (theme) =>\n\t\t\tuserClaps ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<div sx={style.buttonContainer}>\n\t\t\t\t<div sx={style.centeredContainer}>\n\t\t\t\t\t<div key={timeoutId.current?.toString()} sx={baloonStyle}>\n\t\t\t\t\t\t{userClaps}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button onClick={handleClick} sx={buttonStyle} disabled={isLoading}>\n\t\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t\t<ClapFull sx={iconStyle} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n\t\t</div>\n\t);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapHeart = ({ className }: Props) => (\n  <svg\n    version=\"1.1\"\n    id=\"ClapHeart\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 110 115\"\n    aria-label=\"clap\"\n    className={className}\n  >\n    <g>\n      <g>\n        <path d=\"M42.68,27.43c-0.7,0-1.4-0.27-1.93-0.8l-5.91-5.91c-1.07-1.07-1.07-2.79,0-3.86c1.07-1.07,2.79-1.07,3.86,0 l5.91,5.91c1.07,1.07,1.07,2.79,0,3.86C44.08,27.16,43.38,27.43,42.68,27.43z\" />\n      </g>\n      <g>\n        <path d=\"M70.43,26.52c-0.7,0-1.4-0.27-1.93-0.8c-1.07-1.07-1.07-2.79,0-3.86l5.91-5.91c1.07-1.07,2.79-1.07,3.86,0 c1.07,1.07,1.07,2.79,0,3.86l-5.91,5.91C71.82,26.25,71.13,26.52,70.43,26.52z\" />\n      </g>\n      <path d=\"M67.23,7.48c-0.12-1.34-0.82-2.56-1.93-3.34l0,0c-1.77-1.24-4.33-0.97-5.94,0.65l-2.8,2.79l-2.79-2.79 c-1.61-1.61-4.17-1.9-5.94-0.65c-1.11,0.78-1.82,2-1.93,3.34c-0.12,1.34,0.36,2.66,1.31,3.61L53.11,17c0.86,0.86,2,1.33,3.22,1.33 c0.07,0,0.15,0,0.23-0.01c0.08,0.01,0.15,0.01,0.23,0.01c1.22,0,2.36-0.47,3.22-1.33l5.91-5.91C66.86,10.14,67.34,8.82,67.23,7.48z\" />\n      <path d=\"M104.64,60.44c-0.28-1.84-1.22-3.52-2.54-4.83l-0.06-0.06c-1.02-1.02-2.25-1.75-3.6-2.15l0.16-0.16 c3.32-3.32,3.33-8.71,0-12.04l-0.21-0.21c-1-1-2.19-1.71-3.5-2.12c1.4-3.13,0.82-6.94-1.75-9.5l-0.04-0.04 c-1.71-1.71-4.03-2.72-6.45-2.65c-1.76,0.05-3.48,0.54-4.8,1.67c-0.29,0.25-2.61,2.55-3.11,3.04c-0.8,0.79-0.71,2.1,0.19,2.77 l0.88,0.66c0.61,0.46,1.47,0.4,2.01-0.14l2.29-2.29c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-11.3,11.3c-0.85-0.69-1.81-1.21-2.84-1.53c1.4-3.13,0.82-6.94-1.75-9.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-1.22,0-2.41,0.26-3.49,0.74c-0.39-1.28-1.1-2.49-2.11-3.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-2.27,0-4.41,0.89-6.02,2.49L34.35,48.43c-0.4-1.34-1.13-2.58-2.15-3.6l-1.49-1.49 c-1.26-1.26-2.94-1.96-4.73-1.96c-1.79,0-3.47,0.7-4.73,1.96l-8.49,8.49l-0.58,0.58l-3.64,3.64c-3.64,3.64-5.52,9.27-5.3,15.84 c0.32,9.4,4.72,18.68,11.76,24.83c9.22,8.05,15.07,11.87,23.37,11.87c1.2,0,2.47-0.08,3.9-0.24c9.42-1.05,16.6-7.92,17.23-8.55 l0.44-0.42c0.47-0.04,0.93-0.07,1.43-0.13c9.42-1.05,16.6-7.92,17.23-8.55l23.59-22.88l0.05-0.05 C104.16,65.87,105.05,63.2,104.64,60.44z M92.38,43.04c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L81.75,63.66 c-0.74-0.51-1.55-0.92-2.4-1.17l0.16-0.16c2.62-2.62,3.16-6.53,1.65-9.7l8.43-8.43C90.36,43.43,91.37,43.04,92.38,43.04z M56.33,96.56c0,0-6.37,6.37-14.55,7.28c-1.2,0.13-2.32,0.21-3.4,0.21c-6.26,0-10.96-2.53-20.38-10.75 c-11.05-9.64-13.16-27.1-6.24-34.03l3.64-3.64l0.58-0.58l8.49-8.49c0.42-0.42,0.97-0.63,1.51-0.63c0.55,0,1.1,0.21,1.51,0.63 l1.49,1.49c1.55,1.55,1.55,4.06,0,5.6l-6.13,6.2c-0.89,0.9-0.89,2.35,0.01,3.25c0.45,0.45,1.04,0.67,1.63,0.67 c0.59,0,1.18-0.22,1.63-0.67l8.38-8.38l18.7-18.7c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-17.2,17.2c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59 l20.38-20.38c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.61L50.56,67.56 c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59L70.48,53.3c0.77-0.77,1.79-1.16,2.8-1.16 c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c0.38,0.38,0.66,0.81,0.85,1.28l0.27,1.59l0.04-0.04c-0.01,1.01-0.39,2.01-1.16,2.78 L59.54,75.87c-0.91,0.91-0.91,2.4,0.02,3.3c0.45,0.44,1.04,0.66,1.62,0.66c0.59,0,1.19-0.23,1.64-0.68l11.3-11.3 c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L56.33,96.56z M99.03,64.57 l-23.6,22.89c0,0-3.81,3.8-9.32,5.94L83.1,76.93l0.02-0.02l0.02-0.02c1.61-1.61,2.49-3.74,2.49-6.02c0-1.3-0.3-2.55-0.84-3.68 l8.42-8.42c0.77-0.77,1.79-1.16,2.8-1.16s2.03,0.39,2.8,1.16l0.21,0.21C100.58,60.51,100.58,63.02,99.03,64.57z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.4em',\n    fontFamily: 'body',\n    color: theme => theme.rawColors?.text,\n  },\n  icon: {\n    height: '2.2em',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.05)',\n        },\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    fontFamily: 'body',\n    borderRadius: '100%',\n    fontSize: '.6em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx, ThemeUIStyleObject } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapHeart } from './icons/ClapHeart';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.2',\n    transform: 'translateY(-3.2em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.8em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5.2em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1.05)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: theme => theme.rawColors?.secondary,\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: theme => theme.rawColors?.primary,\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Heart: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    const trianglesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      borderLeft: `${TRIANGLES.size}em solid transparent`,\n      borderRight: `${TRIANGLES.size}em solid transparent`,\n      borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const trianglesContainerStyle = {\n      transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n      transformOrigin: `${TRIANGLES.size}em 0`,\n      marginLeft: `-${TRIANGLES.size}em`,\n    };\n\n    triangles.push(\n      <div key={i} sx={trianglesContainerStyle}>\n        <div sx={trianglesStyle} />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    const circlesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      padding: `${CIRCLES.size}em`,\n      backgroundColor: `${CIRCLES.color}`,\n      borderRadius: '100%',\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const circleContainerStyle = {\n      transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n      transformOrigin: `${CIRCLES.size}em 0`,\n      marginLeft: `-${CIRCLES.size}em`,\n    };\n\n    circles.push(\n      <div key={i} sx={circleContainerStyle}>\n        <div sx={circlesStyle} />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const iconStyle = {\n    ...style.icon,\n    fill: theme =>\n      userClaps && userClaps > 0\n        ? theme.rawColors?.highlight\n        : theme.rawColors?.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <ClapHeart sx={iconStyle} />\n        </button>\n      </div>\n\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 33 33\" aria-label=\"clap\" className={className}>\n    <path\n      d=\"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.6em',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '2em',\n    fill: theme => theme.rawColors?.icon,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        opacity: 0.65,\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(0.9)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'inherit',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n    '@media (hover: hover)': {\n      ':hover': {\n        opacity: '1',\n      },\n    },\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapEmpty } from './icons/ClapEmpty';\nimport { ClapFull } from './icons/ClapFull';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.5',\n    transform: 'translateY(-2.6em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.4em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Medium: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    triangles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n          transformOrigin: `${TRIANGLES.size}em 0`,\n          marginLeft: `-${TRIANGLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            borderLeft: `${TRIANGLES.size}em solid transparent`,\n            borderRight: `${TRIANGLES.size}em solid transparent`,\n            borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    circles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n          transformOrigin: `${CIRCLES.size}em 0`,\n          marginLeft: `-${CIRCLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            padding: `${CIRCLES.size}em`,\n            backgroundColor: `${CIRCLES.color}`,\n            borderRadius: '100%',\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const Icon = userClaps && userClaps > 0 ? ClapFull : ClapEmpty;\n\n  const iconStyle = {\n    ...style.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <Icon sx={iconStyle} />\n        </button>\n      </div>\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Heart } from \"./templates/Heart\";\nimport { Medium } from \"./templates/Medium\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tMedium,\n\tHeart,\n};\n\nexport interface ClapButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserClaps: number | undefined;\n\ttotalClaps: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.ClapButton[\"data\"];\n\nexport interface ClapButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: ClapButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<ClapButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<ClapButtonTemplateComponentProps>;\n\t\tMedium: React.FC<ClapButtonTemplateComponentProps>;\n\t\tHeart: React.FC<ClapButtonTemplateComponentProps>;\n\t};\n};\n\nconst ClapButton: FCWithTemplates<ClapButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.ClapButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.clapButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.clapButtons.press({ id, namespace });\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPress) {\n\t\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_claps < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalClaps: response?.attributes.total_claps || 0,\n\t\tuserClaps: response?.attributes.user_claps || 0,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nClapButton.templates = templates;\n\nexport { ClapButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tbg: (theme) => theme.rawColors?.background,\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tborderRadius: \"100% !important\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseLikeButtonProps extends LikeButtonTemplateComponentProps {\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseLikeButtonProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePress(e);\n\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserLiked ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClick}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...buttonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t<Icon sx={iconStyle} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Simple: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ThumbIcon} />;\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\" />\n    </g>\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".4em\",\n\t\tfontFamily: \"body\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t},\n\ticon: {\n\t\theight: \"1.7em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"100% !important\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\"@media (hover: hover)\": {\n\t\t\t\":hover\": {\n\t\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\t\tbackgroundColor: \"#E5214A20\",\n\t\t\t},\n\t\t},\n\t},\n\tdotsRotContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tdotsContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%) rotate(165deg)\",\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { TwitterHeartFull } from \"./icons/TwitterHeartFull\";\nimport { TwitterHeartEmpty } from \"./icons/TwitterHeartEmpty\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst dotBurst = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-0.5em) scale(1)\",\n\t},\n\t\"52%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-1.6em) scale(1.3)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"translateY(-2.7em) scale(0)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst DOTS = {\n\tcount: 6,\n\tsize: 0.2,\n\tcolors: [\n\t\t\"lightcoral\",\n\t\t\"yellow\",\n\t\t\"pink\",\n\t\t\"lightseagreen\",\n\t\t\"orange\",\n\t\t\"aliceblue\",\n\t],\n\tdurationMs: 600,\n\tanimation: dotBurst,\n};\n\nconst RING = {\n\tcolor: \"#e095ed\",\n\tdurationMs: DOTS.durationMs,\n\tanimation: ringScale,\n};\n\nconst HEART = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Twitter: FC<LikeButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst dots = [];\n\tfor (let i = 0; i < DOTS.count; i++) {\n\t\tdots.push(\n\t\t\t<div\n\t\t\t\tkey={i}\n\t\t\t\tsx={{\n\t\t\t\t\ttransform: `rotate(${(360 / DOTS.count) * i}deg)`,\n\t\t\t\t\ttransformOrigin: `${DOTS.size}em 0`,\n\t\t\t\t\tmarginLeft: `-${DOTS.size}em`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tsx={{\n\t\t\t\t\t\topacity: \"0\",\n\t\t\t\t\t\twidth: `${DOTS.size}em`,\n\t\t\t\t\t\theight: `${DOTS.size}em`,\n\t\t\t\t\t\tborderRadius: `${DOTS.size}em`,\n\t\t\t\t\t\tbackgroundColor: `${DOTS.colors[i]}`,\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t? `${dotBurst} ${DOTS.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>,\n\t\t);\n\t}\n\n\tconst ring = (\n\t\t<div\n\t\t\tsx={{\n\t\t\t\t...style.ring,\n\t\t\t\t...{\n\t\t\t\t\tborder: `1px solid ${RING.color}`,\n\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), DOTS.durationMs);\n\t\t\t}\n\t\t\thandlePress(e);\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n\n\tconst buttonStyle = {\n\t\tfill: userLiked && !isLoading ? \"#E5214A\" : \"#aaa\",\n\t\tanimation: animationActive\n\t\t\t? `${HEART.animation} ${HEART.durationMs}ms ease forwards`\n\t\t\t: null,\n\t\t// fill: (theme) =>\n\t\t// userLiked && !isLoading\n\t\t// \t? theme.rawColors?.primary\n\t\t// \t: theme.rawColors?.icon,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button onClick={handleClick} sx={style.button} disabled={isLoading}>\n\t\t\t\t<div sx={style.dotsContainer}> {dots} </div>\n\t\t\t\t<div sx={style.dotsRotContainer}> {dots} </div>\n\t\t\t\t{ring}\n\t\t\t\t<Icon\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t...style.icon,\n\t\t\t\t\t\t...buttonStyle,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Chevron: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ChevronIcon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Twitter } from \"./templates/Twitter\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Heart } from \"./templates/Heart\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tTwitter,\n\tChevron,\n\tHeart,\n};\n\nexport interface LikeButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserLiked: boolean | undefined;\n\ttotalLikes: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.LikeButton[\"data\"];\n\nexport interface LikeButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: LikeButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<LikeButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<LikeButtonTemplateComponentProps>;\n\t\tTwitter: React.FC<LikeButtonTemplateComponentProps>;\n\t\tChevron: React.FC<LikeButtonTemplateComponentProps>;\n\t\tHeart: React.FC<LikeButtonTemplateComponentProps>;\n\t};\n};\n\nconst LikeButton: FCWithTemplates<LikeButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.LikeButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.likeButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.likeButtons.press({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_likes < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalLikes: response?.attributes.total_likes || 0,\n\t\tuserLiked: response?.attributes.user_has_liked,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nLikeButton.templates = templates;\n\nexport { LikeButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Simple: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<ThumbIcon sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ThumbIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tid=\"Chevron\"\n\t\tclassName={className}\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Chevron: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<div>\n\t\t\t\t\t<ChevronIcon sx={iconStyleUp} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ChevronIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const RedditArrow = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path d=\"m1005.6 678-373.2-500.4c-16.801-22.801-50.398-22.801-67.199 0l-372 500.4c-20.398 27.602-1.1992 66 33.602 66h163.2v253.2c0 18 14.398 33.602 33.602 33.602h352.8c18 0 33.602-14.398 33.602-33.602l-0.003906-252h162c34.801 0 54-39.598 33.602-67.199z\" />\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"theme-ui\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"column\",\n\t},\n\tcounter: {\n\t\tminWidth: \"2em\",\n\t\ttextAlign: \"center\",\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.1em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: \"#878a8c\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none\",\n\t\toutline: \"none\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"3px\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"2em\",\n\t\theight: \"2em\",\n\t\tpadding: \"0\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { RedditArrow } from \"./icons/RedditArrow\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Reddit: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === 1 ? \"#cc3700\" : \"#25252550\",\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === -1 ? \"#5a75cc\" : \"#25252550\",\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveUp(false)}\n\t\t\t\tsx={style.button}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveDown(false)}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\ttransform: \"rotate(180deg)\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleDown} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Reddit } from \"./templates/Reddit\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tChevron,\n\tReddit,\n};\n\nexport interface UpdownButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserVoteDirection: number | undefined;\n\ttotalScore: number | undefined;\n\thandlePressUp: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\thandlePressDown: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.UpdownButton[\"data\"];\n\nexport interface UpdownButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPressUp?: (props: CallbackProps) => void;\n\tonPressDown?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: UpdownButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<UpdownButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tChevron: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tReddit: React.FC<UpdownButtonTemplateComponentProps>;\n\t};\n};\n\nconst UpdownButton: FCWithTemplates<UpdownButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPressUp,\n\tonPressDown,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.UpdownButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.updownButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad]);\n\n\tconst handlePressUp = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressUp({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressUp) {\n\t\t\t\t\t\tonPressUp(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressUp],\n\t);\n\n\tconst handlePressDown = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressDown({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressDown) {\n\t\t\t\t\t\tonPressDown(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressDown],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_score < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalScore: response?.attributes.total_score || 0,\n\t\tuserVoteDirection: response?.attributes.user_vote_direction || 0,\n\t\thandlePressUp,\n\t\thandlePressDown,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nUpdownButton.templates = templates;\n\nexport { UpdownButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t\twhiteSpace: \"nowrap\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\ticonActive: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.primary,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n\tbuttonInactive: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseRateButtonProps extends RateButtonTemplateComponentProps {\n\ticonColor?: { active: string; inactive: string };\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseRateButtonProps> = ({\n\tisLoading,\n\tuserRating,\n\taverageRating,\n\ttotalVotes,\n\tshowRating = \"average\",\n\ttotalReviewsLabel,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n\ticonColor,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>, index: number) => {\n\t\t\te.preventDefault();\n\n\t\t\thandlePress(index);\n\n\t\t\tif (!userRating) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userRating, handlePress],\n\t);\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t{Array.from(Array(5).keys()).map((index) => {\n\t\t\t\tconst selectedRating =\n\t\t\t\t\tshowRating === \"average\" ? averageRating : userRating;\n\n\t\t\t\tconst currentRating = selectedRating === index + 1;\n\n\t\t\t\tlet iconStyle = {\n\t\t\t\t\t...(selectedRating > index ? style.iconActive : style.icon),\n\t\t\t\t\t...(showRating === \"user\" &&\n\t\t\t\t\t\tcurrentRating && {\n\t\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t}),\n\t\t\t\t};\n\n\t\t\t\tif (iconColor) {\n\t\t\t\t\ticonStyle = {\n\t\t\t\t\t\t...iconStyle,\n\t\t\t\t\t\tfill:\n\t\t\t\t\t\t\tselectedRating > index ? iconColor.active : iconColor.inactive,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tkey={`${Icon.toString()}${index}`}\n\t\t\t\t\t\tonClick={(e) => handleClick(e, index + 1)}\n\t\t\t\t\t\tdisabled={isLoading || showRating === \"average\"}\n\t\t\t\t\t\tsx={showRating === \"user\" ? style.button : style.buttonInactive}\n\t\t\t\t\t>\n\t\t\t\t\t\t{currentRating && <div sx={ringStyle} />}\n\t\t\t\t\t\t<Icon sx={iconStyle} className={`icon-${index}`} />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t{isCounterVisible && showRating === \"average\" && (\n\t\t\t\t<span sx={style.counter}>\n\t\t\t\t\t{totalVotes}{\" \"}\n\t\t\t\t\t{totalReviewsLabel || `review${totalVotes !== 1 ? \"s\" : \"\"}`}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Custom: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Star: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn (\n\t\t<Base\n\t\t\t{...props}\n\t\t\tIcon={Icon}\n\t\t\ticonColor={{ active: \"rgb(249, 199, 61)\", inactive: \"#e6e6e6\" }}\n\t\t/>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Custom } from \"./templates/Custom\";\nimport { Heart } from \"./templates/Heart\";\nimport { Star } from \"./templates/Star\";\nimport { camelizeKeys } from \"humps\";\nimport { useForceUpdate } from \"../contexts/RatingContext\";\n\nconst templates = {\n\tCustom,\n\tHeart,\n\tStar,\n};\n\nexport interface RateButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserRating: number;\n\taverageRating: number;\n\ttotalVotes: number;\n\thandlePress: (rating: number) => void;\n\tisCounterVisible: boolean;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n}\n\ntype CallbackProps = Components.Schemas.RateButton[\"data\"];\n\nexport interface RateButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: RateButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<RateButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tCustom: React.FC<RateButtonTemplateComponentProps>;\n\t\tHeart: React.FC<RateButtonTemplateComponentProps>;\n\t\tStar: React.FC<RateButtonTemplateComponentProps>;\n\t};\n};\n\nconst RateButton: FCWithTemplates<RateButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tshowRating,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\tconst { registeredButtons, forceUpdate } = useForceUpdate();\n\tconst rateButtonId = `${namespace || \"no-namespace\"}:${id}`;\n\tconst shouldUpdate = registeredButtons[rateButtonId];\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.RateButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.rateButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse, shouldUpdate]);\n\n\tconst handlePress = useCallback(\n\t\tasync (rating: number) => {\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.rateButtons.press({\n\t\t\t\t\tid,\n\t\t\t\t\tnamespace,\n\t\t\t\t\trating,\n\t\t\t\t});\n\n\t\t\t\tsetResponse(result.data);\n\t\t\t\tforceUpdate({ ...registeredButtons, [rateButtonId]: {} });\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse, shouldUpdate],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.average_rating < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tshowRating,\n\t\tisLoading: !response,\n\t\ttotalVotes: response?.attributes.total_votes || 0,\n\t\taverageRating: response?.attributes.average_rating || 0,\n\t\tuserRating: response?.attributes.user_rating,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Star;\n\n\treturn <Component {...props} />;\n};\n\nRateButton.templates = templates;\n\nexport { RateButton };\n"],"names":["getSessionId","window","Error","legacySessionId","localStorage","getItem","setItem","removeItem","sessionId","newSessionId","Math","random","toString","substring","lazyLoadScript","src","opts","Promise","resolve","reject","async","integrity","type","sc","document","querySelector","script","createElement","setAttribute","onload","onerror","event","body","appendChild","generateRecaptchaToken","siteKey","action","then","grecaptcha","ready","execute","token","console","error","ApiError","requestInfo","requestInit","status","errors","now","Date","getTime","debounceCollect","func","wait","timer","timestamp","args","deferreds","onTimeout","elapsed","setTimeout","call","reset","results","i","length","debounced","callArgs","push","LikeButtonClient","client","press","id","namespace","put","info","enqueueToBatch","ClapButtonClient","UpdownButtonClient","pressUp","pressDown","RateButtonClient","rating","data","attributes","Client","apiKey","recaptchaSiteKey","baseUrl","disableSessionId","likeButtons","clapButtons","updownButtons","rateButtons","batch","bind","get","url","request","calls","method","urls","map","result","responses","recaptchaAction","input","init","defaultHeaders","Accept","Authorization","headers","JSON","stringify","fetch","response","json","errorMessages","ClientContext","React","createContext","RatingContext","undefined","RatingProvider","children","useState","registeredButtons","forceUpdate","value","Provider","useForceUpdate","context","useContext","defaultTheme","colors","icon","background","text","primary","secondary","highlight","fonts","clientInstances","getClientInstanceForSettings","settings","key","customTheme","theme","setClient","useEffect","jsx","ThemeProvider","config","useRootStyles","useLocalStorage","useColorSchemeMediaQuery","useSafeEffect","effect","deps","setState","safeRunner","ClapFull","className","viewBox","d","style","root","color","fontFamily","display","alignItems","counter","ml","rawColors","height","margin","fill","ring","opacity","width","borderRadius","border","borderColor","boxSizing","position","top","left","transform","button","outline","boxShadow","cursor","appearance","fontSize","transition","padding","lineHeight","bg","baloon","justifyContent","backgroundColor","centeredContainer","buttonContainer","baloonFade","keyframes","iconScale","ringScale","borderWidth","BALOON","durationMs","animation","ICON","RING","Simple","isLoading","userClaps","totalClaps","handlePress","isCounterVisible","animationActive","setAnimationActive","timeoutId","useRef","handleClick","useCallback","e","current","clearTimeout","baloonStyle","iconStyle","ringStyle","buttonStyle","sx","onClick","disabled","ClapHeart","version","xmlns","x","y","p","svg","triangleFade","TRIANGLES","count","size","CIRCLES","Heart","triangles","trianglesStyle","borderLeft","borderRight","borderTop","trianglesContainerStyle","transformOrigin","marginLeft","circles","circlesStyle","circleContainerStyle","ClapEmpty","fillRule","Medium","Icon","templates","ClapButton","hideCounterIfLessThan","component","onLoad","onPress","setResponse","camelizeKeys","message","preventDefault","total_claps","props","user_claps","Component","ThumbIcon","Base","userLiked","totalLikes","TwitterHeartFull","TwitterHeartEmpty","backfaceVisibility","dotsRotContainer","dotsContainer","dotBurst","DOTS","HEART","Twitter","dots","ChevronIcon","Chevron","LikeButton","total_likes","user_has_liked","mr","minWidth","textAlign","fontWeight","userVoteDirection","totalScore","handlePressUp","handlePressDown","animationActiveUp","setAnimationActiveUp","animationActiveDown","setAnimationActiveDown","handleClickUp","handleClickDown","iconStyleUp","iconStyleDown","ringStyleUp","ringStyleDown","upButtonStyle","downButtonStyle","RedditArrow","flexDirection","Reddit","onAnimationEnd","UpdownButton","onPressUp","onPressDown","total_score","user_vote_direction","whiteSpace","iconActive","buttonInactive","userRating","averageRating","totalVotes","showRating","totalReviewsLabel","iconColor","index","Array","from","keys","selectedRating","currentRating","active","inactive","Custom","Star","RateButton","rateButtonId","shouldUpdate","average_rating","total_votes","user_rating"],"mappings":"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"}