{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anwender\\\\Documents\\\\GitHub\\\\frontend\\\\Documents\\\\2023Ws_ITBE\\\\Fusion_lab\\\\homepage\\\\src\\\\components\\\\ifcViewer.js\",\n  _s = $RefreshSig$();\nimport * as OBC from \"openbim-components\";\nimport * as THREE from \"three\";\nimport React, { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CAMERA_CONFIG = {\n  Overview: {\n    cameraPosition: new THREE.Vector3(-122.0412338903638, 57.8573189393671, 49.465545453607156),\n    targetPosition: new THREE.Vector3(-13.240851261453342, 0.404757580791614, -18.709093226707687)\n  },\n  Walkway: {\n    cameraPosition: new THREE.Vector3(70.66063441091678, 27.9171500559243, -42.483343537187594),\n    targetPosition: new THREE.Vector3(13.625892361665809, -17.3842911486277, -0.20029203008481855)\n  },\n  Road: {\n    cameraPosition: new THREE.Vector3(85.35935169226622, 3.8167654975745497, 8.928358989046695),\n    targetPosition: new THREE.Vector3(68.13399831264005, 3.936250847778988, 7.119236495104613)\n  },\n  Transport: {\n    cameraPosition: new THREE.Vector3(40.176256048468495, 13.287121740897357, 16.167758305784577),\n    targetPosition: new THREE.Vector3(18.208222932125157, -12.605163016367003, 38.64692299307003)\n  },\n  Structure: {\n    cameraPosition: new THREE.Vector3(5.704275323370304, 6.378064692988604, -117.21276284851119),\n    targetPosition: new THREE.Vector3(-4.298034555300573, 21.344108245137797, 16.356933637103555)\n  }\n};\nconst IFCViewer = ({\n  selectedComponent\n}) => {\n  _s();\n  const viewerContainerRef = useRef(null);\n  const components = useRef(null);\n\n  // set camera function\n  const setCameraPosition = componentName => {\n    const config = CAMERA_CONFIG[componentName];\n    if (config && components.current && components.current.camera) {\n      components.current.camera.controls.setLookAt(config.cameraPosition.x, config.cameraPosition.y, config.cameraPosition.z, config.targetPosition.x, config.targetPosition.y, config.targetPosition.z, true);\n    }\n  };\n  useEffect(() => {\n    const initializeViewer = async () => {\n      if (viewerContainerRef.current && OBC && THREE) {\n        const viewerContainer = viewerContainerRef.current;\n\n        // basic scene\n        components.current = new OBC.Components();\n        components.current.scene = new OBC.SimpleScene(components.current);\n        components.current.renderer = new OBC.PostproductionRenderer(components.current, viewerContainer);\n        components.current.camera = new OBC.SimpleCamera(components.current);\n        components.current.raycaster = new OBC.SimpleRaycaster(components.current);\n        components.current.init();\n        components.current.camera.controls.setLookAt(10, 10, 10, 0, 0, 0);\n        components.current.scene.setup();\n        const grid = new OBC.SimpleGrid(components.current, new THREE.Color(0x666666));\n        components.current.renderer.postproduction.enabled = true;\n        components.current.renderer.postproduction.customEffects.excludedMeshes.push(grid.get());\n\n        /*------ Main Tool bar ------*/\n        const mainToolbar = new OBC.Toolbar(components.current, {\n          name: \"Main Toolbar\",\n          position: \"bottom\"\n        });\n        components.current.ui.addToolbar(mainToolbar);\n\n        /* ----- ifc load ----- */\n        // fragments\n        let fragments = new OBC.FragmentManager(components.current);\n        let fragmentIfcLoader = new OBC.FragmentIfcLoader(components.current);\n\n        // Setup IFCloader with WSAM (calibrating the converter)\n        await fragmentIfcLoader.setup();\n        fragmentIfcLoader.settings.wasm = {\n          path: \"https://unpkg.com/web-ifc@0.0.46/\",\n          absolute: true\n        };\n        fragmentIfcLoader.settings.webIfc.COORDINATE_TO_ORIGIN = true;\n        fragmentIfcLoader.settings.webIfc.OPTIMIZE_PROFILES = true;\n\n        //initial model\n        const file = await fetch(\"/rsc/bridgeA_railing.frag\");\n        const data = await file.arrayBuffer();\n        const buffer = new Uint8Array(data);\n        const model = await fragments.load(buffer);\n        const properties = await fetch(\"/rsc/bridgeA_railing.json\");\n        model.properties = await properties.json();\n\n        /*------- Highlighter -------*/\n        // highlighter config\n        const highlighter = new OBC.FragmentHighlighter(components.current, fragments);\n        components.current.renderer.postproduction.customEffects.outlineEnabled = true;\n        highlighter.outlinesEnabled = true;\n        highlighter.zoomToSelection = true;\n\n        // default material\n        const selectionMaterial = new THREE.MeshBasicMaterial({\n          color: \"#BCF124\",\n          transparent: true,\n          opacity: 0.85,\n          depthTest: true\n        });\n        await highlighter.add(\"default\", [selectionMaterial]);\n        highlighter.setup();\n\n        /*----- ifc properties processor ------*/\n        const propsProcessor = new OBC.IfcPropertiesProcessor(components.current);\n        propsProcessor.uiElement.get(\"propertiesWindow\").visible = true;\n        propsProcessor.process(model);\n\n        // add cleanPropertieslist function to highlighter onClear handler\n        const highlighterEvents = highlighter.events;\n        highlighterEvents.select.onClear.add(() => {\n          propsProcessor.cleanPropertiesList();\n        });\n\n        // add renderProperties function to onHighlight handler\n        highlighterEvents.select.onHighlight.add(selection => {\n          const fragmentID = Object.keys(selection)[0];\n          const expressID = Number([...selection[fragmentID]][0]);\n          let model;\n          for (const group of fragments.groups) {\n            const fragmentFound = Object.values(group.keyFragments).find(id => id === fragmentID);\n            if (fragmentFound) model = group;\n          }\n          propsProcessor.renderProperties(model, expressID);\n        });\n\n        // buttons\n        const overviewButton = new OBC.Button(components.current);\n        overviewButton.materialIcon = \"pageview\";\n        overviewButton.tooltip = \"Overview\";\n        mainToolbar.addChild(overviewButton);\n        overviewButton.onClick.add(async () => {\n          setCameraPosition(\"Overview\");\n        });\n        const walkwayButton = new OBC.Button(components.current);\n        walkwayButton.materialIcon = \"directions_walk\";\n        walkwayButton.tooltip = \"Walkway\";\n        mainToolbar.addChild(walkwayButton);\n        walkwayButton.onClick.add(async () => {\n          setCameraPosition(\"Walkway\");\n        });\n        const roadButton = new OBC.Button(components.current);\n        roadButton.materialIcon = \"directions_car\";\n        roadButton.tooltip = \"Road\";\n        mainToolbar.addChild(roadButton);\n        roadButton.onClick.add(async () => {\n          setCameraPosition(\"Road\");\n        });\n        const transportButton = new OBC.Button(components.current);\n        transportButton.materialIcon = \"commute\";\n        transportButton.tooltip = \"Public Transport\";\n        mainToolbar.addChild(transportButton);\n        transportButton.onClick.add(async () => {\n          setCameraPosition(\"Transport\");\n        });\n        const structureButton = new OBC.Button(components.current);\n        structureButton.materialIcon = \"foundation\";\n        structureButton.tooltip = \"Structure\";\n        mainToolbar.addChild(structureButton);\n        structureButton.onClick.add(async () => {\n          setCameraPosition(\"Structure\");\n        });\n        const cacher = new OBC.FragmentCacher(components.current);\n        const cacherButton = cacher.uiElement.get(\"main\");\n        mainToolbar.addChild(cacherButton);\n        return () => {\n          //clean up code\n        };\n      }\n    };\n    initializeViewer();\n  }, []);\n\n  /* --- Component button triggers ---*/\n  const handleOverviewClick = () => {\n    setCameraPosition(\"Overview\");\n  };\n  const handleWalkwayClick = () => {\n    setCameraPosition(\"Walkway\");\n  };\n  const handleRoadClick = () => {\n    setCameraPosition(\"Road\");\n  };\n  const handleTransportClick = () => {\n    setCameraPosition(\"Transport\");\n  };\n  const handleStructureClick = () => {\n    setCameraPosition(\"Structure\");\n  };\n  useEffect(() => {\n    switch (selectedComponent) {\n      case \"Overview\":\n        if (components.current) {\n          handleOverviewClick();\n          console.log(\"overview postiion is called\");\n        }\n        break;\n      case \"Walkway\":\n        if (components.current) {\n          handleWalkwayClick();\n          console.log(\"walkway postiion is called\");\n        }\n        break;\n      case \"Road\":\n        if (components.current) {\n          handleRoadClick();\n          console.log(\"road postiion is called\");\n        }\n        break;\n      case \"Transport\":\n        if (components.current) {\n          handleTransportClick();\n          console.log(\"transport postiion is called\");\n        }\n        break;\n      case \"Structure\":\n        if (components.current) {\n          handleStructureClick();\n          console.log(\"structure postiion is called\");\n        }\n        break;\n      default:\n        break;\n    }\n  }, [selectedComponent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: viewerContainerRef,\n    className: \"viewer-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 10\n  }, this);\n};\n_s(IFCViewer, \"wW/dfOa73BdF77Kb5JX7QR/sCIA=\");\n_c = IFCViewer;\nexport default IFCViewer;\nvar _c;\n$RefreshReg$(_c, \"IFCViewer\");","map":{"version":3,"names":["OBC","THREE","React","useRef","useEffect","jsxDEV","_jsxDEV","CAMERA_CONFIG","Overview","cameraPosition","Vector3","targetPosition","Walkway","Road","Transport","Structure","IFCViewer","selectedComponent","_s","viewerContainerRef","components","setCameraPosition","componentName","config","current","camera","controls","setLookAt","x","y","z","initializeViewer","viewerContainer","Components","scene","SimpleScene","renderer","PostproductionRenderer","SimpleCamera","raycaster","SimpleRaycaster","init","setup","grid","SimpleGrid","Color","postproduction","enabled","customEffects","excludedMeshes","push","get","mainToolbar","Toolbar","name","position","ui","addToolbar","fragments","FragmentManager","fragmentIfcLoader","FragmentIfcLoader","settings","wasm","path","absolute","webIfc","COORDINATE_TO_ORIGIN","OPTIMIZE_PROFILES","file","fetch","data","arrayBuffer","buffer","Uint8Array","model","load","properties","json","highlighter","FragmentHighlighter","outlineEnabled","outlinesEnabled","zoomToSelection","selectionMaterial","MeshBasicMaterial","color","transparent","opacity","depthTest","add","propsProcessor","IfcPropertiesProcessor","uiElement","visible","process","highlighterEvents","events","select","onClear","cleanPropertiesList","onHighlight","selection","fragmentID","Object","keys","expressID","Number","group","groups","fragmentFound","values","keyFragments","find","id","renderProperties","overviewButton","Button","materialIcon","tooltip","addChild","onClick","walkwayButton","roadButton","transportButton","structureButton","cacher","FragmentCacher","cacherButton","handleOverviewClick","handleWalkwayClick","handleRoadClick","handleTransportClick","handleStructureClick","console","log","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Anwender/Documents/GitHub/frontend/Documents/2023Ws_ITBE/Fusion_lab/homepage/src/components/ifcViewer.js"],"sourcesContent":["import * as OBC from \"openbim-components\";\r\nimport * as THREE from \"three\";\r\nimport React, { useRef, useEffect } from \"react\";\r\n\r\nconst CAMERA_CONFIG = {\r\n  Overview: {\r\n    cameraPosition: new THREE.Vector3(\r\n      -122.0412338903638,\r\n      57.8573189393671,\r\n      49.465545453607156\r\n    ),\r\n    targetPosition: new THREE.Vector3(\r\n      -13.240851261453342,\r\n      0.404757580791614,\r\n      -18.709093226707687\r\n    ),\r\n  },\r\n\r\n  Walkway: {\r\n    cameraPosition: new THREE.Vector3(\r\n      70.66063441091678,\r\n      27.9171500559243,\r\n      -42.483343537187594\r\n    ),\r\n    targetPosition: new THREE.Vector3(\r\n      13.625892361665809,\r\n      -17.3842911486277,\r\n      -0.20029203008481855\r\n    ),\r\n  },\r\n\r\n  Road: {\r\n    cameraPosition: new THREE.Vector3(\r\n      85.35935169226622,\r\n      3.8167654975745497,\r\n      8.928358989046695\r\n    ),\r\n    targetPosition: new THREE.Vector3(\r\n      68.13399831264005,\r\n      3.936250847778988,\r\n      7.119236495104613\r\n    ),\r\n  },\r\n\r\n  Transport: {\r\n    cameraPosition: new THREE.Vector3(\r\n      40.176256048468495,\r\n      13.287121740897357,\r\n      16.167758305784577\r\n    ),\r\n    targetPosition: new THREE.Vector3(\r\n      18.208222932125157,\r\n      -12.605163016367003,\r\n      38.64692299307003\r\n    ),\r\n  },\r\n\r\n  Structure: {\r\n    cameraPosition: new THREE.Vector3(\r\n      5.704275323370304,\r\n      6.378064692988604,\r\n      -117.21276284851119\r\n    ),\r\n    targetPosition: new THREE.Vector3(\r\n      -4.298034555300573,\r\n      21.344108245137797,\r\n      16.356933637103555\r\n    ),\r\n  },\r\n};\r\n\r\nconst IFCViewer = ({ selectedComponent }) => {\r\n  const viewerContainerRef = useRef(null);\r\n  const components = useRef(null);\r\n\r\n  // set camera function\r\n  const setCameraPosition = (componentName) => {\r\n    const config = CAMERA_CONFIG[componentName];\r\n    if (config && components.current && components.current.camera) {\r\n      components.current.camera.controls.setLookAt(\r\n        config.cameraPosition.x,\r\n        config.cameraPosition.y,\r\n        config.cameraPosition.z,\r\n        config.targetPosition.x,\r\n        config.targetPosition.y,\r\n        config.targetPosition.z,\r\n        true\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const initializeViewer = async () => {\r\n      if (viewerContainerRef.current && OBC && THREE) {\r\n        const viewerContainer = viewerContainerRef.current;\r\n\r\n        // basic scene\r\n        components.current = new OBC.Components();\r\n        components.current.scene = new OBC.SimpleScene(components.current);\r\n        components.current.renderer = new OBC.PostproductionRenderer(\r\n          components.current,\r\n          viewerContainer\r\n        );\r\n        components.current.camera = new OBC.SimpleCamera(components.current);\r\n        components.current.raycaster = new OBC.SimpleRaycaster(\r\n          components.current\r\n        );\r\n        components.current.init();\r\n\r\n        components.current.camera.controls.setLookAt(10, 10, 10, 0, 0, 0);\r\n\r\n        components.current.scene.setup();\r\n\r\n        const grid = new OBC.SimpleGrid(\r\n          components.current,\r\n          new THREE.Color(0x666666)\r\n        );\r\n\r\n        components.current.renderer.postproduction.enabled = true;\r\n        components.current.renderer.postproduction.customEffects.excludedMeshes.push(\r\n          grid.get()\r\n        );\r\n\r\n        /*------ Main Tool bar ------*/\r\n        const mainToolbar = new OBC.Toolbar(components.current, {\r\n          name: \"Main Toolbar\",\r\n          position: \"bottom\",\r\n        });\r\n        components.current.ui.addToolbar(mainToolbar);\r\n\r\n        /* ----- ifc load ----- */\r\n        // fragments\r\n        let fragments = new OBC.FragmentManager(components.current);\r\n        let fragmentIfcLoader = new OBC.FragmentIfcLoader(components.current);\r\n\r\n        // Setup IFCloader with WSAM (calibrating the converter)\r\n        await fragmentIfcLoader.setup();\r\n        fragmentIfcLoader.settings.wasm = {\r\n          path: \"https://unpkg.com/web-ifc@0.0.46/\",\r\n          absolute: true,\r\n        };\r\n        fragmentIfcLoader.settings.webIfc.COORDINATE_TO_ORIGIN = true;\r\n        fragmentIfcLoader.settings.webIfc.OPTIMIZE_PROFILES = true;\r\n\r\n        //initial model\r\n        const file = await fetch(\"/rsc/bridgeA_railing.frag\");\r\n        const data = await file.arrayBuffer();\r\n        const buffer = new Uint8Array(data);\r\n        const model = await fragments.load(buffer);\r\n        const properties = await fetch(\"/rsc/bridgeA_railing.json\");\r\n        model.properties = await properties.json();\r\n\r\n        /*------- Highlighter -------*/\r\n        // highlighter config\r\n        const highlighter = new OBC.FragmentHighlighter(\r\n          components.current,\r\n          fragments\r\n        );\r\n        components.current.renderer.postproduction.customEffects.outlineEnabled = true;\r\n        highlighter.outlinesEnabled = true;\r\n        highlighter.zoomToSelection = true;\r\n\r\n        // default material\r\n        const selectionMaterial = new THREE.MeshBasicMaterial({\r\n          color: \"#BCF124\",\r\n          transparent: true,\r\n          opacity: 0.85,\r\n          depthTest: true,\r\n        });\r\n        await highlighter.add(\"default\", [selectionMaterial]);\r\n\r\n        highlighter.setup();\r\n\r\n        /*----- ifc properties processor ------*/\r\n        const propsProcessor = new OBC.IfcPropertiesProcessor(\r\n          components.current\r\n        );\r\n        propsProcessor.uiElement.get(\"propertiesWindow\").visible = true;\r\n        propsProcessor.process(model);\r\n\r\n        // add cleanPropertieslist function to highlighter onClear handler\r\n        const highlighterEvents = highlighter.events;\r\n        highlighterEvents.select.onClear.add(() => {\r\n          propsProcessor.cleanPropertiesList();\r\n        });\r\n\r\n        // add renderProperties function to onHighlight handler\r\n        highlighterEvents.select.onHighlight.add((selection) => {\r\n          const fragmentID = Object.keys(selection)[0];\r\n          const expressID = Number([...selection[fragmentID]][0]);\r\n          let model;\r\n          for (const group of fragments.groups) {\r\n            const fragmentFound = Object.values(group.keyFragments).find(\r\n              (id) => id === fragmentID\r\n            );\r\n            if (fragmentFound) model = group;\r\n          }\r\n\r\n          propsProcessor.renderProperties(model, expressID);\r\n        });\r\n\r\n        // buttons\r\n        const overviewButton = new OBC.Button(components.current);\r\n        overviewButton.materialIcon = \"pageview\";\r\n        overviewButton.tooltip = \"Overview\";\r\n        mainToolbar.addChild(overviewButton);\r\n        overviewButton.onClick.add(async () => {\r\n          setCameraPosition(\"Overview\");\r\n        });\r\n\r\n        const walkwayButton = new OBC.Button(components.current);\r\n        walkwayButton.materialIcon = \"directions_walk\";\r\n        walkwayButton.tooltip = \"Walkway\";\r\n        mainToolbar.addChild(walkwayButton);\r\n        walkwayButton.onClick.add(async () => {\r\n          setCameraPosition(\"Walkway\");\r\n        });\r\n\r\n        const roadButton = new OBC.Button(components.current);\r\n        roadButton.materialIcon = \"directions_car\";\r\n        roadButton.tooltip = \"Road\";\r\n        mainToolbar.addChild(roadButton);\r\n        roadButton.onClick.add(async () => {\r\n          setCameraPosition(\"Road\");\r\n        });\r\n\r\n        const transportButton = new OBC.Button(components.current);\r\n        transportButton.materialIcon = \"commute\";\r\n        transportButton.tooltip = \"Public Transport\";\r\n        mainToolbar.addChild(transportButton);\r\n        transportButton.onClick.add(async () => {\r\n          setCameraPosition(\"Transport\");\r\n        });\r\n\r\n        const structureButton = new OBC.Button(components.current);\r\n        structureButton.materialIcon = \"foundation\";\r\n        structureButton.tooltip = \"Structure\";\r\n        mainToolbar.addChild(structureButton);\r\n        structureButton.onClick.add(async () => {\r\n          setCameraPosition(\"Structure\");\r\n        });\r\n\r\n        const cacher = new OBC.FragmentCacher(components.current);\r\n        const cacherButton = cacher.uiElement.get(\"main\");\r\n        mainToolbar.addChild(cacherButton);\r\n\r\n        return () => {\r\n          //clean up code\r\n        };\r\n      }\r\n    };\r\n\r\n    initializeViewer();\r\n  }, []);\r\n\r\n  /* --- Component button triggers ---*/\r\n  const handleOverviewClick = () => {\r\n    setCameraPosition(\"Overview\");\r\n  };\r\n\r\n  const handleWalkwayClick = () => {\r\n    setCameraPosition(\"Walkway\");\r\n  };\r\n\r\n  const handleRoadClick = () => {\r\n    setCameraPosition(\"Road\");\r\n  };\r\n\r\n  const handleTransportClick = () => {\r\n    setCameraPosition(\"Transport\");\r\n  };\r\n\r\n  const handleStructureClick = () => {\r\n    setCameraPosition(\"Structure\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    switch (selectedComponent) {\r\n      case \"Overview\":\r\n        if (components.current) {\r\n          handleOverviewClick();\r\n          console.log(\"overview postiion is called\");\r\n        }\r\n        break;\r\n      case \"Walkway\":\r\n        if (components.current) {\r\n          handleWalkwayClick();\r\n          console.log(\"walkway postiion is called\");\r\n        }\r\n        break;\r\n      case \"Road\":\r\n        if (components.current) {\r\n          handleRoadClick();\r\n          console.log(\"road postiion is called\");\r\n        }\r\n        break;\r\n      case \"Transport\":\r\n        if (components.current) {\r\n          handleTransportClick();\r\n          console.log(\"transport postiion is called\");\r\n        }\r\n        break;\r\n      case \"Structure\":\r\n        if (components.current) {\r\n          handleStructureClick();\r\n          console.log(\"structure postiion is called\");\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [selectedComponent]);\r\n\r\n  return <div ref={viewerContainerRef} className=\"viewer-container\"></div>;\r\n};\r\n\r\nexport default IFCViewer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}