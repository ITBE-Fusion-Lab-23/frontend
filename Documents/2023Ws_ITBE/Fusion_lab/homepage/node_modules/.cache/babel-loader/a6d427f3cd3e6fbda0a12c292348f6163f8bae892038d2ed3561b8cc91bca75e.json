{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anwender\\\\Documents\\\\GitHub\\\\frontend\\\\Documents\\\\2023Ws_ITBE\\\\Fusion_lab\\\\homepage\\\\src\\\\components\\\\ifcViewer.js\",\n  _s = $RefreshSig$();\nimport * as OBC from \"openbim-components\";\nimport * as THREE from \"three\";\nimport React, { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IFCViewer = ({\n  selectedComponent\n}) => {\n  _s();\n  const viewerContainerRef = useRef(null);\n  const components = useRef(null);\n  useEffect(() => {\n    const initializeViewer = async () => {\n      if (viewerContainerRef.current && OBC && THREE) {\n        const viewerContainer = viewerContainerRef.current;\n\n        // basic scene\n        components.current = new OBC.Components();\n        components.current.scene = new OBC.SimpleScene(components.current);\n        components.current.renderer = new OBC.PostproductionRenderer(components.current, viewerContainer);\n        components.current.camera = new OBC.SimpleCamera(components.current);\n        components.current.raycaster = new OBC.SimpleRaycaster(components.current);\n        components.current.init();\n        components.current.camera.controls.setLookAt(10, 10, 10, 0, 0, 0);\n        components.current.scene.setup();\n        const grid = new OBC.SimpleGrid(components.current, new THREE.Color(0x666666));\n        components.current.renderer.postproduction.enabled = true;\n        components.current.renderer.postproduction.customEffects.excludedMeshes.push(grid.get());\n\n        /*------ Main Tool bar ------*/\n        const mainToolbar = new OBC.Toolbar(components.current, {\n          name: \"Main Toolbar\",\n          position: \"bottom\"\n        });\n        components.current.ui.addToolbar(mainToolbar);\n\n        /* ----- ifc load ----- */\n        // fragments\n        let fragments = new OBC.FragmentManager(components.current);\n        let fragmentIfcLoader = new OBC.FragmentIfcLoader(components.current);\n\n        // Setup IFCloader with WSAM (calibrating the converter)\n        await fragmentIfcLoader.setup();\n        fragmentIfcLoader.settings.wasm = {\n          path: \"https://unpkg.com/web-ifc@0.0.46/\",\n          absolute: true\n        };\n        fragmentIfcLoader.settings.webIfc.COORDINATE_TO_ORIGIN = true;\n        fragmentIfcLoader.settings.webIfc.OPTIMIZE_PROFILES = true;\n\n        //initial model\n        const file = await fetch(\"/rsc/bridgeA_railing.frag\");\n        const data = await file.arrayBuffer();\n        const buffer = new Uint8Array(data);\n        const model = await fragments.load(buffer);\n        const properties = await fetch(\"/rsc/bridgeA_railing.json\");\n        model.properties = await properties.json();\n\n        /*------- Highlighter -------*/\n        // highlighter config\n        const highlighter = new OBC.FragmentHighlighter(components.current, fragments);\n        components.current.renderer.postproduction.customEffects.outlineEnabled = true;\n        highlighter.outlinesEnabled = true;\n        highlighter.zoomToSelection = true;\n\n        // default material\n        const selectionMaterial = new THREE.MeshBasicMaterial({\n          color: \"#BCF124\",\n          transparent: true,\n          opacity: 0.85,\n          depthTest: true\n        });\n        await highlighter.add(\"default\", [selectionMaterial]);\n        highlighter.setup();\n\n        /*----- ifc properties processor ------*/\n        const propsProcessor = new OBC.IfcPropertiesProcessor(components.current);\n        propsProcessor.uiElement.get(\"propertiesWindow\").visible = true;\n        propsProcessor.process(model);\n\n        // add cleanPropertieslist function to highlighter onClear handler\n        const highlighterEvents = highlighter.events;\n        highlighterEvents.select.onClear.add(() => {\n          propsProcessor.cleanPropertiesList();\n        });\n\n        // add renderProperties function to onHighlight handler\n        highlighterEvents.select.onHighlight.add(selection => {\n          const fragmentID = Object.keys(selection)[0];\n          const expressID = Number([...selection[fragmentID]][0]);\n          let model;\n          for (const group of fragments.groups) {\n            const fragmentFound = Object.values(group.keyFragments).find(id => id === fragmentID);\n            if (fragmentFound) model = group;\n          }\n          propsProcessor.renderProperties(model, expressID);\n        });\n\n        // buttons\n        const overviewButton = new OBC.Button(components.current);\n        overviewButton.materialIcon = \"pageview\";\n        overviewButton.tooltip = \"Overview\";\n        mainToolbar.addChild(overviewButton);\n        overviewButton.onClick.add(async () => {\n          const cameraPosition = new THREE.Vector3(-122.0412338903638, 57.8573189393671, 49.465545453607156);\n          const targetPosition = new THREE.Vector3(-13.240851261453342, 0.404757580791614, -18.709093226707687);\n          components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n        });\n        const walkwayButton = new OBC.Button(components.current);\n        walkwayButton.materialIcon = \"directions_walk\";\n        walkwayButton.tooltip = \"Walkway\";\n        mainToolbar.addChild(walkwayButton);\n        walkwayButton.onClick.add(async () => {\n          const cameraPosition = new THREE.Vector3(70.66063441091678, 27.9171500559243, -42.483343537187594);\n          const targetPosition = new THREE.Vector3(13.625892361665809, -17.3842911486277, -0.20029203008481855);\n          components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n        });\n        const roadButton = new OBC.Button(components.current);\n        roadButton.materialIcon = \"directions_car\";\n        roadButton.tooltip = \"Road\";\n        mainToolbar.addChild(roadButton);\n        roadButton.onClick.add(async () => {\n          const cameraPosition = new THREE.Vector3(85.35935169226622, 3.8167654975745497, 8.928358989046695);\n          const targetPosition = new THREE.Vector3(68.13399831264005, 3.936250847778988, 7.119236495104613);\n          components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n        });\n        const transportButton = new OBC.Button(components.current);\n        transportButton.materialIcon = \"commute\";\n        transportButton.tooltip = \"Public Transport\";\n        mainToolbar.addChild(transportButton);\n        transportButton.onClick.add(async () => {\n          const cameraPosition = new THREE.Vector3(40.176256048468495, 13.287121740897357, 16.167758305784577);\n          const targetPosition = new THREE.Vector3(18.208222932125157, -12.605163016367003, 38.64692299307003);\n          components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n        });\n        const structureButton = new OBC.Button(components.current);\n        structureButton.materialIcon = \"foundation\";\n        structureButton.tooltip = \"Structure\";\n        mainToolbar.addChild(structureButton);\n        structureButton.onClick.add(async () => {\n          const cameraPosition = new THREE.Vector3(5.704275323370304, 6.378064692988604, -117.21276284851119);\n          const targetPosition = new THREE.Vector3(-4.298034555300573, 21.344108245137797, 16.356933637103555);\n          components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n\n          //   console.log(components.current.camera.controls.getPosition());\n          //   console.log(components.current.camera.controls.getTarget());\n        });\n        const cacher = new OBC.FragmentCacher(components.current);\n        const cacherButton = cacher.uiElement.get(\"main\");\n        mainToolbar.addChild(cacherButton);\n        return () => {\n          //clean up code\n        };\n      }\n    };\n    initializeViewer();\n  }, []);\n\n  /* --- Component button triggers ---*/\n  const handleOverviewClick = () => {\n    if (components.current && components.current.camera) {\n      const cameraPosition = new THREE.Vector3(-122.0412338903638, 57.8573189393671, 49.465545453607156);\n      const targetPosition = new THREE.Vector3(-13.240851261453342, 0.404757580791614, -18.709093226707687);\n      components.current.camera.controls.setLookAt(cameraPosition.x, cameraPosition.y, cameraPosition.z, targetPosition.x, targetPosition.y, targetPosition.z, true);\n    }\n  };\n  useEffect(() => {\n    switch (selectedComponent) {\n      case \"Overview\":\n        if (components.current) {\n          handleOverviewClick();\n        }\n        break;\n      case \"Pedestrian Space\":\n        break;\n      default:\n        break;\n    }\n  }, [selectedComponent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: viewerContainerRef,\n    className: \"viewer-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 10\n  }, this);\n};\n_s(IFCViewer, \"wW/dfOa73BdF77Kb5JX7QR/sCIA=\");\n_c = IFCViewer;\nexport default IFCViewer;\nvar _c;\n$RefreshReg$(_c, \"IFCViewer\");","map":{"version":3,"names":["OBC","THREE","React","useRef","useEffect","jsxDEV","_jsxDEV","IFCViewer","selectedComponent","_s","viewerContainerRef","components","initializeViewer","current","viewerContainer","Components","scene","SimpleScene","renderer","PostproductionRenderer","camera","SimpleCamera","raycaster","SimpleRaycaster","init","controls","setLookAt","setup","grid","SimpleGrid","Color","postproduction","enabled","customEffects","excludedMeshes","push","get","mainToolbar","Toolbar","name","position","ui","addToolbar","fragments","FragmentManager","fragmentIfcLoader","FragmentIfcLoader","settings","wasm","path","absolute","webIfc","COORDINATE_TO_ORIGIN","OPTIMIZE_PROFILES","file","fetch","data","arrayBuffer","buffer","Uint8Array","model","load","properties","json","highlighter","FragmentHighlighter","outlineEnabled","outlinesEnabled","zoomToSelection","selectionMaterial","MeshBasicMaterial","color","transparent","opacity","depthTest","add","propsProcessor","IfcPropertiesProcessor","uiElement","visible","process","highlighterEvents","events","select","onClear","cleanPropertiesList","onHighlight","selection","fragmentID","Object","keys","expressID","Number","group","groups","fragmentFound","values","keyFragments","find","id","renderProperties","overviewButton","Button","materialIcon","tooltip","addChild","onClick","cameraPosition","Vector3","targetPosition","x","y","z","walkwayButton","roadButton","transportButton","structureButton","cacher","FragmentCacher","cacherButton","handleOverviewClick","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Anwender/Documents/GitHub/frontend/Documents/2023Ws_ITBE/Fusion_lab/homepage/src/components/ifcViewer.js"],"sourcesContent":["import * as OBC from \"openbim-components\";\r\nimport * as THREE from \"three\";\r\nimport React, { useRef, useEffect } from \"react\";\r\n\r\nconst IFCViewer = ({ selectedComponent }) => {\r\n  const viewerContainerRef = useRef(null);\r\n  const components = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const initializeViewer = async () => {\r\n      if (viewerContainerRef.current && OBC && THREE) {\r\n        const viewerContainer = viewerContainerRef.current;\r\n\r\n        // basic scene\r\n        components.current = new OBC.Components();\r\n        components.current.scene = new OBC.SimpleScene(components.current);\r\n        components.current.renderer = new OBC.PostproductionRenderer(\r\n          components.current,\r\n          viewerContainer\r\n        );\r\n        components.current.camera = new OBC.SimpleCamera(components.current);\r\n        components.current.raycaster = new OBC.SimpleRaycaster(\r\n          components.current\r\n        );\r\n        components.current.init();\r\n\r\n        components.current.camera.controls.setLookAt(10, 10, 10, 0, 0, 0);\r\n\r\n        components.current.scene.setup();\r\n\r\n        const grid = new OBC.SimpleGrid(\r\n          components.current,\r\n          new THREE.Color(0x666666)\r\n        );\r\n\r\n        components.current.renderer.postproduction.enabled = true;\r\n        components.current.renderer.postproduction.customEffects.excludedMeshes.push(\r\n          grid.get()\r\n        );\r\n\r\n        /*------ Main Tool bar ------*/\r\n        const mainToolbar = new OBC.Toolbar(components.current, {\r\n          name: \"Main Toolbar\",\r\n          position: \"bottom\",\r\n        });\r\n        components.current.ui.addToolbar(mainToolbar);\r\n\r\n        /* ----- ifc load ----- */\r\n        // fragments\r\n        let fragments = new OBC.FragmentManager(components.current);\r\n        let fragmentIfcLoader = new OBC.FragmentIfcLoader(components.current);\r\n\r\n        // Setup IFCloader with WSAM (calibrating the converter)\r\n        await fragmentIfcLoader.setup();\r\n        fragmentIfcLoader.settings.wasm = {\r\n          path: \"https://unpkg.com/web-ifc@0.0.46/\",\r\n          absolute: true,\r\n        };\r\n        fragmentIfcLoader.settings.webIfc.COORDINATE_TO_ORIGIN = true;\r\n        fragmentIfcLoader.settings.webIfc.OPTIMIZE_PROFILES = true;\r\n\r\n        //initial model\r\n        const file = await fetch(\"/rsc/bridgeA_railing.frag\");\r\n        const data = await file.arrayBuffer();\r\n        const buffer = new Uint8Array(data);\r\n        const model = await fragments.load(buffer);\r\n        const properties = await fetch(\"/rsc/bridgeA_railing.json\");\r\n        model.properties = await properties.json();\r\n\r\n        /*------- Highlighter -------*/\r\n        // highlighter config\r\n        const highlighter = new OBC.FragmentHighlighter(\r\n          components.current,\r\n          fragments\r\n        );\r\n        components.current.renderer.postproduction.customEffects.outlineEnabled = true;\r\n        highlighter.outlinesEnabled = true;\r\n        highlighter.zoomToSelection = true;\r\n\r\n        // default material\r\n        const selectionMaterial = new THREE.MeshBasicMaterial({\r\n          color: \"#BCF124\",\r\n          transparent: true,\r\n          opacity: 0.85,\r\n          depthTest: true,\r\n        });\r\n        await highlighter.add(\"default\", [selectionMaterial]);\r\n\r\n        highlighter.setup();\r\n\r\n        /*----- ifc properties processor ------*/\r\n        const propsProcessor = new OBC.IfcPropertiesProcessor(\r\n          components.current\r\n        );\r\n        propsProcessor.uiElement.get(\"propertiesWindow\").visible = true;\r\n        propsProcessor.process(model);\r\n\r\n        // add cleanPropertieslist function to highlighter onClear handler\r\n        const highlighterEvents = highlighter.events;\r\n        highlighterEvents.select.onClear.add(() => {\r\n          propsProcessor.cleanPropertiesList();\r\n        });\r\n\r\n        // add renderProperties function to onHighlight handler\r\n        highlighterEvents.select.onHighlight.add((selection) => {\r\n          const fragmentID = Object.keys(selection)[0];\r\n          const expressID = Number([...selection[fragmentID]][0]);\r\n          let model;\r\n          for (const group of fragments.groups) {\r\n            const fragmentFound = Object.values(group.keyFragments).find(\r\n              (id) => id === fragmentID\r\n            );\r\n            if (fragmentFound) model = group;\r\n          }\r\n\r\n          propsProcessor.renderProperties(model, expressID);\r\n        });\r\n\r\n        // buttons\r\n        const overviewButton = new OBC.Button(components.current);\r\n        overviewButton.materialIcon = \"pageview\";\r\n        overviewButton.tooltip = \"Overview\";\r\n        mainToolbar.addChild(overviewButton);\r\n        overviewButton.onClick.add(async () => {\r\n          const cameraPosition = new THREE.Vector3(\r\n            -122.0412338903638,\r\n            57.8573189393671,\r\n            49.465545453607156\r\n          );\r\n          const targetPosition = new THREE.Vector3(\r\n            -13.240851261453342,\r\n            0.404757580791614,\r\n            -18.709093226707687\r\n          );\r\n          components.current.camera.controls.setLookAt(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z,\r\n            targetPosition.x,\r\n            targetPosition.y,\r\n            targetPosition.z,\r\n            true\r\n          );\r\n        });\r\n\r\n        const walkwayButton = new OBC.Button(components.current);\r\n        walkwayButton.materialIcon = \"directions_walk\";\r\n        walkwayButton.tooltip = \"Walkway\";\r\n        mainToolbar.addChild(walkwayButton);\r\n        walkwayButton.onClick.add(async () => {\r\n          const cameraPosition = new THREE.Vector3(\r\n            70.66063441091678,\r\n            27.9171500559243,\r\n            -42.483343537187594\r\n          );\r\n          const targetPosition = new THREE.Vector3(\r\n            13.625892361665809,\r\n            -17.3842911486277,\r\n            -0.20029203008481855\r\n          );\r\n          components.current.camera.controls.setLookAt(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z,\r\n            targetPosition.x,\r\n            targetPosition.y,\r\n            targetPosition.z,\r\n            true\r\n          );\r\n        });\r\n\r\n        const roadButton = new OBC.Button(components.current);\r\n        roadButton.materialIcon = \"directions_car\";\r\n        roadButton.tooltip = \"Road\";\r\n        mainToolbar.addChild(roadButton);\r\n        roadButton.onClick.add(async () => {\r\n          const cameraPosition = new THREE.Vector3(\r\n            85.35935169226622,\r\n            3.8167654975745497,\r\n            8.928358989046695\r\n          );\r\n          const targetPosition = new THREE.Vector3(\r\n            68.13399831264005,\r\n            3.936250847778988,\r\n            7.119236495104613\r\n          );\r\n          components.current.camera.controls.setLookAt(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z,\r\n            targetPosition.x,\r\n            targetPosition.y,\r\n            targetPosition.z,\r\n            true\r\n          );\r\n        });\r\n\r\n        const transportButton = new OBC.Button(components.current);\r\n        transportButton.materialIcon = \"commute\";\r\n        transportButton.tooltip = \"Public Transport\";\r\n        mainToolbar.addChild(transportButton);\r\n        transportButton.onClick.add(async () => {\r\n          const cameraPosition = new THREE.Vector3(\r\n            40.176256048468495,\r\n            13.287121740897357,\r\n            16.167758305784577\r\n          );\r\n          const targetPosition = new THREE.Vector3(\r\n            18.208222932125157,\r\n            -12.605163016367003,\r\n            38.64692299307003\r\n          );\r\n          components.current.camera.controls.setLookAt(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z,\r\n            targetPosition.x,\r\n            targetPosition.y,\r\n            targetPosition.z,\r\n            true\r\n          );\r\n        });\r\n\r\n        const structureButton = new OBC.Button(components.current);\r\n        structureButton.materialIcon = \"foundation\";\r\n        structureButton.tooltip = \"Structure\";\r\n        mainToolbar.addChild(structureButton);\r\n        structureButton.onClick.add(async () => {\r\n          const cameraPosition = new THREE.Vector3(\r\n            5.704275323370304,\r\n            6.378064692988604,\r\n            -117.21276284851119\r\n          );\r\n          const targetPosition = new THREE.Vector3(\r\n            -4.298034555300573,\r\n            21.344108245137797,\r\n            16.356933637103555\r\n          );\r\n          components.current.camera.controls.setLookAt(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z,\r\n            targetPosition.x,\r\n            targetPosition.y,\r\n            targetPosition.z,\r\n            true\r\n          );\r\n\r\n          //   console.log(components.current.camera.controls.getPosition());\r\n          //   console.log(components.current.camera.controls.getTarget());\r\n        });\r\n\r\n        const cacher = new OBC.FragmentCacher(components.current);\r\n        const cacherButton = cacher.uiElement.get(\"main\");\r\n        mainToolbar.addChild(cacherButton);\r\n\r\n        return () => {\r\n          //clean up code\r\n        };\r\n      }\r\n    };\r\n\r\n    initializeViewer();\r\n  }, []);\r\n\r\n  /* --- Component button triggers ---*/\r\n  const handleOverviewClick = () => {\r\n    if (components.current && components.current.camera) {\r\n      const cameraPosition = new THREE.Vector3(\r\n        -122.0412338903638,\r\n        57.8573189393671,\r\n        49.465545453607156\r\n      );\r\n      const targetPosition = new THREE.Vector3(\r\n        -13.240851261453342,\r\n        0.404757580791614,\r\n        -18.709093226707687\r\n      );\r\n      components.current.camera.controls.setLookAt(\r\n        cameraPosition.x,\r\n        cameraPosition.y,\r\n        cameraPosition.z,\r\n        targetPosition.x,\r\n        targetPosition.y,\r\n        targetPosition.z,\r\n        true\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    switch (selectedComponent) {\r\n      case \"Overview\":\r\n        if (components.current) {\r\n          handleOverviewClick();\r\n        }\r\n        break;\r\n      case \"Pedestrian Space\":\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [selectedComponent]);\r\n\r\n  return <div ref={viewerContainerRef} className=\"viewer-container\"></div>;\r\n};\r\n\r\nexport default IFCViewer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}