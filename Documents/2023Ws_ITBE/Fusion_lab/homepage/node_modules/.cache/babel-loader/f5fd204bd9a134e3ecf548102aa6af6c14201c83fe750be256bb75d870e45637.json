{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar themeUi = require('theme-ui');\nvar react = require('@emotion/react');\nvar humps = require('humps');\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}\nvar getSessionId = function getSessionId() {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  }\n  //TODO: remove sessionId legacy name\n  var legacySessionId = window.localStorage.getItem('sessionId');\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n  var sessionId = window.localStorage.getItem('lyket-session-id');\n  if (sessionId) {\n    return sessionId;\n  }\n  var newSessionId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n  return newSessionId;\n};\nfunction lazyLoadScript(src, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  return new Promise(function (resolve, reject) {\n    var _opts = opts,\n      async = _opts.async,\n      integrity = _opts.integrity,\n      type = _opts.type;\n    var sc = document.querySelector(\"script[src=\\\"\" + src + \"\\\"]\");\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n    var script = document.createElement('script');\n    script.src = src;\n    if (async) {\n      script.setAttribute('async', 'true');\n    }\n    if (integrity) {\n      script.setAttribute('integrity', integrity);\n    }\n    if (type) {\n      script.setAttribute('type', type);\n    }\n    script.onload = function () {\n      return resolve(script);\n    };\n    script.onerror = function (event) {\n      return reject(event);\n    };\n    document.body.appendChild(script);\n  });\n}\nfunction generateRecaptchaToken(siteKey, action) {\n  return lazyLoadScript(\"https://www.google.com/recaptcha/api.js?render=\" + siteKey).then(function () {\n    return new Promise(function (resolve, reject) {\n      grecaptcha.ready( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return grecaptcha.execute(siteKey, {\n                  action: action\n                });\n              case 3:\n                token = _context.sent;\n                resolve(token);\n                _context.next = 11;\n                break;\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('recaptcha error!', _context.t0);\n                reject(_context.t0);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      })));\n    });\n  });\n}\nvar ApiError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(ApiError, _Error);\n  function ApiError(requestInfo, requestInit, status, errors) {\n    var _this;\n    _this = _Error.call(this, \"Failed API request to \" + requestInfo + \" with status \" + status) || this;\n    _this.requestInfo = requestInfo;\n    _this.requestInit = requestInit;\n    _this.status = status;\n    _this.errors = errors;\n    return _this;\n  }\n  return ApiError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar now = function now() {\n  return new Date().getTime();\n};\nfunction debounceCollect(func, wait) {\n  var timer;\n  var timestamp;\n  var args = [];\n  var deferreds = [];\n  function onTimeout() {\n    return _onTimeout.apply(this, arguments);\n  }\n  function _onTimeout() {\n    _onTimeout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var elapsed;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              elapsed = now() - timestamp;\n              if (!(elapsed < wait && elapsed > 0)) {\n                _context.next = 5;\n                break;\n              }\n              timer = setTimeout(onTimeout, wait - elapsed);\n              _context.next = 9;\n              break;\n            case 5:\n              timer = null;\n              _context.next = 8;\n              return call();\n            case 8:\n              if (!timer) {\n                reset();\n              }\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _onTimeout.apply(this, arguments);\n  }\n  function call() {\n    return _call.apply(this, arguments);\n  }\n  function _call() {\n    _call = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var results, i;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return func.call(null, args);\n            case 2:\n              results = _context2.sent;\n              for (i = 0; i < results.length; i++) {\n                deferreds[i].resolve(results[i]);\n              }\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _call.apply(this, arguments);\n  }\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n  return function debounced() {\n    for (var _len = arguments.length, callArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      callArgs[_key] = arguments[_key];\n    }\n    args.push(callArgs);\n    timestamp = now();\n    if (!timer) {\n      timer = setTimeout(onTimeout, wait);\n    }\n    return new Promise(function (resolve, reject) {\n      deferreds.push({\n        resolve: resolve,\n        reject: reject\n      });\n    });\n  };\n}\nvar LikeButtonClient = /*#__PURE__*/function () {\n  function LikeButtonClient(client) {\n    this.client = client;\n  }\n  var _proto = LikeButtonClient.prototype;\n  _proto.press = function press(_ref) {\n    var id = _ref.id,\n      namespace = _ref.namespace;\n    return this.client.put(namespace ? \"/like-buttons/\" + namespace + \"/\" + id + \"/press\" : \"/like-buttons/\" + id + \"/press\", \"press\");\n  };\n  _proto.info = function info(_ref2) {\n    var id = _ref2.id,\n      namespace = _ref2.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/like-buttons/\" + namespace + \"/\" + id : \"/like-buttons/\" + id);\n  };\n  return LikeButtonClient;\n}();\nvar ClapButtonClient = /*#__PURE__*/function () {\n  function ClapButtonClient(client) {\n    this.client = client;\n  }\n  var _proto2 = ClapButtonClient.prototype;\n  _proto2.press = function press(_ref3) {\n    var id = _ref3.id,\n      namespace = _ref3.namespace;\n    return this.client.put(namespace ? \"/clap-buttons/\" + namespace + \"/\" + id + \"/press\" : \"/clap-buttons/\" + id + \"/press\", \"press\");\n  };\n  _proto2.info = function info(_ref4) {\n    var id = _ref4.id,\n      namespace = _ref4.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/clap-buttons/\" + namespace + \"/\" + id : \"/clap-buttons/\" + id);\n  };\n  return ClapButtonClient;\n}();\nvar UpdownButtonClient = /*#__PURE__*/function () {\n  function UpdownButtonClient(client) {\n    this.client = client;\n  }\n  var _proto3 = UpdownButtonClient.prototype;\n  _proto3.info = function info(_ref5) {\n    var id = _ref5.id,\n      namespace = _ref5.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id : \"/updown-buttons/\" + id);\n  };\n  _proto3.pressUp = function pressUp(_ref6) {\n    var id = _ref6.id,\n      namespace = _ref6.namespace;\n    return this.client.put(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id + \"/press-up\" : \"/updown-buttons/\" + id + \"/press-up\", \"pressUp\");\n  };\n  _proto3.pressDown = function pressDown(_ref7) {\n    var id = _ref7.id,\n      namespace = _ref7.namespace;\n    return this.client.put(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id + \"/press-down\" : \"/updown-buttons/\" + id + \"/press-down\", \"pressDown\");\n  };\n  return UpdownButtonClient;\n}();\nvar RateButtonClient = /*#__PURE__*/function () {\n  function RateButtonClient(client) {\n    this.client = client;\n  }\n  var _proto4 = RateButtonClient.prototype;\n  _proto4.press = function press(_ref8) {\n    var id = _ref8.id,\n      namespace = _ref8.namespace,\n      rating = _ref8.rating;\n    return this.client.put(namespace ? \"/rate-buttons/\" + namespace + \"/\" + id + \"/press\" : \"/rate-buttons/\" + id + \"/press\", \"press\", {\n      type: \"rate-buttons\",\n      data: {\n        attributes: {\n          rating: rating\n        }\n      }\n    });\n  };\n  _proto4.info = function info(_ref9) {\n    var id = _ref9.id,\n      namespace = _ref9.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/rate-buttons/\" + namespace + \"/\" + id : \"/rate-buttons/\" + id);\n  };\n  return RateButtonClient;\n}();\nvar Client = /*#__PURE__*/function () {\n  function Client(_ref10) {\n    var apiKey = _ref10.apiKey,\n      recaptchaSiteKey = _ref10.recaptchaSiteKey,\n      baseUrl = _ref10.baseUrl,\n      disableSessionId = _ref10.disableSessionId;\n    this.apiKey = apiKey;\n    this.recaptchaSiteKey = recaptchaSiteKey;\n    this.disableSessionId = disableSessionId;\n    this.baseUrl = baseUrl || \"https://api.lyket.dev\";\n    this.likeButtons = new LikeButtonClient(this);\n    this.clapButtons = new ClapButtonClient(this);\n    this.updownButtons = new UpdownButtonClient(this);\n    this.rateButtons = new RateButtonClient(this);\n    this.enqueueToBatch = debounceCollect(this.batch.bind(this), 500);\n  }\n  var _proto5 = Client.prototype;\n  _proto5.get = function get(url) {\n    return this.request(url);\n  };\n  _proto5.batch = /*#__PURE__*/function () {\n    var _batch = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(calls) {\n      var url, result;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // return Promise.all(calls.map(args => this.request(args[0])));\n              url = \"/buttons/batch\";\n              _context.next = 3;\n              return this.request(url, {\n                method: \"POST\",\n                body: {\n                  type: \"batch\",\n                  data: {\n                    attributes: {\n                      urls: calls.map(function (args) {\n                        return args[0];\n                      })\n                    }\n                  }\n                }\n              });\n            case 3:\n              result = _context.sent;\n              return _context.abrupt(\"return\", result.data.attributes.responses);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    function batch(_x) {\n      return _batch.apply(this, arguments);\n    }\n    return batch;\n  }();\n  _proto5.put = function put(url, recaptchaAction, body) {\n    if (body === void 0) {\n      body = {};\n    }\n    return this.request(url, {\n      method: \"PUT\",\n      recaptchaAction: recaptchaAction,\n      body: body\n    });\n  };\n  _proto5.request = /*#__PURE__*/function () {\n    var _request = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(input, init) {\n      var defaultHeaders, url, requestInit, response, errorMessages;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(typeof window === \"undefined\")) {\n                _context2.next = 2;\n                break;\n              }\n              throw new Error(\"Client is supposed to be used client-side only!\");\n            case 2:\n              defaultHeaders = {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + this.apiKey\n              };\n              if (!this.disableSessionId) {\n                defaultHeaders[\"x-session-id\"] = getSessionId();\n              }\n              if (!(this.recaptchaSiteKey && init && init.recaptchaAction)) {\n                _context2.next = 8;\n                break;\n              }\n              _context2.next = 7;\n              return generateRecaptchaToken(this.recaptchaSiteKey, init.recaptchaAction);\n            case 7:\n              defaultHeaders[\"x-recaptcha-token\"] = _context2.sent;\n            case 8:\n              url = this.baseUrl + \"/v1\" + input;\n              requestInit = init ? _extends({}, init, {\n                headers: _extends({}, defaultHeaders, init.headers),\n                body: init.body && JSON.stringify(init.body)\n              }) : {\n                headers: defaultHeaders\n              };\n              _context2.next = 12;\n              return fetch(url, requestInit);\n            case 12:\n              response = _context2.sent;\n              if (!(response.status < 200 || response.status >= 300)) {\n                _context2.next = 18;\n                break;\n              }\n              _context2.next = 16;\n              return response.json();\n            case 16:\n              errorMessages = _context2.sent;\n              throw new ApiError(url, requestInit, response.status, errorMessages.errors);\n            case 18:\n              return _context2.abrupt(\"return\", response.json());\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    function request(_x2, _x3) {\n      return _request.apply(this, arguments);\n    }\n    return request;\n  }();\n  return Client;\n}();\nvar ClientContext = /*#__PURE__*/React__default.createContext(null);\nvar RatingContext = /*#__PURE__*/React.createContext(undefined);\nvar RatingProvider = function RatingProvider(_ref) {\n  var children = _ref.children;\n  var _useState = React.useState({}),\n    registeredButtons = _useState[0],\n    forceUpdate = _useState[1];\n  var value = {\n    registeredButtons: registeredButtons,\n    forceUpdate: forceUpdate\n  };\n  return React__default.createElement(RatingContext.Provider, {\n    value: value\n  }, children);\n};\nvar useForceUpdate = function useForceUpdate() {\n  var context = React.useContext(RatingContext);\n  if (context === undefined) {\n    throw new Error(\"useForceUpdate must be used within a RatingProvider\");\n  }\n  return context;\n};\nvar defaultTheme = {\n  colors: {\n    icon: '#292929',\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed'\n  },\n  fonts: {\n    body: 'inherit'\n  }\n};\nvar clientInstances = {};\nvar getClientInstanceForSettings = function getClientInstanceForSettings(settings) {\n  var key = JSON.stringify(settings);\n  if (clientInstances[key]) {\n    return clientInstances[key];\n  }\n  var client = new Client(settings);\n  clientInstances[key] = client;\n  return client;\n};\nvar Provider = function Provider(_ref) {\n  var apiKey = _ref.apiKey,\n    recaptchaSiteKey = _ref.recaptchaSiteKey,\n    disableSessionId = _ref.disableSessionId,\n    baseUrl = _ref.baseUrl,\n    children = _ref.children,\n    customTheme = _ref.theme;\n  var _useState = React.useState(getClientInstanceForSettings({\n      apiKey: apiKey,\n      recaptchaSiteKey: recaptchaSiteKey,\n      disableSessionId: disableSessionId,\n      baseUrl: baseUrl\n    })),\n    client = _useState[0],\n    setClient = _useState[1];\n  React.useEffect(function () {\n    setClient(getClientInstanceForSettings({\n      apiKey: apiKey,\n      recaptchaSiteKey: recaptchaSiteKey,\n      disableSessionId: disableSessionId,\n      baseUrl: baseUrl\n    }));\n  }, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n  var theme = customTheme || {\n    colors: {},\n    fonts: {}\n  };\n  var colors = _extends({}, defaultTheme.colors, theme.colors);\n  var fonts = _extends({}, defaultTheme.fonts, theme.fonts);\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: {\n      config: {\n        useRootStyles: false,\n        useLocalStorage: false,\n        useColorSchemeMediaQuery: false\n      },\n      colors: colors,\n      fonts: fonts\n    }\n  }, themeUi.jsx(ClientContext.Provider, {\n    value: client\n  }, themeUi.jsx(RatingProvider, null, children)));\n};\nvar useSafeEffect = function useSafeEffect(effect, deps) {\n  var setState = React.useState()[1];\n  return React.useEffect(function () {\n    function safeRunner() {\n      return _safeRunner.apply(this, arguments);\n    }\n    function _safeRunner() {\n      _safeRunner = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return effect();\n              case 3:\n                _context.next = 8;\n                break;\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                setState(function () {\n                  throw _context.t0;\n                });\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 5]]);\n      }));\n      return _safeRunner.apply(this, arguments);\n    }\n    safeRunner();\n    // eslint-disable-next-line\n  }, [].concat(deps || [], [setState]));\n};\nvar ClapFull = function ClapFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 29 29\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"\n  }), React__default.createElement(\"path\", {\n    d: \"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"\n  }));\n};\nvar style = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    },\n    fontFamily: 'body'\n  },\n  icon: {\n    height: '1.6em',\n    display: 'block',\n    margin: '0 auto',\n    fill: function fill(theme) {\n      var _theme$rawColors2;\n      return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.icon;\n    }\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: function borderColor(theme) {\n      var _theme$rawColors3;\n      return (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.highlight;\n    },\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: function bg(theme) {\n      var _theme$rawColors4;\n      return (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    },\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      opacity: 0.75\n    }\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'body',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.8em',\n    width: '2.8em',\n    top: '-1.4em',\n    left: '-1.4em'\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  buttonContainer: {\n    position: 'relative'\n  }\n};\nvar baloonFade = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"0\",\n    transform: \"translateY(-3.2em)\"\n  },\n  \"72%\": {\n    opacity: \"1\",\n    transform: \"translateY(-4em)\"\n  },\n  \"100%\": {\n    opacity: \"0\",\n    transform: \"translateY(-6em)\"\n  }\n});\nvar iconScale = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar BALOON = {\n  durationMs: 800,\n  animation: baloonFade\n};\nvar ICON = {\n  durationMs: 700,\n  animation: iconScale\n};\nvar RING = {\n  durationMs: 600,\n  animation: ringScale\n};\nvar Simple = function Simple(_ref) {\n  var _timeoutId$current;\n  var isLoading = _ref.isLoading,\n    userClaps = _ref.userClaps,\n    totalClaps = _ref.totalClaps,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var timeoutId = React.useRef(null);\n  var handleClick = React.useCallback(function (e) {\n    setAnimationActive(true);\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n    timeoutId.current = setTimeout(function () {\n      return setAnimationActive(false);\n    }, BALOON.durationMs);\n    handlePress(e);\n  }, [handlePress]);\n  var baloonStyle = _extends({}, style.baloon, {\n    animation: animationActive ? BALOON.animation + \" \" + BALOON.durationMs + \"ms ease forwards\" : null\n  });\n  var iconStyle = _extends({}, style.icon, {\n    animation: animationActive ? ICON.animation + \" \" + ICON.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyle = _extends({}, style.ring, {\n    animation: animationActive ? RING.animation + \" \" + RING.durationMs + \"ms ease forwards\" : null\n  });\n  var buttonStyle = _extends({}, style.button, {\n    bg: function bg(theme) {\n      var _theme$rawColors, _theme$rawColors2;\n      return userClaps ? (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.primary : (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.background;\n    }\n  });\n  return themeUi.jsx(\"div\", {\n    sx: style.root\n  }, themeUi.jsx(\"div\", {\n    sx: style.buttonContainer\n  }, themeUi.jsx(\"div\", {\n    sx: style.centeredContainer\n  }, themeUi.jsx(\"div\", {\n    key: (_timeoutId$current = timeoutId.current) == null ? void 0 : _timeoutId$current.toString(),\n    sx: baloonStyle\n  }, userClaps)), themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: buttonStyle,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyle\n  }), themeUi.jsx(ClapFull, {\n    sx: iconStyle\n  }))), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style.counter\n  }, totalClaps));\n};\nvar ClapHeart = function ClapHeart(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    id: \"ClapHeart\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 110 115\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M42.68,27.43c-0.7,0-1.4-0.27-1.93-0.8l-5.91-5.91c-1.07-1.07-1.07-2.79,0-3.86c1.07-1.07,2.79-1.07,3.86,0 l5.91,5.91c1.07,1.07,1.07,2.79,0,3.86C44.08,27.16,43.38,27.43,42.68,27.43z\"\n  })), React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M70.43,26.52c-0.7,0-1.4-0.27-1.93-0.8c-1.07-1.07-1.07-2.79,0-3.86l5.91-5.91c1.07-1.07,2.79-1.07,3.86,0 c1.07,1.07,1.07,2.79,0,3.86l-5.91,5.91C71.82,26.25,71.13,26.52,70.43,26.52z\"\n  })), React__default.createElement(\"path\", {\n    d: \"M67.23,7.48c-0.12-1.34-0.82-2.56-1.93-3.34l0,0c-1.77-1.24-4.33-0.97-5.94,0.65l-2.8,2.79l-2.79-2.79 c-1.61-1.61-4.17-1.9-5.94-0.65c-1.11,0.78-1.82,2-1.93,3.34c-0.12,1.34,0.36,2.66,1.31,3.61L53.11,17c0.86,0.86,2,1.33,3.22,1.33 c0.07,0,0.15,0,0.23-0.01c0.08,0.01,0.15,0.01,0.23,0.01c1.22,0,2.36-0.47,3.22-1.33l5.91-5.91C66.86,10.14,67.34,8.82,67.23,7.48z\"\n  }), React__default.createElement(\"path\", {\n    d: \"M104.64,60.44c-0.28-1.84-1.22-3.52-2.54-4.83l-0.06-0.06c-1.02-1.02-2.25-1.75-3.6-2.15l0.16-0.16 c3.32-3.32,3.33-8.71,0-12.04l-0.21-0.21c-1-1-2.19-1.71-3.5-2.12c1.4-3.13,0.82-6.94-1.75-9.5l-0.04-0.04 c-1.71-1.71-4.03-2.72-6.45-2.65c-1.76,0.05-3.48,0.54-4.8,1.67c-0.29,0.25-2.61,2.55-3.11,3.04c-0.8,0.79-0.71,2.1,0.19,2.77 l0.88,0.66c0.61,0.46,1.47,0.4,2.01-0.14l2.29-2.29c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-11.3,11.3c-0.85-0.69-1.81-1.21-2.84-1.53c1.4-3.13,0.82-6.94-1.75-9.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-1.22,0-2.41,0.26-3.49,0.74c-0.39-1.28-1.1-2.49-2.11-3.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-2.27,0-4.41,0.89-6.02,2.49L34.35,48.43c-0.4-1.34-1.13-2.58-2.15-3.6l-1.49-1.49 c-1.26-1.26-2.94-1.96-4.73-1.96c-1.79,0-3.47,0.7-4.73,1.96l-8.49,8.49l-0.58,0.58l-3.64,3.64c-3.64,3.64-5.52,9.27-5.3,15.84 c0.32,9.4,4.72,18.68,11.76,24.83c9.22,8.05,15.07,11.87,23.37,11.87c1.2,0,2.47-0.08,3.9-0.24c9.42-1.05,16.6-7.92,17.23-8.55 l0.44-0.42c0.47-0.04,0.93-0.07,1.43-0.13c9.42-1.05,16.6-7.92,17.23-8.55l23.59-22.88l0.05-0.05 C104.16,65.87,105.05,63.2,104.64,60.44z M92.38,43.04c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L81.75,63.66 c-0.74-0.51-1.55-0.92-2.4-1.17l0.16-0.16c2.62-2.62,3.16-6.53,1.65-9.7l8.43-8.43C90.36,43.43,91.37,43.04,92.38,43.04z M56.33,96.56c0,0-6.37,6.37-14.55,7.28c-1.2,0.13-2.32,0.21-3.4,0.21c-6.26,0-10.96-2.53-20.38-10.75 c-11.05-9.64-13.16-27.1-6.24-34.03l3.64-3.64l0.58-0.58l8.49-8.49c0.42-0.42,0.97-0.63,1.51-0.63c0.55,0,1.1,0.21,1.51,0.63 l1.49,1.49c1.55,1.55,1.55,4.06,0,5.6l-6.13,6.2c-0.89,0.9-0.89,2.35,0.01,3.25c0.45,0.45,1.04,0.67,1.63,0.67 c0.59,0,1.18-0.22,1.63-0.67l8.38-8.38l18.7-18.7c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-17.2,17.2c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59 l20.38-20.38c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.61L50.56,67.56 c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59L70.48,53.3c0.77-0.77,1.79-1.16,2.8-1.16 c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c0.38,0.38,0.66,0.81,0.85,1.28l0.27,1.59l0.04-0.04c-0.01,1.01-0.39,2.01-1.16,2.78 L59.54,75.87c-0.91,0.91-0.91,2.4,0.02,3.3c0.45,0.44,1.04,0.66,1.62,0.66c0.59,0,1.19-0.23,1.64-0.68l11.3-11.3 c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L56.33,96.56z M99.03,64.57 l-23.6,22.89c0,0-3.81,3.8-9.32,5.94L83.1,76.93l0.02-0.02l0.02-0.02c1.61-1.61,2.49-3.74,2.49-6.02c0-1.3-0.3-2.55-0.84-3.68 l8.42-8.42c0.77-0.77,1.79-1.16,2.8-1.16s2.03,0.39,2.8,1.16l0.21,0.21C100.58,60.51,100.58,63.02,99.03,64.57z\"\n  })));\n};\nvar style$1 = {\n  root: {\n    color: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.4em',\n    fontFamily: 'body',\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    }\n  },\n  icon: {\n    height: '2.2em',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.05)'\n        }\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1)'\n        }\n      }\n    }\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    fontFamily: 'body',\n    borderRadius: '100%',\n    fontSize: '.6em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em'\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  buttonContainer: {\n    position: 'relative'\n  }\n};\nvar baloonFade$1 = /*#__PURE__*/react.keyframes({\n  '0%': {\n    opacity: '0.2',\n    transform: 'translateY(-3.2em)'\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.8em)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5.2em)'\n  }\n});\nvar triangleFade = /*#__PURE__*/react.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)'\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)'\n  }\n});\nvar iconScale$1 = /*#__PURE__*/react.keyframes({\n  '0%': {\n    transform: 'scale(1)'\n  },\n  '32%': {\n    transform: 'scale(1.1)'\n  },\n  '100%': {\n    transform: 'scale(1.05)'\n  }\n});\nvar BALOON$1 = {\n  durationMs: 800,\n  animation: baloonFade$1\n};\nvar TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: function color(theme) {\n    var _theme$rawColors;\n    return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.secondary;\n  },\n  durationMs: 300,\n  animation: triangleFade\n};\nvar CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: function color(theme) {\n    var _theme$rawColors2;\n    return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.primary;\n  },\n  durationMs: 500,\n  animation: triangleFade\n};\nvar ICON$1 = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale$1\n};\nvar Heart = function Heart(_ref) {\n  var _timeoutId$current;\n  var isLoading = _ref.isLoading,\n    userClaps = _ref.userClaps,\n    totalClaps = _ref.totalClaps,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var triangles = [];\n  for (var i = 0; i < TRIANGLES.count; i++) {\n    var trianglesStyle = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      borderLeft: TRIANGLES.size + \"em solid transparent\",\n      borderRight: TRIANGLES.size + \"em solid transparent\",\n      borderTop: TRIANGLES.size + \"em solid \" + TRIANGLES.color,\n      position: 'absolute',\n      animation: animationActive ? triangleFade + \" \" + TRIANGLES.durationMs + \"ms ease forwards\" : null\n    };\n    var trianglesContainerStyle = {\n      transform: \"rotate(\" + 360 / TRIANGLES.count * i + \"deg)\",\n      transformOrigin: TRIANGLES.size + \"em 0\",\n      marginLeft: \"-\" + TRIANGLES.size + \"em\"\n    };\n    triangles.push(themeUi.jsx(\"div\", {\n      key: i,\n      sx: trianglesContainerStyle\n    }, themeUi.jsx(\"div\", {\n      sx: trianglesStyle\n    })));\n  }\n  var circles = [];\n  for (var _i = 0; _i < CIRCLES.count; _i++) {\n    var circlesStyle = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      padding: CIRCLES.size + \"em\",\n      backgroundColor: \"\" + CIRCLES.color,\n      borderRadius: '100%',\n      position: 'absolute',\n      animation: animationActive ? triangleFade + \" \" + CIRCLES.durationMs + \"ms ease forwards\" : null\n    };\n    var circleContainerStyle = {\n      transform: \"rotate(\" + 360 / CIRCLES.count * _i + \"deg)\",\n      transformOrigin: CIRCLES.size + \"em 0\",\n      marginLeft: \"-\" + CIRCLES.size + \"em\"\n    };\n    circles.push(themeUi.jsx(\"div\", {\n      key: _i,\n      sx: circleContainerStyle\n    }, themeUi.jsx(\"div\", {\n      sx: circlesStyle\n    })));\n  }\n  var timeoutId = React.useRef(null);\n  var handleClick = React.useCallback(function (e) {\n    setAnimationActive(true);\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n    timeoutId.current = setTimeout(function () {\n      return setAnimationActive(false);\n    }, BALOON$1.durationMs);\n    handlePress(e);\n  }, [handlePress]);\n  var iconStyle = _extends({}, style$1.icon, {\n    fill: function fill(theme) {\n      var _theme$rawColors3, _theme$rawColors4;\n      return userClaps && userClaps > 0 ? (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.highlight : (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.icon;\n    },\n    animation: animationActive ? ICON$1.animation + \" \" + ICON$1.durationMs + \"ms ease forwards\" : null\n  });\n  var baloonStyle = _extends({}, style$1.baloon, {\n    animation: animationActive ? BALOON$1.animation + \" \" + BALOON$1.durationMs + \"ms ease forwards\" : null\n  });\n  return themeUi.jsx(\"div\", {\n    sx: style$1.root\n  }, themeUi.jsx(\"div\", {\n    sx: style$1.buttonContainer\n  }, themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, themeUi.jsx(\"div\", {\n    key: (_timeoutId$current = timeoutId.current) == null ? void 0 : _timeoutId$current.toString(),\n    sx: baloonStyle\n  }, userClaps)), themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: style$1.button,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, \" \", triangles, \" \"), themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, \" \", circles, \" \"), themeUi.jsx(ClapHeart, {\n    sx: iconStyle\n  }))), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$1.counter\n  }, totalClaps));\n};\nvar ClapEmpty = function ClapEmpty(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 33 33\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar ClapFull$1 = function ClapFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 29 29\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"\n  }), React__default.createElement(\"path\", {\n    d: \"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"\n  }));\n};\nvar style$2 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.6em',\n    fontFamily: 'body'\n  },\n  icon: {\n    height: '2em',\n    fill: function fill(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.icon;\n    },\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        opacity: 0.65\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(0.9)'\n        }\n      }\n    }\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'inherit',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n    '@media (hover: hover)': {\n      ':hover': {\n        opacity: '1'\n      }\n    }\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  buttonContainer: {\n    position: 'relative'\n  }\n};\nvar baloonFade$2 = /*#__PURE__*/react.keyframes({\n  '0%': {\n    opacity: '0.5',\n    transform: 'translateY(-2.6em)'\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.4em)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5em)'\n  }\n});\nvar triangleFade$1 = /*#__PURE__*/react.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)'\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)'\n  }\n});\nvar iconScale$2 = /*#__PURE__*/react.keyframes({\n  '0%': {\n    transform: 'scale(1)'\n  },\n  '32%': {\n    transform: 'scale(1.1)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar BALOON$2 = {\n  durationMs: 800,\n  animation: baloonFade$2\n};\nvar TRIANGLES$1 = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade$1\n};\nvar CIRCLES$1 = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade$1\n};\nvar ICON$2 = {\n  durationMs: CIRCLES$1.durationMs,\n  animation: iconScale$2\n};\nvar Medium = function Medium(_ref) {\n  var _timeoutId$current;\n  var isLoading = _ref.isLoading,\n    userClaps = _ref.userClaps,\n    totalClaps = _ref.totalClaps,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var triangles = [];\n  for (var i = 0; i < TRIANGLES$1.count; i++) {\n    triangles.push(themeUi.jsx(\"div\", {\n      key: i,\n      sx: {\n        transform: \"rotate(\" + 360 / TRIANGLES$1.count * i + \"deg)\",\n        transformOrigin: TRIANGLES$1.size + \"em 0\",\n        marginLeft: \"-\" + TRIANGLES$1.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        width: '0',\n        height: '0',\n        opacity: '0',\n        borderLeft: TRIANGLES$1.size + \"em solid transparent\",\n        borderRight: TRIANGLES$1.size + \"em solid transparent\",\n        borderTop: TRIANGLES$1.size + \"em solid \" + TRIANGLES$1.color,\n        position: 'absolute',\n        animation: animationActive ? triangleFade$1 + \" \" + TRIANGLES$1.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n  var circles = [];\n  for (var _i = 0; _i < CIRCLES$1.count; _i++) {\n    circles.push(themeUi.jsx(\"div\", {\n      key: _i,\n      sx: {\n        transform: \"rotate(\" + 360 / CIRCLES$1.count * _i + \"deg)\",\n        transformOrigin: CIRCLES$1.size + \"em 0\",\n        marginLeft: \"-\" + CIRCLES$1.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        width: '0',\n        height: '0',\n        opacity: '0',\n        padding: CIRCLES$1.size + \"em\",\n        backgroundColor: \"\" + CIRCLES$1.color,\n        borderRadius: '100%',\n        position: 'absolute',\n        animation: animationActive ? triangleFade$1 + \" \" + CIRCLES$1.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n  var timeoutId = React.useRef(null);\n  var handleClick = React.useCallback(function (e) {\n    setAnimationActive(true);\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n    timeoutId.current = setTimeout(function () {\n      return setAnimationActive(false);\n    }, BALOON$2.durationMs);\n    handlePress(e);\n  }, [handlePress]);\n  var Icon = userClaps && userClaps > 0 ? ClapFull$1 : ClapEmpty;\n  var iconStyle = _extends({}, style$2.icon, {\n    animation: animationActive ? ICON$2.animation + \" \" + ICON$2.durationMs + \"ms ease forwards\" : null\n  });\n  var baloonStyle = _extends({}, style$2.baloon, {\n    animation: animationActive ? BALOON$2.animation + \" \" + BALOON$2.durationMs + \"ms ease forwards\" : null\n  });\n  return themeUi.jsx(\"div\", {\n    sx: style$2.root\n  }, themeUi.jsx(\"div\", {\n    sx: style$2.buttonContainer\n  }, themeUi.jsx(\"div\", {\n    sx: style$2.centeredContainer\n  }, themeUi.jsx(\"div\", {\n    key: (_timeoutId$current = timeoutId.current) == null ? void 0 : _timeoutId$current.toString(),\n    sx: baloonStyle\n  }, userClaps)), themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: style$2.button,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style$2.centeredContainer\n  }, \" \", triangles, \" \"), themeUi.jsx(\"div\", {\n    sx: style$2.centeredContainer\n  }, \" \", circles, \" \"), themeUi.jsx(Icon, {\n    sx: iconStyle\n  }))), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$2.counter\n  }, totalClaps));\n};\nvar templates = {\n  Simple: Simple,\n  Medium: Medium,\n  Heart: Heart\n};\nvar ClapButton = function ClapButton(_ref) {\n  var id = _ref.id,\n    namespace = _ref.namespace,\n    hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n    children = _ref.children,\n    component = _ref.component,\n    onLoad = _ref.onLoad,\n    onPress = _ref.onPress;\n  var client = React.useContext(ClientContext);\n  var _useState = React.useState(null),\n    response = _useState[0],\n    setResponse = _useState[1];\n  useSafeEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            if (!client) {\n              _context.next = 7;\n              break;\n            }\n            _context.next = 4;\n            return client.clapButtons.info({\n              id: id,\n              namespace: namespace\n            });\n          case 4:\n            result = _context.sent;\n            setResponse(result.data);\n            if (onLoad) {\n              onLoad(humps.camelizeKeys(result.data));\n            }\n          case 7:\n            _context.next = 13;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(\"Lyket error:\", _context.t0.errors[0].message);\n            throw _context.t0;\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  })), [client, id, namespace, setResponse]);\n  var handlePress = React.useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.prev = 1;\n              if (!client) {\n                _context2.next = 8;\n                break;\n              }\n              _context2.next = 5;\n              return client.clapButtons.press({\n                id: id,\n                namespace: namespace\n              });\n            case 5:\n              result = _context2.sent;\n              setResponse(result.data);\n              if (onPress) {\n                onPress(humps.camelizeKeys(result.data));\n              }\n            case 8:\n              _context2.next = 14;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error(\"Lyket error:\", _context2.t0.errors[0].message);\n              throw _context2.t0;\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 10]]);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [client, id, namespace, onPress]);\n  var isCounterVisible = true;\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_claps < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n  var props = {\n    isLoading: !response,\n    totalClaps: (response == null ? void 0 : response.attributes.total_claps) || 0,\n    userClaps: (response == null ? void 0 : response.attributes.user_claps) || 0,\n    handlePress: handlePress,\n    isCounterVisible: isCounterVisible\n  };\n  if (children) {\n    return children(props);\n  }\n  var Component = component || Simple;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\nClapButton.templates = templates;\nvar ThumbIcon = function ThumbIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    transform: \"scale(-1, 1) translate(-1200, 0)\",\n    d: \"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar style$3 = {\n  root: {\n    color: \"inherit\",\n    fontFamily: \"inherit\",\n    display: \"inline-flex\",\n    alignItems: \"center\"\n  },\n  counter: {\n    ml: \".5em\",\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    },\n    fontFamily: \"body\"\n  },\n  icon: {\n    height: \"1.2em\",\n    display: \"block\",\n    margin: \"0 auto\",\n    fill: function fill(theme) {\n      var _theme$rawColors2;\n      return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.icon;\n    }\n  },\n  ring: {\n    opacity: \"0\",\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: function borderColor(theme) {\n      var _theme$rawColors3;\n      return (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.highlight;\n    },\n    boxSizing: \"border-box\",\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  button: {\n    border: \"none !important\",\n    outline: \"none !important\",\n    boxShadow: \"0 0 0\",\n    transform: \"translate3d(0,0,0)\",\n    cursor: \"pointer\",\n    bg: function bg(theme) {\n      var _theme$rawColors4;\n      return (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    },\n    appearance: \"none\",\n    position: \"relative\",\n    fontSize: \"inherit\",\n    transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n    borderRadius: \"100% !important\",\n    width: \"3em !important\",\n    height: \"3em !important\",\n    padding: \"0 !important\",\n    lineHeight: \"1em\",\n    \":hover\": {\n      transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n      opacity: 0.75\n    }\n  }\n};\nvar iconScale$3 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale$1 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar RING$1 = {\n  durationMs: 600,\n  animation: ringScale$1\n};\nvar ICON$3 = {\n  animation: iconScale$3,\n  durationMs: 700\n};\nvar Base = function Base(_ref) {\n  var isLoading = _ref.isLoading,\n    userLiked = _ref.userLiked,\n    totalLikes = _ref.totalLikes,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible,\n    Icon = _ref.Icon;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var handleClick = React.useCallback(function (e) {\n    handlePress(e);\n    if (!userLiked) {\n      setAnimationActive(true);\n      setTimeout(function () {\n        return setAnimationActive(false);\n      }, ICON$3.durationMs);\n    }\n  }, [userLiked, handlePress]);\n  var iconStyle = _extends({}, style$3.icon, {\n    animation: animationActive ? ICON$3.animation + \" \" + ICON$3.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyle = _extends({}, style$3.ring, {\n    animation: animationActive ? RING$1.animation + \" \" + RING$1.durationMs + \"ms ease forwards\" : null\n  });\n  var buttonStyle = {\n    bg: function bg(theme) {\n      var _theme$rawColors, _theme$rawColors2;\n      return userLiked ? (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.primary : (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.background;\n    }\n  };\n  return themeUi.jsx(\"div\", {\n    sx: style$3.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    disabled: isLoading,\n    sx: _extends({}, style$3.button, buttonStyle)\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyle\n  }), themeUi.jsx(Icon, {\n    sx: iconStyle\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$3.counter\n  }, totalLikes));\n};\nvar Simple$1 = function Simple(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base, Object.assign({}, props, {\n    Icon: ThumbIcon\n  }));\n};\nvar TwitterHeartFull = function TwitterHeartFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    className: className\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"\n  })));\n};\nvar TwitterHeartEmpty = function TwitterHeartEmpty(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    className: className\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"\n  })));\n};\nvar style$4 = {\n  root: {\n    color: \"inherit\",\n    fontFamily: \"inherit\",\n    display: \"inline-flex\",\n    alignItems: \"center\"\n  },\n  counter: {\n    ml: \".4em\",\n    fontFamily: \"body\",\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    }\n  },\n  icon: {\n    height: \"1.7em\",\n    display: \"block\",\n    margin: \"0 auto\",\n    backfaceVisibility: \"hidden\"\n  },\n  button: {\n    border: \"none !important\",\n    outline: \"none !important\",\n    cursor: \"pointer\",\n    background: \"transparent\",\n    appearance: \"none\",\n    position: \"relative\",\n    fontSize: \"inherit\",\n    borderRadius: \"100% !important\",\n    transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n    width: \"3em !important\",\n    height: \"3em !important\",\n    padding: \"0 !important\",\n    lineHeight: \"1em\",\n    \"@media (hover: hover)\": {\n      \":hover\": {\n        transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        backgroundColor: \"#E5214A20\"\n      }\n    }\n  },\n  dotsRotContainer: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  dotsContainer: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%) rotate(165deg)\"\n  },\n  ring: {\n    opacity: \"0\",\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    boxSizing: \"border-box\",\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\nvar dotBurst = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"0\",\n    transform: \"translateY(-0.5em) scale(1)\"\n  },\n  \"52%\": {\n    opacity: \"1\",\n    transform: \"translateY(-1.6em) scale(1.3)\"\n  },\n  \"100%\": {\n    transform: \"translateY(-2.7em) scale(0)\"\n  }\n});\nvar iconScale$4 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale$2 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar DOTS = {\n  count: 6,\n  size: 0.2,\n  colors: [\"lightcoral\", \"yellow\", \"pink\", \"lightseagreen\", \"orange\", \"aliceblue\"],\n  durationMs: 600,\n  animation: dotBurst\n};\nvar RING$2 = {\n  color: \"#e095ed\",\n  durationMs: DOTS.durationMs,\n  animation: ringScale$2\n};\nvar HEART = {\n  animation: iconScale$4,\n  durationMs: 700\n};\nvar Twitter = function Twitter(_ref) {\n  var isLoading = _ref.isLoading,\n    userLiked = _ref.userLiked,\n    totalLikes = _ref.totalLikes,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var dots = [];\n  for (var i = 0; i < DOTS.count; i++) {\n    dots.push(themeUi.jsx(\"div\", {\n      key: i,\n      sx: {\n        transform: \"rotate(\" + 360 / DOTS.count * i + \"deg)\",\n        transformOrigin: DOTS.size + \"em 0\",\n        marginLeft: \"-\" + DOTS.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        opacity: \"0\",\n        width: DOTS.size + \"em\",\n        height: DOTS.size + \"em\",\n        borderRadius: DOTS.size + \"em\",\n        backgroundColor: \"\" + DOTS.colors[i],\n        position: \"absolute\",\n        animation: animationActive ? dotBurst + \" \" + DOTS.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n  var ring = themeUi.jsx(\"div\", {\n    sx: _extends({}, style$4.ring, {\n      border: \"1px solid \" + RING$2.color,\n      animation: animationActive ? RING$2.animation + \" \" + RING$2.durationMs + \"ms ease forwards\" : null\n    })\n  });\n  var handleClick = React.useCallback(function (e) {\n    if (!userLiked) {\n      setAnimationActive(true);\n      setTimeout(function () {\n        return setAnimationActive(false);\n      }, DOTS.durationMs);\n    }\n    handlePress(e);\n  }, [userLiked, handlePress]);\n  var Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n  var buttonStyle = {\n    fill: userLiked && !isLoading ? \"#E5214A\" : \"#aaa\",\n    animation: animationActive ? HEART.animation + \" \" + HEART.durationMs + \"ms ease forwards\" : null\n  };\n  return themeUi.jsx(\"div\", {\n    sx: style$4.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: style$4.button,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style$4.dotsContainer\n  }, \" \", dots, \" \"), themeUi.jsx(\"div\", {\n    sx: style$4.dotsRotContainer\n  }, \" \", dots, \" \"), ring, themeUi.jsx(Icon, {\n    sx: _extends({}, style$4.icon, buttonStyle)\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$4.counter\n  }, totalLikes));\n};\nvar ChevronIcon = function ChevronIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    className: className,\n    version: \"1.1\",\n    viewBox: \"0 100 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React__default.createElement(\"path\", {\n    d: \"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar Chevron = function Chevron(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base, Object.assign({}, props, {\n    Icon: ChevronIcon\n  }));\n};\nvar Icon = function Icon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar Heart$1 = function Heart(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base, Object.assign({}, props, {\n    Icon: Icon\n  }));\n};\nvar templates$1 = {\n  Simple: Simple$1,\n  Twitter: Twitter,\n  Chevron: Chevron,\n  Heart: Heart$1\n};\nvar LikeButton = function LikeButton(_ref) {\n  var id = _ref.id,\n    namespace = _ref.namespace,\n    hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n    children = _ref.children,\n    component = _ref.component,\n    onLoad = _ref.onLoad,\n    onPress = _ref.onPress;\n  var client = React.useContext(ClientContext);\n  var _useState = React.useState(null),\n    response = _useState[0],\n    setResponse = _useState[1];\n  useSafeEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (client) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            _context.prev = 2;\n            _context.next = 5;\n            return client.likeButtons.info({\n              id: id,\n              namespace: namespace\n            });\n          case 5:\n            result = _context.sent;\n            setResponse(result.data);\n            if (onLoad) {\n              onLoad(humps.camelizeKeys(result.data));\n            }\n            _context.next = 14;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](2);\n            console.error(\"Lyket error:\", _context.t0 == null ? void 0 : _context.t0.errors[0].message);\n            throw _context.t0;\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 10]]);\n  })), [client, id, namespace, onLoad, setResponse]);\n  var handlePress = React.useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              if (client) {\n                _context2.next = 3;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 3:\n              _context2.prev = 3;\n              _context2.next = 6;\n              return client.likeButtons.press({\n                id: id,\n                namespace: namespace\n              });\n            case 6:\n              result = _context2.sent;\n              setResponse(result.data);\n              if (onPress) {\n                onPress(humps.camelizeKeys(result.data));\n              }\n              _context2.next = 15;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](3);\n              console.error(\"Lyket error:\", _context2.t0 == null ? void 0 : _context2.t0.errors[0].message);\n              throw _context2.t0;\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[3, 11]]);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [client, id, namespace, onPress, setResponse]);\n  var isCounterVisible = true;\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_likes < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n  var props = {\n    isLoading: !response,\n    totalLikes: (response == null ? void 0 : response.attributes.total_likes) || 0,\n    userLiked: response == null ? void 0 : response.attributes.user_has_liked,\n    handlePress: handlePress,\n    isCounterVisible: isCounterVisible\n  };\n  if (children) {\n    return children(props);\n  }\n  var Component = component || Simple$1;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\nLikeButton.templates = templates$1;\nvar ThumbIcon$1 = function ThumbIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    transform: \"scale(-1, 1) translate(-1200, 0)\",\n    d: \"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar style$5 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    },\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body'\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: function fill(theme) {\n      var _theme$rawColors2;\n      return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.icon;\n    }\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: function borderColor(theme) {\n      var _theme$rawColors3;\n      return (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.highlight;\n    },\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: function bg(theme) {\n      var _theme$rawColors4;\n      return (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    },\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75\n    }\n  }\n};\nvar iconScale$5 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale$3 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar RING$3 = {\n  durationMs: 600,\n  animation: ringScale$3\n};\nvar ICON$4 = {\n  animation: iconScale$5,\n  durationMs: 700\n};\nvar Simple$2 = function Simple(_ref) {\n  var isLoading = _ref.isLoading,\n    userVoteDirection = _ref.userVoteDirection,\n    totalScore = _ref.totalScore,\n    handlePressUp = _ref.handlePressUp,\n    handlePressDown = _ref.handlePressDown,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActiveUp = _useState[0],\n    setAnimationActiveUp = _useState[1];\n  var _useState2 = React.useState(false),\n    animationActiveDown = _useState2[0],\n    setAnimationActiveDown = _useState2[1];\n  var handleClickUp = React.useCallback(function (e) {\n    handlePressUp(e);\n    if (userVoteDirection !== 1) {\n      setAnimationActiveUp(true);\n      setTimeout(function () {\n        return setAnimationActiveUp(false);\n      }, ICON$4.durationMs);\n    }\n  }, [userVoteDirection, handlePressUp]);\n  var handleClickDown = React.useCallback(function (e) {\n    handlePressDown(e);\n    if (userVoteDirection !== -1) {\n      setAnimationActiveDown(true);\n      setTimeout(function () {\n        return setAnimationActiveDown(false);\n      }, ICON$4.durationMs);\n    }\n  }, [userVoteDirection, handlePressDown]);\n  var iconStyleUp = _extends({}, style$5.icon, {\n    animation: animationActiveUp ? ICON$4.animation + \" \" + ICON$4.durationMs + \"ms ease forwards\" : null\n  });\n  var iconStyleDown = _extends({}, style$5.icon, {\n    animation: animationActiveDown ? ICON$4.animation + \" \" + ICON$4.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyleUp = _extends({}, style$5.ring, {\n    animation: animationActiveUp ? RING$3.animation + \" \" + RING$3.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyleDown = _extends({}, style$5.ring, {\n    animation: animationActiveDown ? RING$3.animation + \" \" + RING$3.durationMs + \"ms ease forwards\" : null\n  });\n  var upButtonStyle = {\n    bg: function bg(theme) {\n      var _theme$rawColors, _theme$rawColors2;\n      return userVoteDirection === 1 ? (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.primary : (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.background;\n    }\n  };\n  var downButtonStyle = {\n    bg: function bg(theme) {\n      var _theme$rawColors3, _theme$rawColors4;\n      return userVoteDirection === -1 ? (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.secondary : (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    }\n  };\n  return themeUi.jsx(\"div\", {\n    sx: style$5.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClickUp,\n    disabled: isLoading,\n    sx: _extends({}, style$5.button, upButtonStyle)\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleUp\n  }), themeUi.jsx(ThumbIcon$1, {\n    sx: iconStyleUp\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$5.counter\n  }, totalScore), isLoading && themeUi.jsx(\"div\", {\n    sx: style$5.counter\n  }, \"-\"), themeUi.jsx(\"button\", {\n    onClick: handleClickDown,\n    disabled: isLoading,\n    sx: _extends({}, style$5.button, downButtonStyle)\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleDown\n  }), themeUi.jsx(\"div\", {\n    style: {\n      transform: \"rotate(180deg)\"\n    }\n  }, themeUi.jsx(ThumbIcon$1, {\n    sx: iconStyleDown\n  }))));\n};\nvar ChevronIcon$1 = function ChevronIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    id: \"Chevron\",\n    className: className,\n    viewBox: \"0 100 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React__default.createElement(\"path\", {\n    d: \"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar style$6 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    },\n    textAlign: 'center',\n    fontFamily: 'body'\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: function fill(theme) {\n      var _theme$rawColors2;\n      return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.icon;\n    }\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: function borderColor(theme) {\n      var _theme$rawColors3;\n      return (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.highlight;\n    },\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: function bg(theme) {\n      var _theme$rawColors4;\n      return (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    },\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75\n    }\n  }\n};\nvar iconScale$6 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale$4 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar RING$4 = {\n  durationMs: 600,\n  animation: ringScale$4\n};\nvar ICON$5 = {\n  animation: iconScale$6,\n  durationMs: 700\n};\nvar Chevron$1 = function Chevron(_ref) {\n  var isLoading = _ref.isLoading,\n    userVoteDirection = _ref.userVoteDirection,\n    totalScore = _ref.totalScore,\n    handlePressUp = _ref.handlePressUp,\n    handlePressDown = _ref.handlePressDown,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActiveUp = _useState[0],\n    setAnimationActiveUp = _useState[1];\n  var _useState2 = React.useState(false),\n    animationActiveDown = _useState2[0],\n    setAnimationActiveDown = _useState2[1];\n  var handleClickUp = React.useCallback(function (e) {\n    handlePressUp(e);\n    if (userVoteDirection !== 1) {\n      setAnimationActiveUp(true);\n      setTimeout(function () {\n        return setAnimationActiveUp(false);\n      }, ICON$5.durationMs);\n    }\n  }, [userVoteDirection, handlePressUp]);\n  var handleClickDown = React.useCallback(function (e) {\n    handlePressDown(e);\n    if (userVoteDirection !== -1) {\n      setAnimationActiveDown(true);\n      setTimeout(function () {\n        return setAnimationActiveDown(false);\n      }, ICON$5.durationMs);\n    }\n  }, [userVoteDirection, handlePressDown]);\n  var iconStyleUp = _extends({}, style$6.icon, {\n    animation: animationActiveUp ? ICON$5.animation + \" \" + ICON$5.durationMs + \"ms ease forwards\" : null\n  });\n  var iconStyleDown = _extends({}, style$6.icon, {\n    animation: animationActiveDown ? ICON$5.animation + \" \" + ICON$5.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyleUp = _extends({}, style$6.ring, {\n    animation: animationActiveUp ? RING$4.animation + \" \" + RING$4.durationMs + \"ms ease forwards\" : null\n  });\n  var ringStyleDown = _extends({}, style$6.ring, {\n    animation: animationActiveDown ? RING$4.animation + \" \" + RING$4.durationMs + \"ms ease forwards\" : null\n  });\n  var upButtonStyle = {\n    bg: function bg(theme) {\n      var _theme$rawColors, _theme$rawColors2;\n      return userVoteDirection === 1 ? (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.primary : (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.background;\n    }\n  };\n  var downButtonStyle = {\n    bg: function bg(theme) {\n      var _theme$rawColors3, _theme$rawColors4;\n      return userVoteDirection === -1 ? (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.secondary : (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.background;\n    }\n  };\n  return themeUi.jsx(\"div\", {\n    sx: style$6.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClickUp,\n    disabled: isLoading,\n    sx: _extends({}, style$6.button, upButtonStyle)\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleUp\n  }), themeUi.jsx(\"div\", null, themeUi.jsx(ChevronIcon$1, {\n    sx: iconStyleUp\n  }))), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$6.counter\n  }, totalScore), isLoading && themeUi.jsx(\"div\", {\n    sx: style$6.counter\n  }, \"-\"), themeUi.jsx(\"button\", {\n    onClick: handleClickDown,\n    disabled: isLoading,\n    sx: _extends({}, style$6.button, downButtonStyle)\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleDown\n  }), themeUi.jsx(\"div\", {\n    style: {\n      transform: \"rotate(180deg)\"\n    }\n  }, themeUi.jsx(ChevronIcon$1, {\n    sx: iconStyleDown\n  }))));\n};\nvar RedditArrow = function RedditArrow(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"m1005.6 678-373.2-500.4c-16.801-22.801-50.398-22.801-67.199 0l-372 500.4c-20.398 27.602-1.1992 66 33.602 66h163.2v253.2c0 18 14.398 33.602 33.602 33.602h352.8c18 0 33.602-14.398 33.602-33.602l-0.003906-252h162c34.801 0 54-39.598 33.602-67.199z\"\n  }));\n};\nvar style$7 = {\n  root: {\n    color: \"inherit\",\n    fontFamily: \"inherit\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\"\n  },\n  counter: {\n    minWidth: \"2em\",\n    textAlign: \"center\",\n    fontFamily: \"body\"\n  },\n  icon: {\n    height: \"1.1em\",\n    display: \"block\",\n    margin: \"0 auto\",\n    fill: \"#878a8c\",\n    backfaceVisibility: \"hidden\"\n  },\n  button: {\n    border: \"none\",\n    outline: \"none\",\n    cursor: \"pointer\",\n    background: \"transparent\",\n    appearance: \"none\",\n    position: \"relative\",\n    fontSize: \"inherit\",\n    borderRadius: \"3px\",\n    transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n    width: \"2em\",\n    height: \"2em\",\n    padding: \"0\",\n    lineHeight: \"1em\",\n    \":hover\": {\n      transition: \"all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms\",\n      opacity: 0.75\n    }\n  }\n};\nvar iconScale$7 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ICON$6 = {\n  animation: iconScale$7,\n  durationMs: 700\n};\nvar Reddit = function Reddit(_ref) {\n  var isLoading = _ref.isLoading,\n    userVoteDirection = _ref.userVoteDirection,\n    totalScore = _ref.totalScore,\n    handlePressUp = _ref.handlePressUp,\n    handlePressDown = _ref.handlePressDown,\n    isCounterVisible = _ref.isCounterVisible;\n  var _useState = React.useState(false),\n    animationActiveUp = _useState[0],\n    setAnimationActiveUp = _useState[1];\n  var _useState2 = React.useState(false),\n    animationActiveDown = _useState2[0],\n    setAnimationActiveDown = _useState2[1];\n  var handleClickUp = React.useCallback(function (e) {\n    handlePressUp(e);\n    if (userVoteDirection !== 1) {\n      setAnimationActiveUp(true);\n    }\n  }, [userVoteDirection, handlePressUp]);\n  var handleClickDown = React.useCallback(function (e) {\n    handlePressDown(e);\n    if (userVoteDirection !== -1) {\n      setAnimationActiveDown(true);\n    }\n  }, [userVoteDirection, handlePressDown]);\n  var iconStyleUp = _extends({}, style$7.icon, {\n    animation: animationActiveUp ? ICON$6.animation + \" \" + ICON$6.durationMs + \"ms ease forwards\" : \"none\"\n  }, {\n    fill: userVoteDirection === 1 ? \"#cc3700\" : \"#25252550\"\n  });\n  var iconStyleDown = _extends({}, style$7.icon, {\n    animation: animationActiveDown ? ICON$6.animation + \" \" + ICON$6.durationMs + \"ms ease forwards\" : \"none\"\n  }, {\n    fill: userVoteDirection === -1 ? \"#5a75cc\" : \"#25252550\"\n  });\n  return themeUi.jsx(\"div\", {\n    sx: style$7.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClickUp,\n    disabled: isLoading,\n    onAnimationEnd: function onAnimationEnd() {\n      return setAnimationActiveUp(false);\n    },\n    sx: style$7.button\n  }, themeUi.jsx(RedditArrow, {\n    sx: iconStyleUp\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$7.counter\n  }, totalScore), isLoading && themeUi.jsx(\"div\", {\n    sx: style$7.counter\n  }, \"-\"), themeUi.jsx(\"button\", {\n    onClick: handleClickDown,\n    disabled: isLoading,\n    onAnimationEnd: function onAnimationEnd() {\n      return setAnimationActiveDown(false);\n    },\n    sx: _extends({}, style$7.button, {\n      transform: \"rotate(180deg)\"\n    })\n  }, themeUi.jsx(RedditArrow, {\n    sx: iconStyleDown\n  })));\n};\nvar templates$2 = {\n  Simple: Simple$2,\n  Chevron: Chevron$1,\n  Reddit: Reddit\n};\nvar UpdownButton = function UpdownButton(_ref) {\n  var id = _ref.id,\n    namespace = _ref.namespace,\n    hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n    children = _ref.children,\n    component = _ref.component,\n    onLoad = _ref.onLoad,\n    onPressUp = _ref.onPressUp,\n    onPressDown = _ref.onPressDown;\n  var client = React.useContext(ClientContext);\n  var _useState = React.useState(null),\n    response = _useState[0],\n    setResponse = _useState[1];\n  useSafeEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            if (!client) {\n              _context.next = 7;\n              break;\n            }\n            _context.next = 4;\n            return client.updownButtons.info({\n              id: id,\n              namespace: namespace\n            });\n          case 4:\n            result = _context.sent;\n            setResponse(result.data);\n            if (onLoad) {\n              onLoad(humps.camelizeKeys(result.data));\n            }\n          case 7:\n            _context.next = 13;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(\"Lyket error:\", _context.t0 == null ? void 0 : _context.t0.errors[0].message);\n            throw _context.t0;\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  })), [client, id, namespace, onLoad]);\n  var handlePressUp = React.useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.prev = 1;\n              if (!client) {\n                _context2.next = 8;\n                break;\n              }\n              _context2.next = 5;\n              return client.updownButtons.pressUp({\n                id: id,\n                namespace: namespace\n              });\n            case 5:\n              result = _context2.sent;\n              setResponse(result.data);\n              if (onPressUp) {\n                onPressUp(humps.camelizeKeys(result.data));\n              }\n            case 8:\n              _context2.next = 14;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error(\"Lyket error:\", _context2.t0 == null ? void 0 : _context2.t0.errors[0].message);\n              throw _context2.t0;\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 10]]);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [client, id, namespace, onPressUp]);\n  var handlePressDown = React.useCallback( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              _context3.prev = 1;\n              if (!client) {\n                _context3.next = 8;\n                break;\n              }\n              _context3.next = 5;\n              return client.updownButtons.pressDown({\n                id: id,\n                namespace: namespace\n              });\n            case 5:\n              result = _context3.sent;\n              setResponse(result.data);\n              if (onPressDown) {\n                onPressDown(humps.camelizeKeys(result.data));\n              }\n            case 8:\n              _context3.next = 14;\n              break;\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error(\"Lyket error:\", _context3.t0 == null ? void 0 : _context3.t0.errors[0].message);\n              throw _context3.t0;\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 10]]);\n    }));\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [client, id, namespace, onPressDown]);\n  var isCounterVisible = true;\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_score < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n  var props = {\n    isLoading: !response,\n    totalScore: (response == null ? void 0 : response.attributes.total_score) || 0,\n    userVoteDirection: (response == null ? void 0 : response.attributes.user_vote_direction) || 0,\n    handlePressUp: handlePressUp,\n    handlePressDown: handlePressDown,\n    isCounterVisible: isCounterVisible\n  };\n  if (children) {\n    return children(props);\n  }\n  var Component = component || Simple$2;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\nUpdownButton.templates = templates$2;\nvar Icon$1 = function Icon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    className: className,\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React__default.createElement(\"path\", {\n    d: \"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar style$8 = {\n  root: {\n    color: \"inherit\",\n    fontFamily: \"inherit\",\n    display: \"inline-flex\",\n    alignItems: \"center\"\n  },\n  counter: {\n    ml: \".5em\",\n    color: function color(theme) {\n      var _theme$rawColors;\n      return (_theme$rawColors = theme.rawColors) == null ? void 0 : _theme$rawColors.text;\n    },\n    fontFamily: \"body\",\n    whiteSpace: \"nowrap\"\n  },\n  icon: {\n    height: \"1.2em\",\n    display: \"block\",\n    margin: \"0 auto\",\n    fill: function fill(theme) {\n      var _theme$rawColors2;\n      return (_theme$rawColors2 = theme.rawColors) == null ? void 0 : _theme$rawColors2.icon;\n    }\n  },\n  iconActive: {\n    height: \"1.2em\",\n    display: \"block\",\n    margin: \"0 auto\",\n    fill: function fill(theme) {\n      var _theme$rawColors3;\n      return (_theme$rawColors3 = theme.rawColors) == null ? void 0 : _theme$rawColors3.primary;\n    }\n  },\n  ring: {\n    opacity: \"0\",\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: function borderColor(theme) {\n      var _theme$rawColors4;\n      return (_theme$rawColors4 = theme.rawColors) == null ? void 0 : _theme$rawColors4.highlight;\n    },\n    boxSizing: \"border-box\",\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  button: {\n    backgroundColor: \"transparent !important\",\n    border: \"none !important\",\n    outline: \"none !important\",\n    boxShadow: \"0 0 0\",\n    transform: \"translate3d(0,0,0)\",\n    cursor: \"pointer\",\n    appearance: \"none\",\n    position: \"relative\",\n    fontSize: \"inherit\",\n    transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n    lineHeight: \"1em\",\n    \":hover\": {\n      transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n      opacity: 0.75\n    }\n  },\n  buttonInactive: {\n    backgroundColor: \"transparent !important\",\n    border: \"none !important\",\n    outline: \"none !important\",\n    boxShadow: \"0 0 0\",\n    transform: \"translate3d(0,0,0)\",\n    cursor: \"pointer\",\n    appearance: \"none\",\n    position: \"relative\",\n    fontSize: \"inherit\",\n    transition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n    lineHeight: \"1em\"\n  }\n};\nvar iconScale$8 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    transform: \"scale(0)\"\n  },\n  \"52%\": {\n    transform: \"scale(1.2)\"\n  },\n  \"72%\": {\n    transform: \"scale(0.9)\"\n  },\n  \"100%\": {\n    transform: \"scale(1)\"\n  }\n});\nvar ringScale$5 = /*#__PURE__*/react.keyframes({\n  \"0%\": {\n    opacity: \"1\",\n    borderWidth: \"0.5em\"\n  },\n  \"52%\": {\n    opacity: \"0\",\n    borderWidth: \"0\"\n  }\n});\nvar RING$5 = {\n  durationMs: 600,\n  animation: ringScale$5\n};\nvar ICON$7 = {\n  animation: iconScale$8,\n  durationMs: 700\n};\nvar Base$1 = function Base(_ref) {\n  var isLoading = _ref.isLoading,\n    userRating = _ref.userRating,\n    averageRating = _ref.averageRating,\n    totalVotes = _ref.totalVotes,\n    _ref$showRating = _ref.showRating,\n    showRating = _ref$showRating === void 0 ? \"average\" : _ref$showRating,\n    totalReviewsLabel = _ref.totalReviewsLabel,\n    handlePress = _ref.handlePress,\n    isCounterVisible = _ref.isCounterVisible,\n    Icon = _ref.Icon,\n    iconColor = _ref.iconColor;\n  var _useState = React.useState(false),\n    animationActive = _useState[0],\n    setAnimationActive = _useState[1];\n  var handleClick = React.useCallback(function (e, index) {\n    e.preventDefault();\n    handlePress(index);\n    if (!userRating) {\n      setAnimationActive(true);\n      setTimeout(function () {\n        return setAnimationActive(false);\n      }, ICON$7.durationMs);\n    }\n  }, [userRating, handlePress]);\n  var ringStyle = _extends({}, style$8.ring, {\n    animation: animationActive ? RING$5.animation + \" \" + RING$5.durationMs + \"ms ease forwards\" : null\n  });\n  return themeUi.jsx(\"div\", {\n    sx: style$8.root\n  }, Array.from(Array(5).keys()).map(function (index) {\n    var selectedRating = showRating === \"average\" ? averageRating : userRating;\n    var currentRating = selectedRating === index + 1;\n    var iconStyle = _extends({}, selectedRating > index ? style$8.iconActive : style$8.icon, showRating === \"user\" && currentRating && {\n      animation: animationActive ? ICON$7.animation + \" \" + ICON$7.durationMs + \"ms ease forwards\" : null\n    });\n    if (iconColor) {\n      iconStyle = _extends({}, iconStyle, {\n        fill: selectedRating > index ? iconColor.active : iconColor.inactive\n      });\n    }\n    return themeUi.jsx(\"button\", {\n      key: \"\" + Icon.toString() + index,\n      onClick: function onClick(e) {\n        return handleClick(e, index + 1);\n      },\n      disabled: isLoading || showRating === \"average\",\n      sx: showRating === \"user\" ? style$8.button : style$8.buttonInactive\n    }, currentRating && themeUi.jsx(\"div\", {\n      sx: ringStyle\n    }), themeUi.jsx(Icon, {\n      sx: iconStyle,\n      className: \"icon-\" + index\n    }));\n  }), isCounterVisible && showRating === \"average\" && themeUi.jsx(\"span\", {\n    sx: style$8.counter\n  }, totalVotes, \" \", totalReviewsLabel || \"review\" + (totalVotes !== 1 ? \"s\" : \"\")));\n};\nvar Custom = function Custom(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base$1, Object.assign({}, props, {\n    Icon: Icon$1\n  }));\n};\nvar Icon$2 = function Icon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar Heart$2 = function Heart(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base$1, Object.assign({}, props, {\n    Icon: Icon$2\n  }));\n};\nvar Icon$3 = function Icon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    className: className,\n    version: \"1.1\",\n    viewBox: \"0 0 1200 1200\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React__default.createElement(\"path\", {\n    d: \"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\",\n    fillRule: \"evenodd\"\n  }));\n};\nvar Star = function Star(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return themeUi.jsx(Base$1, Object.assign({}, props, {\n    Icon: Icon$3,\n    iconColor: {\n      active: \"rgb(249, 199, 61)\",\n      inactive: \"#e6e6e6\"\n    }\n  }));\n};\nvar templates$3 = {\n  Custom: Custom,\n  Heart: Heart$2,\n  Star: Star\n};\nvar RateButton = function RateButton(_ref) {\n  var id = _ref.id,\n    namespace = _ref.namespace,\n    hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n    showRating = _ref.showRating,\n    children = _ref.children,\n    component = _ref.component,\n    onLoad = _ref.onLoad,\n    onPress = _ref.onPress;\n  var client = React.useContext(ClientContext);\n  var _useForceUpdate = useForceUpdate(),\n    registeredButtons = _useForceUpdate.registeredButtons,\n    forceUpdate = _useForceUpdate.forceUpdate;\n  var rateButtonId = (namespace || \"no-namespace\") + \":\" + id;\n  var shouldUpdate = registeredButtons[rateButtonId];\n  var _useState = React.useState(null),\n    response = _useState[0],\n    setResponse = _useState[1];\n  useSafeEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (client) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            _context.prev = 2;\n            _context.next = 5;\n            return client.rateButtons.info({\n              id: id,\n              namespace: namespace\n            });\n          case 5:\n            result = _context.sent;\n            setResponse(result.data);\n            if (onLoad) {\n              onLoad(humps.camelizeKeys(result.data));\n            }\n            _context.next = 14;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](2);\n            console.error(\"Lyket error:\", _context.t0 == null ? void 0 : _context.t0.errors[0].message);\n            throw _context.t0;\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 10]]);\n  })), [client, id, namespace, onLoad, setResponse, shouldUpdate]);\n  var handlePress = React.useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(rating) {\n      var _extends2, result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (client) {\n                _context2.next = 2;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 2:\n              _context2.prev = 2;\n              _context2.next = 5;\n              return client.rateButtons.press({\n                id: id,\n                namespace: namespace,\n                rating: rating\n              });\n            case 5:\n              result = _context2.sent;\n              setResponse(result.data);\n              forceUpdate(_extends({}, registeredButtons, (_extends2 = {}, _extends2[rateButtonId] = {}, _extends2)));\n              if (onPress) {\n                onPress(humps.camelizeKeys(result.data));\n              }\n              _context2.next = 15;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.error(\"Lyket error:\", _context2.t0 == null ? void 0 : _context2.t0.errors[0].message);\n              throw _context2.t0;\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 11]]);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [client, id, namespace, onPress, setResponse, shouldUpdate]);\n  var isCounterVisible = true;\n  if (!response || hideCounterIfLessThan && response && response.attributes.average_rating < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n  var props = {\n    showRating: showRating,\n    isLoading: !response,\n    totalVotes: (response == null ? void 0 : response.attributes.total_votes) || 0,\n    averageRating: (response == null ? void 0 : response.attributes.average_rating) || 0,\n    userRating: response == null ? void 0 : response.attributes.user_rating,\n    handlePress: handlePress,\n    isCounterVisible: isCounterVisible\n  };\n  if (children) {\n    return children(props);\n  }\n  var Component = component || Star;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\nRateButton.templates = templates$3;\nexports.ClapButton = ClapButton;\nexports.Client = Client;\nexports.LikeButton = LikeButton;\nexports.Provider = Provider;\nexports.RateButton = RateButton;\nexports.UpdownButton = UpdownButton;","map":{"version":3,"names":["getSessionId","window","Error","legacySessionId","localStorage","getItem","setItem","removeItem","sessionId","newSessionId","Math","random","toString","substring","lazyLoadScript","src","opts","Promise","resolve","reject","_opts","async","integrity","type","sc","document","querySelector","script","createElement","setAttribute","onload","onerror","event","body","appendChild","generateRecaptchaToken","siteKey","action","then","grecaptcha","ready","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","wrap","_callee$","_context","prev","next","execute","sent","t0","console","error","stop","ApiError","_Error","_inheritsLoose","requestInfo","requestInit","status","errors","_this","call","_wrapNativeSuper","now","Date","getTime","debounceCollect","func","wait","timer","timestamp","args","deferreds","onTimeout","_onTimeout","apply","arguments","elapsed","setTimeout","reset","_call","_callee2","results","i","_callee2$","_context2","length","debounced","callArgs","Array","_len","_key","push","LikeButtonClient","client","_proto","prototype","press","_ref","id","namespace","put","info","_ref2","enqueueToBatch","ClapButtonClient","_proto2","_ref3","_ref4","UpdownButtonClient","_proto3","_ref5","pressUp","_ref6","pressDown","_ref7","RateButtonClient","_proto4","_ref8","rating","data","attributes","_ref9","Client","_ref10","apiKey","recaptchaSiteKey","baseUrl","disableSessionId","likeButtons","clapButtons","updownButtons","rateButtons","batch","bind","_proto5","get","url","request","_batch","calls","result","method","urls","map","abrupt","responses","_x","recaptchaAction","_request","input","init","defaultHeaders","response","errorMessages","Accept","Authorization","_extends","headers","JSON","stringify","fetch","json","_x2","_x3","ClientContext","React__default","createContext","RatingContext","React","undefined","RatingProvider","children","_useState","useState","registeredButtons","forceUpdate","value","Provider","useForceUpdate","context","useContext","defaultTheme","colors","icon","background","text","primary","secondary","highlight","fonts","clientInstances","getClientInstanceForSettings","settings","key","customTheme","theme","setClient","useEffect","themeUi","jsx","ThemeProvider","config","useRootStyles","useLocalStorage","useColorSchemeMediaQuery","useSafeEffect","effect","deps","setState","safeRunner","_safeRunner","concat","ClapFull","className","viewBox","d","style","root","color","fontFamily","display","alignItems","counter","ml","_theme$rawColors","rawColors","height","margin","fill","_theme$rawColors2","ring","opacity","width","borderRadius","border","borderColor","_theme$rawColors3","boxSizing","position","top","left","transform","button","outline","boxShadow","cursor","appearance","fontSize","transition","padding","lineHeight","bg","_theme$rawColors4","baloon","justifyContent","backgroundColor","centeredContainer","buttonContainer","baloonFade","react","keyframes","iconScale","ringScale","borderWidth","BALOON","durationMs","animation","ICON","RING","Simple","isLoading","userClaps","totalClaps","handlePress","isCounterVisible","animationActive","setAnimationActive","timeoutId","useRef","handleClick","useCallback","e","current","clearTimeout","baloonStyle","iconStyle","ringStyle","buttonStyle","sx","_timeoutId$current","onClick","disabled","ClapHeart","version","xmlns","x","y","style$1","p","svg","baloonFade$1","triangleFade","iconScale$1","BALOON$1","TRIANGLES","count","size","CIRCLES","ICON$1","Heart","triangles","trianglesStyle","borderLeft","borderRight","borderTop","trianglesContainerStyle","transformOrigin","marginLeft","circles","_i","circlesStyle","circleContainerStyle","ClapEmpty","fillRule","ClapFull$1","style$2","baloonFade$2","triangleFade$1","iconScale$2","BALOON$2","TRIANGLES$1","CIRCLES$1","ICON$2","Medium","Icon","templates","ClapButton","hideCounterIfLessThan","component","onLoad","onPress","setResponse","humps","camelizeKeys","message","preventDefault","total_claps","props","user_claps","Component","Object","assign","ThumbIcon","style$3","iconScale$3","ringScale$1","RING$1","ICON$3","Base","userLiked","totalLikes","Simple$1","_objectDestructuringEmpty","TwitterHeartFull","TwitterHeartEmpty","style$4","backfaceVisibility","dotsRotContainer","dotsContainer","dotBurst","iconScale$4","ringScale$2","DOTS","RING$2","HEART","Twitter","dots","ChevronIcon","Chevron","Heart$1","templates$1","LikeButton","total_likes","user_has_liked","ThumbIcon$1","style$5","mr","minWidth","textAlign","fontWeight","iconScale$5","ringScale$3","RING$3","ICON$4","Simple$2","userVoteDirection","totalScore","handlePressUp","handlePressDown","animationActiveUp","setAnimationActiveUp","_useState2","animationActiveDown","setAnimationActiveDown","handleClickUp","handleClickDown","iconStyleUp","iconStyleDown","ringStyleUp","ringStyleDown","upButtonStyle","downButtonStyle","ChevronIcon$1","style$6","iconScale$6","ringScale$4","RING$4","ICON$5","Chevron$1","RedditArrow","style$7","flexDirection","iconScale$7","ICON$6","Reddit","onAnimationEnd","templates$2","UpdownButton","onPressUp","onPressDown","_callee3","_callee3$","_context3","total_score","user_vote_direction","Icon$1","style$8","whiteSpace","iconActive","buttonInactive","iconScale$8","ringScale$5","RING$5","ICON$7","Base$1","userRating","averageRating","totalVotes","_ref$showRating","showRating","totalReviewsLabel","iconColor","index","from","keys","selectedRating","currentRating","active","inactive","Custom","Icon$2","Heart$2","Icon$3","Star","templates$3","RateButton","_useForceUpdate","rateButtonId","shouldUpdate","_extends2","average_rating","total_votes","user_rating"],"sources":["/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/sessionId.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/lazyLoadScript.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/generateRecaptchaToken.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/ApiError.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/debounceCollect.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Client/index.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/contexts/ClientContext.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/contexts/RatingContext.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/theme.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/Provider.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/hooks/useSafeEffect.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Simple/icons/ClapFull.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Simple/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Simple/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Heart/icons/ClapHeart.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Heart/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Heart/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Medium/icons/ClapEmpty.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Medium/icons/ClapFull.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Medium/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/templates/Medium/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/ClapButton/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Simple/icons/ThumbIcon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Base/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Base/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Simple/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Twitter/icons/TwitterHeartFull.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Twitter/icons/TwitterHeartEmpty.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Twitter/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Twitter/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Chevron/icons/ChevronIcon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Chevron/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Heart/icons/Icon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/templates/Heart/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/LikeButton/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Simple/icons/ThumbIcon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Simple/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Simple/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Chevron/icons/ChevronIcon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Chevron/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Chevron/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Reddit/icons/RedditArrow.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Reddit/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/templates/Reddit/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/UpdownButton/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Custom/icons/Icon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Base/style.ts","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Base/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Custom/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Heart/icons/Icon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Heart/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Star/icons/Icon.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/templates/Star/index.tsx","/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@lyket/react/src/RateButton/index.tsx"],"sourcesContent":["export const getSessionId = () => {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  }\n\n  //TODO: remove sessionId legacy name\n  const legacySessionId = window.localStorage.getItem('sessionId');\n\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n\n  const sessionId = window.localStorage.getItem('lyket-session-id');\n\n  if (sessionId) {\n    return sessionId;\n  }\n\n  const newSessionId =\n    Math.random()\n      .toString(36)\n      .substring(2, 15) +\n    Math.random()\n      .toString(36)\n      .substring(2, 15);\n\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n\n  return newSessionId;\n};\n","type Options = Partial<{\n  async: boolean;\n  integrity: string;\n  type: string;\n}>;\n\nexport function lazyLoadScript(src: string, opts: Options = {}) {\n  return new Promise(function(resolve, reject) {\n    const { async, integrity, type } = opts;\n\n    const sc = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.src = src;\n\n    if (async) { script.setAttribute('async', 'true'); }\n    if (integrity) { script.setAttribute('integrity', integrity); }\n    if (type) { script.setAttribute('type', type); }\n\n    script.onload = () => resolve(script);\n    script.onerror = event => reject(event);\n\n    document.body.appendChild(script);\n  });\n}\n","import { lazyLoadScript } from './lazyLoadScript';\n\ndeclare const grecaptcha: any;\n\nexport function generateRecaptchaToken(\n  siteKey: string,\n  action: string\n): Promise<string> {\n  return lazyLoadScript(\n    `https://www.google.com/recaptcha/api.js?render=${siteKey}`\n  ).then(\n    () =>\n      new Promise((resolve, reject) => {\n        grecaptcha.ready(async () => {\n          try {\n            const token = await grecaptcha.execute(siteKey, {\n              action,\n            });\n            resolve(token);\n          } catch (e) {\n            console.error('recaptcha error!', e);\n            reject(e);\n          }\n        });\n      })\n  );\n}\n","export class ApiError extends Error {\n  requestInfo: RequestInfo;\n  requestInit: RequestInit;\n  status: Response['status'];\n  errors: [Response];\n\n  constructor(requestInfo, requestInit, status, errors) {\n    super(`Failed API request to ${requestInfo} with status ${status}`);\n\n    this.requestInfo = requestInfo;\n    this.requestInit = requestInit;\n    this.status = status;\n    this.errors = errors;\n  }\n}\n","const now = () => new Date().getTime();\n\ntype Deferred = {\n  resolve: (value: any) => void;\n  reject: (value: any) => void;\n};\n\nexport function debounceCollect<Args extends any[]>(\n  func: (calls: Args[]) => Promise<any[]>,\n  wait: number\n) {\n  let timer: NodeJS.Timeout | null;\n  let timestamp: number;\n\n  let args: Args[] = [];\n  let deferreds: Deferred[] = [];\n\n  async function onTimeout() {\n    let elapsed = now() - timestamp;\n\n    if (elapsed < wait && elapsed > 0) {\n      timer = setTimeout(onTimeout, wait - elapsed);\n    } else {\n      timer = null;\n      await call();\n      if (!timer) { reset(); }\n    }\n  }\n\n  async function call() {\n    const results = await func.call(null, args);\n\n    for (let i = 0; i < results.length; i++) {\n      deferreds[i].resolve(results[i]);\n    }\n  }\n\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n\n  return function debounced(...callArgs: Args): Promise<any> {\n    args.push(callArgs);\n\n    timestamp = now();\n\n    if (!timer) { timer = setTimeout(onTimeout, wait); }\n\n    return new Promise((resolve, reject) => {\n      deferreds.push({ resolve, reject });\n    });\n  };\n}\n","import { getSessionId } from \"./sessionId\";\nimport { generateRecaptchaToken } from \"./generateRecaptchaToken\";\nimport { ApiError } from \"./ApiError\";\nimport { debounceCollect } from \"./debounceCollect\";\n\nexport type ConstructorArguments = {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tbaseUrl?: string;\n\tdisableSessionId?: boolean;\n};\n\nclass LikeButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonPress.PathParameters): Promise<Paths.LikeButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/like-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/like-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.LikeButtonInfo.PathParameters): Promise<Paths.LikeButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/like-buttons/${namespace}/${id}` : `/like-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass ClapButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonPress.PathParameters): Promise<Paths.ClapButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/clap-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/clap-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.ClapButtonInfo.PathParameters): Promise<Paths.ClapButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/clap-buttons/${namespace}/${id}` : `/clap-buttons/${id}`,\n\t\t);\n\t}\n}\n\nclass UpdownButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonInfo.PathParameters): Promise<Paths.UpdownButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}`\n\t\t\t\t: `/updown-buttons/${id}`,\n\t\t);\n\t}\n\n\tpressUp({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressUp.PathParameters): Promise<Paths.UpdownButtonPressUp.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-up`\n\t\t\t\t: `/updown-buttons/${id}/press-up`,\n\t\t\t\"pressUp\",\n\t\t);\n\t}\n\n\tpressDown({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.UpdownButtonPressDown.PathParameters): Promise<Paths.UpdownButtonPressDown.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/updown-buttons/${namespace}/${id}/press-down`\n\t\t\t\t: `/updown-buttons/${id}/press-down`,\n\t\t\t\"pressDown\",\n\t\t);\n\t}\n}\n\nclass RateButtonClient {\n\tclient: Client;\n\n\tconstructor(client: Client) {\n\t\tthis.client = client;\n\t}\n\n\tpress({\n\t\tid,\n\t\tnamespace,\n\t\trating,\n\t}: Paths.RateButtonPress.PathParameters): Promise<Paths.RateButtonPress.Responses.$200> {\n\t\treturn this.client.put(\n\t\t\tnamespace\n\t\t\t\t? `/rate-buttons/${namespace}/${id}/press`\n\t\t\t\t: `/rate-buttons/${id}/press`,\n\t\t\t\"press\",\n\t\t\t{\n\t\t\t\ttype: \"rate-buttons\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { rating },\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\tinfo({\n\t\tid,\n\t\tnamespace,\n\t}: Paths.RateButtonInfo.PathParameters): Promise<Paths.RateButtonInfo.Responses.$200> {\n\t\treturn this.client.enqueueToBatch(\n\t\t\tnamespace ? `/rate-buttons/${namespace}/${id}` : `/rate-buttons/${id}`,\n\t\t);\n\t}\n}\n\nexport class Client {\n\tapiKey: string;\n\tbaseUrl: string;\n\tdisableSessionId: boolean;\n\trecaptchaSiteKey: string | undefined;\n\tlikeButtons: LikeButtonClient;\n\tclapButtons: ClapButtonClient;\n\trateButtons: RateButtonClient;\n\tupdownButtons: UpdownButtonClient;\n\tenqueueToBatch: (url: string) => Promise<any>;\n\n\tconstructor({\n\t\tapiKey,\n\t\trecaptchaSiteKey,\n\t\tbaseUrl,\n\t\tdisableSessionId,\n\t}: ConstructorArguments) {\n\t\tthis.apiKey = apiKey;\n\t\tthis.recaptchaSiteKey = recaptchaSiteKey;\n\t\tthis.disableSessionId = disableSessionId;\n\t\tthis.baseUrl = baseUrl || \"https://api.lyket.dev\";\n\n\t\tthis.likeButtons = new LikeButtonClient(this);\n\t\tthis.clapButtons = new ClapButtonClient(this);\n\t\tthis.updownButtons = new UpdownButtonClient(this);\n\t\tthis.rateButtons = new RateButtonClient(this);\n\n\t\tthis.enqueueToBatch = debounceCollect<[string]>(this.batch.bind(this), 500);\n\t}\n\n\tget(url: string) {\n\t\treturn this.request(url);\n\t}\n\n\tasync batch(calls: [string][]) {\n\t\t// return Promise.all(calls.map(args => this.request(args[0])));\n\t\tconst url: RequestInfo = \"/buttons/batch\";\n\n\t\tconst result = await this.request(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: {\n\t\t\t\ttype: \"batch\",\n\t\t\t\tdata: {\n\t\t\t\t\tattributes: { urls: calls.map((args) => args[0]) },\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn result.data.attributes.responses;\n\t}\n\n\tput(url: string, recaptchaAction: string, body = {}) {\n\t\treturn this.request(url, { method: \"PUT\", recaptchaAction, body });\n\t}\n\n\tasync request(\n\t\tinput: string,\n\t\tinit?: {\n\t\t\tmethod: string;\n\t\t\tbody?: Record<string, any>;\n\t\t\trecaptchaAction?: string;\n\t\t\theaders?: Record<string, string>;\n\t\t},\n\t) {\n\t\tif (typeof window === \"undefined\") {\n\t\t\tthrow new Error(\"Client is supposed to be used client-side only!\");\n\t\t}\n\n\t\tconst defaultHeaders: Record<string, string> = {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${this.apiKey}`,\n\t\t};\n\n\t\tif (!this.disableSessionId) {\n\t\t\tdefaultHeaders[\"x-session-id\"] = getSessionId();\n\t\t}\n\n\t\tif (this.recaptchaSiteKey && init && init.recaptchaAction) {\n\t\t\tdefaultHeaders[\"x-recaptcha-token\"] = await generateRecaptchaToken(\n\t\t\t\tthis.recaptchaSiteKey,\n\t\t\t\tinit.recaptchaAction,\n\t\t\t);\n\t\t}\n\n\t\tconst url: RequestInfo = `${this.baseUrl}/v1${input}`;\n\t\tconst requestInit: RequestInit = init\n\t\t\t? {\n\t\t\t\t\t...init,\n\t\t\t\t\theaders: { ...defaultHeaders, ...init.headers },\n\t\t\t\t\tbody: init.body && JSON.stringify(init.body),\n\t\t\t  }\n\t\t\t: { headers: defaultHeaders };\n\n\t\tconst response = await fetch(url, requestInit);\n\n\t\tif (response.status < 200 || response.status >= 300) {\n\t\t\tconst errorMessages = await response.json();\n\n\t\t\tthrow new ApiError(\n\t\t\t\turl,\n\t\t\t\trequestInit,\n\t\t\t\tresponse.status,\n\t\t\t\terrorMessages.errors,\n\t\t\t);\n\t\t}\n\n\t\treturn response.json();\n\t}\n}\n","import React from 'react';\nimport { Client } from '../Client';\n\nexport const ClientContext = React.createContext<Client | null>(null);\n","import React, { useState, useContext, createContext } from \"react\";\n\ntype Dispatch = React.Dispatch<React.SetStateAction<{}>>;\ntype State = Record<string, number>;\ntype RatingProviderProps = { children: React.ReactNode };\n\nconst RatingContext = createContext<\n\t{ registeredButtons: State; forceUpdate: Dispatch } | undefined\n>(undefined);\n\nconst RatingProvider = ({ children }: RatingProviderProps) => {\n\tconst [registeredButtons, forceUpdate] = useState({});\n\tconst value = { registeredButtons, forceUpdate };\n\treturn (\n\t\t<RatingContext.Provider value={value}>{children}</RatingContext.Provider>\n\t);\n};\n\nconst useForceUpdate = () => {\n\tconst context = useContext(RatingContext);\n\tif (context === undefined) {\n\t\tthrow new Error(\"useForceUpdate must be used within a RatingProvider\");\n\t}\n\treturn context;\n};\n\nexport { RatingProvider, useForceUpdate };\n","export type ThemeRecord = {\n  colors?: Colors;\n  fonts?: Fonts;\n};\n\ntype Colors = {\n  icon?: string;\n  text?: string;\n  background?: string;\n  primary?: string;\n  secondary?: string;\n  highlight?: string;\n};\n\ntype Fonts = {\n  body?: string;\n};\n\nexport const defaultTheme: ThemeRecord = {\n  colors: {\n    icon: '#292929',\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed',\n  },\n  fonts: {\n    body: 'inherit',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { FC, HTMLAttributes, useState, useEffect, ReactNode } from \"react\";\nimport { jsx, ThemeProvider } from \"theme-ui\";\nimport { Client, ConstructorArguments } from \"./Client\";\nimport { ClientContext } from \"./contexts/ClientContext\";\nimport { RatingProvider } from \"./contexts/RatingContext\";\nimport { defaultTheme, ThemeRecord } from \"./theme\";\n\nexport interface ProviderProps extends HTMLAttributes<HTMLDivElement> {\n\tapiKey: string;\n\trecaptchaSiteKey?: string;\n\tdisableSessionId?: boolean;\n\tbaseUrl?: string;\n\tchildren?: ReactNode;\n\ttheme?: ThemeRecord | null;\n}\n\nconst clientInstances: Record<string, Client> = {};\n\nconst getClientInstanceForSettings = (settings: ConstructorArguments) => {\n\tconst key = JSON.stringify(settings);\n\n\tif (clientInstances[key]) {\n\t\treturn clientInstances[key];\n\t}\n\n\tconst client = new Client(settings);\n\tclientInstances[key] = client;\n\treturn client;\n};\n\nexport const Provider: FC<ProviderProps> = ({\n\tapiKey,\n\trecaptchaSiteKey,\n\tdisableSessionId,\n\tbaseUrl,\n\tchildren,\n\ttheme: customTheme,\n}) => {\n\tconst [client, setClient] = useState<Client>(\n\t\tgetClientInstanceForSettings({\n\t\t\tapiKey,\n\t\t\trecaptchaSiteKey,\n\t\t\tdisableSessionId,\n\t\t\tbaseUrl,\n\t\t}),\n\t);\n\n\tuseEffect(() => {\n\t\tsetClient(\n\t\t\tgetClientInstanceForSettings({\n\t\t\t\tapiKey,\n\t\t\t\trecaptchaSiteKey,\n\t\t\t\tdisableSessionId,\n\t\t\t\tbaseUrl,\n\t\t\t}),\n\t\t);\n\t}, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n\n\tconst theme = customTheme || { colors: {}, fonts: {} };\n\tconst colors = { ...defaultTheme.colors, ...theme.colors };\n\tconst fonts = { ...defaultTheme.fonts, ...theme.fonts };\n\n\treturn (\n\t\t<ThemeProvider\n\t\t\ttheme={{\n\t\t\t\tconfig: {\n\t\t\t\t\tuseRootStyles: false,\n\t\t\t\t\tuseLocalStorage: false,\n\t\t\t\t\tuseColorSchemeMediaQuery: false,\n\t\t\t\t},\n\t\t\t\tcolors,\n\t\t\t\tfonts,\n\t\t\t}}\n\t\t>\n\t\t\t<ClientContext.Provider value={client}>\n\t\t\t\t<RatingProvider>{children}</RatingProvider>\n\t\t\t</ClientContext.Provider>\n\t\t</ThemeProvider>\n\t);\n};\n","import React, { useState, useEffect } from 'react';\n\ntype PromiseFactory = () => Promise<any>;\n\nexport const useSafeEffect = (\n  effect: PromiseFactory,\n  deps?: React.DependencyList | undefined\n) => {\n  const setState = useState<boolean>()[1];\n\n  return useEffect(() => {\n    async function safeRunner() {\n      try {\n        await effect();\n      } catch (e) {\n        setState(() => {\n          throw e;\n        });\n      }\n    }\n\n    safeRunner();\n    // eslint-disable-next-line\n  }, [...(deps || []), setState]);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    color: theme => theme.rawColors?.text,\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1.6em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'body',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.8em',\n    width: '2.8em',\n    top: '-1.4em',\n    left: '-1.4em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { ClapButtonTemplateComponentProps } from \"../..\";\nimport { ClapFull } from \"./icons/ClapFull\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState, useRef } from \"react\";\nimport { style } from \"./style\";\n\nconst baloonFade = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-3.2em)\",\n\t},\n\t\"72%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-4em)\",\n\t},\n\t\"100%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-6em)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst BALOON = {\n\tdurationMs: 800,\n\tanimation: baloonFade,\n};\n\nconst ICON = {\n\tdurationMs: 700,\n\tanimation: iconScale,\n};\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nexport const Simple: FC<ClapButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserClaps,\n\ttotalClaps,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tsetAnimationActive(true);\n\t\t\tif (timeoutId.current) {\n\t\t\t\tclearTimeout(timeoutId.current);\n\t\t\t}\n\t\t\ttimeoutId.current = setTimeout(\n\t\t\t\t() => setAnimationActive(false),\n\t\t\t\tBALOON.durationMs,\n\t\t\t);\n\t\t\thandlePress(e);\n\t\t},\n\t\t[handlePress],\n\t);\n\n\tconst baloonStyle = {\n\t\t...style.baloon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\t...style.button,\n\t\tbg: (theme) =>\n\t\t\tuserClaps ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<div sx={style.buttonContainer}>\n\t\t\t\t<div sx={style.centeredContainer}>\n\t\t\t\t\t<div key={timeoutId.current?.toString()} sx={baloonStyle}>\n\t\t\t\t\t\t{userClaps}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button onClick={handleClick} sx={buttonStyle} disabled={isLoading}>\n\t\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t\t<ClapFull sx={iconStyle} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n\t\t</div>\n\t);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapHeart = ({ className }: Props) => (\n  <svg\n    version=\"1.1\"\n    id=\"ClapHeart\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 110 115\"\n    aria-label=\"clap\"\n    className={className}\n  >\n    <g>\n      <g>\n        <path d=\"M42.68,27.43c-0.7,0-1.4-0.27-1.93-0.8l-5.91-5.91c-1.07-1.07-1.07-2.79,0-3.86c1.07-1.07,2.79-1.07,3.86,0 l5.91,5.91c1.07,1.07,1.07,2.79,0,3.86C44.08,27.16,43.38,27.43,42.68,27.43z\" />\n      </g>\n      <g>\n        <path d=\"M70.43,26.52c-0.7,0-1.4-0.27-1.93-0.8c-1.07-1.07-1.07-2.79,0-3.86l5.91-5.91c1.07-1.07,2.79-1.07,3.86,0 c1.07,1.07,1.07,2.79,0,3.86l-5.91,5.91C71.82,26.25,71.13,26.52,70.43,26.52z\" />\n      </g>\n      <path d=\"M67.23,7.48c-0.12-1.34-0.82-2.56-1.93-3.34l0,0c-1.77-1.24-4.33-0.97-5.94,0.65l-2.8,2.79l-2.79-2.79 c-1.61-1.61-4.17-1.9-5.94-0.65c-1.11,0.78-1.82,2-1.93,3.34c-0.12,1.34,0.36,2.66,1.31,3.61L53.11,17c0.86,0.86,2,1.33,3.22,1.33 c0.07,0,0.15,0,0.23-0.01c0.08,0.01,0.15,0.01,0.23,0.01c1.22,0,2.36-0.47,3.22-1.33l5.91-5.91C66.86,10.14,67.34,8.82,67.23,7.48z\" />\n      <path d=\"M104.64,60.44c-0.28-1.84-1.22-3.52-2.54-4.83l-0.06-0.06c-1.02-1.02-2.25-1.75-3.6-2.15l0.16-0.16 c3.32-3.32,3.33-8.71,0-12.04l-0.21-0.21c-1-1-2.19-1.71-3.5-2.12c1.4-3.13,0.82-6.94-1.75-9.5l-0.04-0.04 c-1.71-1.71-4.03-2.72-6.45-2.65c-1.76,0.05-3.48,0.54-4.8,1.67c-0.29,0.25-2.61,2.55-3.11,3.04c-0.8,0.79-0.71,2.1,0.19,2.77 l0.88,0.66c0.61,0.46,1.47,0.4,2.01-0.14l2.29-2.29c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-11.3,11.3c-0.85-0.69-1.81-1.21-2.84-1.53c1.4-3.13,0.82-6.94-1.75-9.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-1.22,0-2.41,0.26-3.49,0.74c-0.39-1.28-1.1-2.49-2.11-3.5l-0.21-0.21 c-1.61-1.61-3.75-2.49-6.02-2.49c-2.27,0-4.41,0.89-6.02,2.49L34.35,48.43c-0.4-1.34-1.13-2.58-2.15-3.6l-1.49-1.49 c-1.26-1.26-2.94-1.96-4.73-1.96c-1.79,0-3.47,0.7-4.73,1.96l-8.49,8.49l-0.58,0.58l-3.64,3.64c-3.64,3.64-5.52,9.27-5.3,15.84 c0.32,9.4,4.72,18.68,11.76,24.83c9.22,8.05,15.07,11.87,23.37,11.87c1.2,0,2.47-0.08,3.9-0.24c9.42-1.05,16.6-7.92,17.23-8.55 l0.44-0.42c0.47-0.04,0.93-0.07,1.43-0.13c9.42-1.05,16.6-7.92,17.23-8.55l23.59-22.88l0.05-0.05 C104.16,65.87,105.05,63.2,104.64,60.44z M92.38,43.04c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L81.75,63.66 c-0.74-0.51-1.55-0.92-2.4-1.17l0.16-0.16c2.62-2.62,3.16-6.53,1.65-9.7l8.43-8.43C90.36,43.43,91.37,43.04,92.38,43.04z M56.33,96.56c0,0-6.37,6.37-14.55,7.28c-1.2,0.13-2.32,0.21-3.4,0.21c-6.26,0-10.96-2.53-20.38-10.75 c-11.05-9.64-13.16-27.1-6.24-34.03l3.64-3.64l0.58-0.58l8.49-8.49c0.42-0.42,0.97-0.63,1.51-0.63c0.55,0,1.1,0.21,1.51,0.63 l1.49,1.49c1.55,1.55,1.55,4.06,0,5.6l-6.13,6.2c-0.89,0.9-0.89,2.35,0.01,3.25c0.45,0.45,1.04,0.67,1.63,0.67 c0.59,0,1.18-0.22,1.63-0.67l8.38-8.38l18.7-18.7c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21 c1.55,1.55,1.55,4.06,0,5.61l-17.2,17.2c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59 l20.38-20.38c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.61L50.56,67.56 c-0.79,0.79-0.78,2.07,0.02,2.85c0.39,0.38,0.89,0.57,1.4,0.57c0.51,0,1.02-0.2,1.41-0.59L70.48,53.3c0.77-0.77,1.79-1.16,2.8-1.16 c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c0.38,0.38,0.66,0.81,0.85,1.28l0.27,1.59l0.04-0.04c-0.01,1.01-0.39,2.01-1.16,2.78 L59.54,75.87c-0.91,0.91-0.91,2.4,0.02,3.3c0.45,0.44,1.04,0.66,1.62,0.66c0.59,0,1.19-0.23,1.64-0.68l11.3-11.3 c0.77-0.77,1.79-1.16,2.8-1.16c1.01,0,2.03,0.39,2.8,1.16l0.21,0.21c1.55,1.55,1.55,4.06,0,5.6L56.33,96.56z M99.03,64.57 l-23.6,22.89c0,0-3.81,3.8-9.32,5.94L83.1,76.93l0.02-0.02l0.02-0.02c1.61-1.61,2.49-3.74,2.49-6.02c0-1.3-0.3-2.55-0.84-3.68 l8.42-8.42c0.77-0.77,1.79-1.16,2.8-1.16s2.03,0.39,2.8,1.16l0.21,0.21C100.58,60.51,100.58,63.02,99.03,64.57z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.4em',\n    fontFamily: 'body',\n    color: theme => theme.rawColors?.text,\n  },\n  icon: {\n    height: '2.2em',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.05)',\n        },\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    fontFamily: 'body',\n    borderRadius: '100%',\n    fontSize: '.6em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx, ThemeUIStyleObject } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapHeart } from './icons/ClapHeart';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.2',\n    transform: 'translateY(-3.2em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.8em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5.2em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1.05)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: theme => theme.rawColors?.secondary,\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: theme => theme.rawColors?.primary,\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Heart: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    const trianglesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      borderLeft: `${TRIANGLES.size}em solid transparent`,\n      borderRight: `${TRIANGLES.size}em solid transparent`,\n      borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const trianglesContainerStyle = {\n      transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n      transformOrigin: `${TRIANGLES.size}em 0`,\n      marginLeft: `-${TRIANGLES.size}em`,\n    };\n\n    triangles.push(\n      <div key={i} sx={trianglesContainerStyle}>\n        <div sx={trianglesStyle} />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    const circlesStyle: ThemeUIStyleObject = {\n      width: '0',\n      height: '0',\n      opacity: '0',\n      padding: `${CIRCLES.size}em`,\n      backgroundColor: `${CIRCLES.color}`,\n      borderRadius: '100%',\n      position: 'absolute',\n      animation: animationActive\n        ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n        : null,\n    };\n\n    const circleContainerStyle = {\n      transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n      transformOrigin: `${CIRCLES.size}em 0`,\n      marginLeft: `-${CIRCLES.size}em`,\n    };\n\n    circles.push(\n      <div key={i} sx={circleContainerStyle}>\n        <div sx={circlesStyle} />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const iconStyle = {\n    ...style.icon,\n    fill: theme =>\n      userClaps && userClaps > 0\n        ? theme.rawColors?.highlight\n        : theme.rawColors?.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <ClapHeart sx={iconStyle} />\n        </button>\n      </div>\n\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 33 33\" aria-label=\"clap\" className={className}>\n    <path\n      d=\"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\" />\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.6em',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '2em',\n    fill: theme => theme.rawColors?.icon,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        opacity: 0.65,\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(0.9)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    fontFamily: 'inherit',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: '#292929',\n    borderRadius: '100%',\n    fontSize: '.7em',\n    height: '2.4em',\n    width: '2.4em',\n    top: '-1.2em',\n    left: '-1.2em',\n    '@media (hover: hover)': {\n      ':hover': {\n        opacity: '1',\n      },\n    },\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonContainer: {\n    position: 'relative',\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapEmpty } from './icons/ClapEmpty';\nimport { ClapFull } from './icons/ClapFull';\nimport { keyframes } from '@emotion/react';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0.5',\n    transform: 'translateY(-2.6em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-3.4em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-5em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.1)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\n\nexport const Medium: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    triangles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n          transformOrigin: `${TRIANGLES.size}em 0`,\n          marginLeft: `-${TRIANGLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            borderLeft: `${TRIANGLES.size}em solid transparent`,\n            borderRight: `${TRIANGLES.size}em solid transparent`,\n            borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    circles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n          transformOrigin: `${CIRCLES.size}em 0`,\n          marginLeft: `-${CIRCLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            padding: `${CIRCLES.size}em`,\n            backgroundColor: `${CIRCLES.color}`,\n            borderRadius: '100%',\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const Icon = userClaps && userClaps > 0 ? ClapFull : ClapEmpty;\n\n  const iconStyle = {\n    ...style.icon,\n    animation: animationActive\n      ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n      : null,\n  };\n\n  const baloonStyle = {\n    ...style.baloon,\n    ...{\n      animation: animationActive\n        ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <div sx={style.root}>\n      <div sx={style.buttonContainer}>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current?.toString()}\n            sx={baloonStyle}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n          <div sx={style.centeredContainer}> {triangles} </div>\n          <div sx={style.centeredContainer}> {circles} </div>\n          <Icon sx={iconStyle} />\n        </button>\n      </div>\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Heart } from \"./templates/Heart\";\nimport { Medium } from \"./templates/Medium\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tMedium,\n\tHeart,\n};\n\nexport interface ClapButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserClaps: number | undefined;\n\ttotalClaps: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.ClapButton[\"data\"];\n\nexport interface ClapButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: ClapButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<ClapButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<ClapButtonTemplateComponentProps>;\n\t\tMedium: React.FC<ClapButtonTemplateComponentProps>;\n\t\tHeart: React.FC<ClapButtonTemplateComponentProps>;\n\t};\n};\n\nconst ClapButton: FCWithTemplates<ClapButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.ClapButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.clapButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.clapButtons.press({ id, namespace });\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPress) {\n\t\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_claps < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalClaps: response?.attributes.total_claps || 0,\n\t\tuserClaps: response?.attributes.user_claps || 0,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nClapButton.templates = templates;\n\nexport { ClapButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tbg: (theme) => theme.rawColors?.background,\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tborderRadius: \"100% !important\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseLikeButtonProps extends LikeButtonTemplateComponentProps {\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseLikeButtonProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePress(e);\n\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst iconStyle = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst buttonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserLiked ? theme.rawColors?.primary : theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClick}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...buttonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyle} />\n\t\t\t\t<Icon sx={iconStyle} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Simple: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ThumbIcon} />;\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\" />\n    </g>\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\" />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".4em\",\n\t\tfontFamily: \"body\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t},\n\ticon: {\n\t\theight: \"1.7em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"100% !important\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"3em !important\",\n\t\theight: \"3em !important\",\n\t\tpadding: \"0 !important\",\n\t\tlineHeight: \"1em\",\n\t\t\"@media (hover: hover)\": {\n\t\t\t\":hover\": {\n\t\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\t\tbackgroundColor: \"#E5214A20\",\n\t\t\t},\n\t\t},\n\t},\n\tdotsRotContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tdotsContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%) rotate(165deg)\",\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { TwitterHeartFull } from \"./icons/TwitterHeartFull\";\nimport { TwitterHeartEmpty } from \"./icons/TwitterHeartEmpty\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst dotBurst = keyframes({\n\t\"0%\": {\n\t\topacity: \"0\",\n\t\ttransform: \"translateY(-0.5em) scale(1)\",\n\t},\n\t\"52%\": {\n\t\topacity: \"1\",\n\t\ttransform: \"translateY(-1.6em) scale(1.3)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"translateY(-2.7em) scale(0)\",\n\t},\n});\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst DOTS = {\n\tcount: 6,\n\tsize: 0.2,\n\tcolors: [\n\t\t\"lightcoral\",\n\t\t\"yellow\",\n\t\t\"pink\",\n\t\t\"lightseagreen\",\n\t\t\"orange\",\n\t\t\"aliceblue\",\n\t],\n\tdurationMs: 600,\n\tanimation: dotBurst,\n};\n\nconst RING = {\n\tcolor: \"#e095ed\",\n\tdurationMs: DOTS.durationMs,\n\tanimation: ringScale,\n};\n\nconst HEART = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Twitter: FC<LikeButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserLiked,\n\ttotalLikes,\n\thandlePress,\n\tisCounterVisible,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst dots = [];\n\tfor (let i = 0; i < DOTS.count; i++) {\n\t\tdots.push(\n\t\t\t<div\n\t\t\t\tkey={i}\n\t\t\t\tsx={{\n\t\t\t\t\ttransform: `rotate(${(360 / DOTS.count) * i}deg)`,\n\t\t\t\t\ttransformOrigin: `${DOTS.size}em 0`,\n\t\t\t\t\tmarginLeft: `-${DOTS.size}em`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tsx={{\n\t\t\t\t\t\topacity: \"0\",\n\t\t\t\t\t\twidth: `${DOTS.size}em`,\n\t\t\t\t\t\theight: `${DOTS.size}em`,\n\t\t\t\t\t\tborderRadius: `${DOTS.size}em`,\n\t\t\t\t\t\tbackgroundColor: `${DOTS.colors[i]}`,\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t? `${dotBurst} ${DOTS.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>,\n\t\t);\n\t}\n\n\tconst ring = (\n\t\t<div\n\t\t\tsx={{\n\t\t\t\t...style.ring,\n\t\t\t\t...{\n\t\t\t\t\tborder: `1px solid ${RING.color}`,\n\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\tif (!userLiked) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), DOTS.durationMs);\n\t\t\t}\n\t\t\thandlePress(e);\n\t\t},\n\t\t[userLiked, handlePress],\n\t);\n\n\tconst Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n\n\tconst buttonStyle = {\n\t\tfill: userLiked && !isLoading ? \"#E5214A\" : \"#aaa\",\n\t\tanimation: animationActive\n\t\t\t? `${HEART.animation} ${HEART.durationMs}ms ease forwards`\n\t\t\t: null,\n\t\t// fill: (theme) =>\n\t\t// userLiked && !isLoading\n\t\t// \t? theme.rawColors?.primary\n\t\t// \t: theme.rawColors?.icon,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button onClick={handleClick} sx={style.button} disabled={isLoading}>\n\t\t\t\t<div sx={style.dotsContainer}> {dots} </div>\n\t\t\t\t<div sx={style.dotsRotContainer}> {dots} </div>\n\t\t\t\t{ring}\n\t\t\t\t<Icon\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t...style.icon,\n\t\t\t\t\t\t...buttonStyle,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Chevron: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={ChevronIcon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { LikeButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<LikeButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Twitter } from \"./templates/Twitter\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Heart } from \"./templates/Heart\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tTwitter,\n\tChevron,\n\tHeart,\n};\n\nexport interface LikeButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserLiked: boolean | undefined;\n\ttotalLikes: number | undefined;\n\thandlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.LikeButton[\"data\"];\n\nexport interface LikeButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: LikeButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<LikeButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<LikeButtonTemplateComponentProps>;\n\t\tTwitter: React.FC<LikeButtonTemplateComponentProps>;\n\t\tChevron: React.FC<LikeButtonTemplateComponentProps>;\n\t\tHeart: React.FC<LikeButtonTemplateComponentProps>;\n\t};\n};\n\nconst LikeButton: FCWithTemplates<LikeButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.LikeButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.likeButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse]);\n\n\tconst handlePress = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.likeButtons.press({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_likes < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalLikes: response?.attributes.total_likes || 0,\n\t\tuserLiked: response?.attributes.user_has_liked,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nLikeButton.templates = templates;\n\nexport { LikeButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\ttransform=\"scale(-1, 1) translate(-1200, 0)\"\n\t\t\td=\"m1100 333.33c36.668 0 66.668 30 66.668 66.668v733.33c0 36.668-30 66.668-66.668 66.668h-133.33c-36.668 0-66.668-30-66.668-66.668v-733.33c0-36.668 30-66.668 66.668-66.668zm-604.64-300.63 281.27 377.4c7.332 10.734 11.664 23.734 11.664 37.734v666.66c0 36.801-29.867 66.668-66.664 66.668h-466.67c-29.465 0-55.398-19.332-63.867-47.535l-152.2-581.33c-25.266-85.465 38.734-171.13 127.87-171.13h221.53l-65.598-266.67c-13.867-97.266 106.2-154.2 172.66-81.801z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ThumbIcon } from \"./icons/ThumbIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Simple: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<ThumbIcon sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ThumbIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const ChevronIcon = ({ className }: Props) => (\n\t<svg\n\t\tid=\"Chevron\"\n\t\tclassName={className}\n\t\tviewBox=\"0 100 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m79.965 909.7c-18.34 18.211-48.031 18.211-66.242 0-18.34-18.34-18.34-47.898 0-66.242l553.16-553.16c18.34-18.34 47.898-18.34 66.242 0l553.16 553.16c18.34 18.34 18.34 47.898 0 66.242-18.211 18.211-47.898 18.211-66.242 0l-520.04-520.04z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from '@theme-ui/css';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: theme => theme.rawColors?.text,\n    textAlign: 'center',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: theme => theme.rawColors?.icon,\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: theme => theme.rawColors?.highlight,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none !important',\n    outline: 'none !important',\n    cursor: 'pointer',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100% !important',\n    width: '3em !important',\n    height: '3em !important',\n    padding: '0 !important',\n    lineHeight: '1em',\n    bg: theme => theme.rawColors?.background,\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    opacity: 1,\n    boxShadow: '0 0 0',\n    transform: 'translate3d(0,0,0)',\n    ':hover': {\n      transition: 'all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms',\n      opacity: 0.75,\n    },\n  },\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { ChevronIcon } from \"./icons/ChevronIcon\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Chevron: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t\tsetTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleUp = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst ringStyleDown = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\tconst upButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === 1\n\t\t\t\t? theme.rawColors?.primary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\tconst downButtonStyle = {\n\t\tbg: (theme) =>\n\t\t\tuserVoteDirection === -1\n\t\t\t\t? theme.rawColors?.secondary\n\t\t\t\t: theme.rawColors?.background,\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...upButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleUp} />\n\t\t\t\t<div>\n\t\t\t\t\t<ChevronIcon sx={iconStyleUp} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\t...downButtonStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div sx={ringStyleDown} />\n\t\t\t\t<div style={{ transform: \"rotate(180deg)\" }}>\n\t\t\t\t\t<ChevronIcon sx={iconStyleDown} />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const RedditArrow = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path d=\"m1005.6 678-373.2-500.4c-16.801-22.801-50.398-22.801-67.199 0l-372 500.4c-20.398 27.602-1.1992 66 33.602 66h163.2v253.2c0 18 14.398 33.602 33.602 33.602h352.8c18 0 33.602-14.398 33.602-33.602l-0.003906-252h162c34.801 0 54-39.598 33.602-67.199z\" />\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"theme-ui\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"column\",\n\t},\n\tcounter: {\n\t\tminWidth: \"2em\",\n\t\ttextAlign: \"center\",\n\t\tfontFamily: \"body\",\n\t},\n\ticon: {\n\t\theight: \"1.1em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: \"#878a8c\",\n\t\tbackfaceVisibility: \"hidden\",\n\t},\n\tbutton: {\n\t\tborder: \"none\",\n\t\toutline: \"none\",\n\t\tcursor: \"pointer\",\n\t\tbackground: \"transparent\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\tborderRadius: \"3px\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\twidth: \"2em\",\n\t\theight: \"2em\",\n\t\tpadding: \"0\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0.0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { UpdownButtonTemplateComponentProps } from \"../..\";\nimport { RedditArrow } from \"./icons/RedditArrow\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Reddit: FC<UpdownButtonTemplateComponentProps> = ({\n\tisLoading,\n\tuserVoteDirection,\n\ttotalScore,\n\thandlePressUp,\n\thandlePressDown,\n\tisCounterVisible,\n}) => {\n\tconst [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n\tconst [animationActiveDown, setAnimationActiveDown] =\n\t\tuseState<boolean>(false);\n\n\tconst handleClickUp = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressUp(e);\n\n\t\t\tif (userVoteDirection !== 1) {\n\t\t\t\tsetAnimationActiveUp(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressUp],\n\t);\n\n\tconst handleClickDown = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\thandlePressDown(e);\n\n\t\t\tif (userVoteDirection !== -1) {\n\t\t\t\tsetAnimationActiveDown(true);\n\t\t\t}\n\t\t},\n\t\t[userVoteDirection, handlePressDown],\n\t);\n\n\tconst iconStyleUp = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveUp\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === 1 ? \"#cc3700\" : \"#25252550\",\n\t};\n\n\tconst iconStyleDown = {\n\t\t...style.icon,\n\t\t...{\n\t\t\tanimation: animationActiveDown\n\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t: \"none\",\n\t\t},\n\t\tfill: userVoteDirection === -1 ? \"#5a75cc\" : \"#25252550\",\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t<button\n\t\t\t\tonClick={handleClickUp}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveUp(false)}\n\t\t\t\tsx={style.button}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleUp} />\n\t\t\t</button>\n\t\t\t{isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n\t\t\t{isLoading && <div sx={style.counter}>-</div>}\n\t\t\t<button\n\t\t\t\tonClick={handleClickDown}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\tonAnimationEnd={() => setAnimationActiveDown(false)}\n\t\t\t\tsx={{\n\t\t\t\t\t...style.button,\n\t\t\t\t\ttransform: \"rotate(180deg)\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RedditArrow sx={iconStyleDown} />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Simple } from \"./templates/Simple\";\nimport { Chevron } from \"./templates/Chevron\";\nimport { Reddit } from \"./templates/Reddit\";\nimport { camelizeKeys } from \"humps\";\n\nconst templates = {\n\tSimple,\n\tChevron,\n\tReddit,\n};\n\nexport interface UpdownButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserVoteDirection: number | undefined;\n\ttotalScore: number | undefined;\n\thandlePressUp: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\thandlePressDown: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n\tisCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.UpdownButton[\"data\"];\n\nexport interface UpdownButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPressUp?: (props: CallbackProps) => void;\n\tonPressDown?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: UpdownButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<UpdownButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tSimple: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tChevron: React.FC<UpdownButtonTemplateComponentProps>;\n\t\tReddit: React.FC<UpdownButtonTemplateComponentProps>;\n\t};\n};\n\nconst UpdownButton: FCWithTemplates<UpdownButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPressUp,\n\tonPressDown,\n}) => {\n\tconst client = useContext(ClientContext);\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.UpdownButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\ttry {\n\t\t\tif (client) {\n\t\t\t\tconst result = await client.updownButtons.info({ id, namespace });\n\t\t\t\tsetResponse(result.data);\n\n\t\t\t\tif (onLoad) {\n\t\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad]);\n\n\tconst handlePressUp = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressUp({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressUp) {\n\t\t\t\t\t\tonPressUp(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressUp],\n\t);\n\n\tconst handlePressDown = useCallback(\n\t\tasync (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\n\t\t\ttry {\n\t\t\t\tif (client) {\n\t\t\t\t\tconst result = await client.updownButtons.pressDown({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t});\n\t\t\t\t\tsetResponse(result.data);\n\n\t\t\t\t\tif (onPressDown) {\n\t\t\t\t\t\tonPressDown(camelizeKeys(result.data));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPressDown],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.total_score < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tisLoading: !response,\n\t\ttotalScore: response?.attributes.total_score || 0,\n\t\tuserVoteDirection: response?.attributes.user_vote_direction || 0,\n\t\thandlePressUp,\n\t\thandlePressDown,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Simple;\n\n\treturn <Component {...props} />;\n};\n\nUpdownButton.templates = templates;\n\nexport { UpdownButton };\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","import { ThemeUIStyleObject } from \"@theme-ui/css\";\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n\troot: {\n\t\tcolor: \"inherit\",\n\t\tfontFamily: \"inherit\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t},\n\tcounter: {\n\t\tml: \".5em\",\n\t\tcolor: (theme) => theme.rawColors?.text,\n\t\tfontFamily: \"body\",\n\t\twhiteSpace: \"nowrap\",\n\t},\n\ticon: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.icon,\n\t},\n\ticonActive: {\n\t\theight: \"1.2em\",\n\t\tdisplay: \"block\",\n\t\tmargin: \"0 auto\",\n\t\tfill: (theme) => theme.rawColors?.primary,\n\t},\n\tring: {\n\t\topacity: \"0\",\n\t\twidth: \"90%\",\n\t\theight: \"90%\",\n\t\tborderRadius: \"3em\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: (theme) => theme.rawColors?.highlight,\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n\tbutton: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t\t\":hover\": {\n\t\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\topacity: 0.75,\n\t\t},\n\t},\n\tbuttonInactive: {\n\t\tbackgroundColor: \"transparent !important\",\n\t\tborder: \"none !important\",\n\t\toutline: \"none !important\",\n\t\tboxShadow: \"0 0 0\",\n\t\ttransform: \"translate3d(0,0,0)\",\n\t\tcursor: \"pointer\",\n\t\tappearance: \"none\",\n\t\tposition: \"relative\",\n\t\tfontSize: \"inherit\",\n\t\ttransition: \"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\tlineHeight: \"1em\",\n\t},\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { keyframes } from \"@emotion/react\";\nimport { FC, useCallback, useState } from \"react\";\nimport { style } from \"./style\";\n\ninterface BaseRateButtonProps extends RateButtonTemplateComponentProps {\n\ticonColor?: { active: string; inactive: string };\n\tIcon: ({\n\t\tclassName,\n\t}: {\n\t\tclassName?: string;\n\t}) => JSX.Element;\n}\n\nconst iconScale = keyframes({\n\t\"0%\": {\n\t\ttransform: \"scale(0)\",\n\t},\n\t\"52%\": {\n\t\ttransform: \"scale(1.2)\",\n\t},\n\t\"72%\": {\n\t\ttransform: \"scale(0.9)\",\n\t},\n\t\"100%\": {\n\t\ttransform: \"scale(1)\",\n\t},\n});\n\nconst ringScale = keyframes({\n\t\"0%\": {\n\t\topacity: \"1\",\n\t\tborderWidth: \"0.5em\",\n\t},\n\t\"52%\": {\n\t\topacity: \"0\",\n\t\tborderWidth: \"0\",\n\t},\n});\n\nconst RING = {\n\tdurationMs: 600,\n\tanimation: ringScale,\n};\n\nconst ICON = {\n\tanimation: iconScale,\n\tdurationMs: 700,\n};\n\nexport const Base: FC<BaseRateButtonProps> = ({\n\tisLoading,\n\tuserRating,\n\taverageRating,\n\ttotalVotes,\n\tshowRating = \"average\",\n\ttotalReviewsLabel,\n\thandlePress,\n\tisCounterVisible,\n\tIcon,\n\ticonColor,\n}) => {\n\tconst [animationActive, setAnimationActive] = useState<boolean>(false);\n\n\tconst handleClick = useCallback(\n\t\t(e: React.MouseEvent<HTMLButtonElement, MouseEvent>, index: number) => {\n\t\t\te.preventDefault();\n\n\t\t\thandlePress(index);\n\n\t\t\tif (!userRating) {\n\t\t\t\tsetAnimationActive(true);\n\t\t\t\tsetTimeout(() => setAnimationActive(false), ICON.durationMs);\n\t\t\t}\n\t\t},\n\t\t[userRating, handlePress],\n\t);\n\n\tconst ringStyle = {\n\t\t...style.ring,\n\t\t...{\n\t\t\tanimation: animationActive\n\t\t\t\t? `${RING.animation} ${RING.durationMs}ms ease forwards`\n\t\t\t\t: null,\n\t\t},\n\t};\n\n\treturn (\n\t\t<div sx={style.root}>\n\t\t\t{Array.from(Array(5).keys()).map((index) => {\n\t\t\t\tconst selectedRating =\n\t\t\t\t\tshowRating === \"average\" ? averageRating : userRating;\n\n\t\t\t\tconst currentRating = selectedRating === index + 1;\n\n\t\t\t\tlet iconStyle = {\n\t\t\t\t\t...(selectedRating > index ? style.iconActive : style.icon),\n\t\t\t\t\t...(showRating === \"user\" &&\n\t\t\t\t\t\tcurrentRating && {\n\t\t\t\t\t\t\tanimation: animationActive\n\t\t\t\t\t\t\t\t? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t}),\n\t\t\t\t};\n\n\t\t\t\tif (iconColor) {\n\t\t\t\t\ticonStyle = {\n\t\t\t\t\t\t...iconStyle,\n\t\t\t\t\t\tfill:\n\t\t\t\t\t\t\tselectedRating > index ? iconColor.active : iconColor.inactive,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tkey={`${Icon.toString()}${index}`}\n\t\t\t\t\t\tonClick={(e) => handleClick(e, index + 1)}\n\t\t\t\t\t\tdisabled={isLoading || showRating === \"average\"}\n\t\t\t\t\t\tsx={showRating === \"user\" ? style.button : style.buttonInactive}\n\t\t\t\t\t>\n\t\t\t\t\t\t{currentRating && <div sx={ringStyle} />}\n\t\t\t\t\t\t<Icon sx={iconStyle} className={`icon-${index}`} />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t{isCounterVisible && showRating === \"average\" && (\n\t\t\t\t<span sx={style.counter}>\n\t\t\t\t\t{totalVotes}{\" \"}\n\t\t\t\t\t{totalReviewsLabel || `review${totalVotes !== 1 ? \"s\" : \"\"}`}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Custom: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tclassName={className}\n\t>\n\t\t<path\n\t\t\td=\"m600 158.93c-62.824-71.18-154.74-116.07-257.14-116.07-189.35 0-342.86 153.5-342.86 342.86v1.1562c0 231.78 199.52 488.54 598.56 770.27 354.02-252.97 551.38-483.47 592.07-691.51 6.1211-25.641 9.3633-52.402 9.3633-79.922 0-189.36-153.5-342.86-342.86-342.86-102.4 0-194.32 44.895-257.14 116.07z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Heart: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn <Base {...props} Icon={Icon} />;\n};\n","import React from \"react\";\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const Icon = ({ className }: Props) => (\n\t<svg\n\t\tclassName={className}\n\t\tversion=\"1.1\"\n\t\tviewBox=\"0 0 1200 1200\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"m800 375 333.33 33.332c61.109 5.5547 88.891 83.332 38.891 127.78l-250 222.22 72.223 322.22c16.668 66.668-50 116.67-105.55 83.332l-288.89-172.22-288.89 172.22c-55.555 33.332-122.22-16.668-111.11-83.332l77.777-322.22-250-222.22c-50-44.445-27.777-122.22 38.891-127.78l333.33-33.332 133.33-305.55c22.223-61.109 111.11-61.109 133.33 0l133.33 305.55z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","/** @jsxRuntime classic */\n/* @jsx jsx */\n\nimport { jsx } from \"theme-ui\";\nimport { RateButtonTemplateComponentProps } from \"../..\";\nimport { Icon } from \"./icons/Icon\";\nimport { FC } from \"react\";\nimport { Base } from \"../Base\";\n\nexport const Star: FC<RateButtonTemplateComponentProps> = ({ ...props }) => {\n\treturn (\n\t\t<Base\n\t\t\t{...props}\n\t\t\tIcon={Icon}\n\t\t\ticonColor={{ active: \"rgb(249, 199, 61)\", inactive: \"#e6e6e6\" }}\n\t\t/>\n\t);\n};\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { ClientContext } from \"../contexts/ClientContext\";\nimport { useSafeEffect } from \"../hooks/useSafeEffect\";\nimport { Custom } from \"./templates/Custom\";\nimport { Heart } from \"./templates/Heart\";\nimport { Star } from \"./templates/Star\";\nimport { camelizeKeys } from \"humps\";\nimport { useForceUpdate } from \"../contexts/RatingContext\";\n\nconst templates = {\n\tCustom,\n\tHeart,\n\tStar,\n};\n\nexport interface RateButtonTemplateComponentProps {\n\tisLoading: boolean;\n\tuserRating: number;\n\taverageRating: number;\n\ttotalVotes: number;\n\thandlePress: (rating: number) => void;\n\tisCounterVisible: boolean;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n}\n\ntype CallbackProps = Components.Schemas.RateButton[\"data\"];\n\nexport interface RateButtonProps {\n\tid: string;\n\tnamespace?: string;\n\thideCounterIfLessThan?: number;\n\tshowRating?: \"average\" | \"user\";\n\ttotalReviewsLabel?: string;\n\tonLoad?: (props: CallbackProps) => void;\n\tonPress?: (props: CallbackProps) => void;\n\tchildren?: (\n\t\tprops: RateButtonTemplateComponentProps,\n\t) => React.ReactElement<any, any> | null;\n\tcomponent?: React.FC<RateButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n\ttemplates: {\n\t\tCustom: React.FC<RateButtonTemplateComponentProps>;\n\t\tHeart: React.FC<RateButtonTemplateComponentProps>;\n\t\tStar: React.FC<RateButtonTemplateComponentProps>;\n\t};\n};\n\nconst RateButton: FCWithTemplates<RateButtonProps> = ({\n\tid,\n\tnamespace,\n\thideCounterIfLessThan,\n\tshowRating,\n\tchildren,\n\tcomponent,\n\tonLoad,\n\tonPress,\n}) => {\n\tconst client = useContext(ClientContext);\n\tconst { registeredButtons, forceUpdate } = useForceUpdate();\n\tconst rateButtonId = `${namespace || \"no-namespace\"}:${id}`;\n\tconst shouldUpdate = registeredButtons[rateButtonId];\n\n\tconst [response, setResponse] = useState<\n\t\tComponents.Schemas.RateButton[\"data\"] | null\n\t>(null);\n\n\tuseSafeEffect(async () => {\n\t\tif (!client) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await client.rateButtons.info({ id, namespace });\n\t\t\tsetResponse(result.data);\n\n\t\t\tif (onLoad) {\n\t\t\t\tonLoad(camelizeKeys(result.data));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\tthrow error;\n\t\t}\n\t}, [client, id, namespace, onLoad, setResponse, shouldUpdate]);\n\n\tconst handlePress = useCallback(\n\t\tasync (rating: number) => {\n\t\t\tif (!client) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst result = await client.rateButtons.press({\n\t\t\t\t\tid,\n\t\t\t\t\tnamespace,\n\t\t\t\t\trating,\n\t\t\t\t});\n\n\t\t\t\tsetResponse(result.data);\n\t\t\t\tforceUpdate({ ...registeredButtons, [rateButtonId]: {} });\n\n\t\t\t\tif (onPress) {\n\t\t\t\t\tonPress(camelizeKeys(result.data));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Lyket error:\", error?.errors[0].message);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t[client, id, namespace, onPress, setResponse, shouldUpdate],\n\t);\n\n\tlet isCounterVisible = true;\n\n\tif (\n\t\t!response ||\n\t\t(hideCounterIfLessThan &&\n\t\t\tresponse &&\n\t\t\tresponse.attributes.average_rating < hideCounterIfLessThan)\n\t) {\n\t\tisCounterVisible = false;\n\t}\n\n\tconst props = {\n\t\tshowRating,\n\t\tisLoading: !response,\n\t\ttotalVotes: response?.attributes.total_votes || 0,\n\t\taverageRating: response?.attributes.average_rating || 0,\n\t\tuserRating: response?.attributes.user_rating,\n\t\thandlePress,\n\t\tisCounterVisible,\n\t};\n\n\tif (children) {\n\t\treturn children(props);\n\t}\n\n\tconst Component = component || Star;\n\n\treturn <Component {...props} />;\n};\n\nRateButton.templates = templates;\n\nexport { RateButton };\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}