{"ast":null,"code":"import React, { useState, useEffect, useCallback, useMemo, useLayoutEffect } from 'react';\nimport { useThemeUI, jsx, __ThemeUIInternalBaseThemeProvider } from '@theme-ui/core';\nimport { css, get } from '@theme-ui/css';\nimport { Global } from '@emotion/react';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar toVarName = function toVarName(key) {\n  return \"--theme-ui-\" + key.replace('-__default', '');\n};\nvar toVarValue = function toVarValue(key) {\n  return \"var(\" + toVarName(key) + \")\";\n};\nvar join = function join() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args.filter(Boolean).join('-');\n};\nvar reservedKeys = new Set(['useCustomProperties', 'initialColorModeName', 'printColorModeName', 'initialColorMode', 'useLocalStorage', 'config']); // convert theme values to custom properties\n\nvar toCustomProperties = function toCustomProperties(obj, parent) {\n  var next = Array.isArray(obj) ? [] : {};\n  for (var key in obj) {\n    var value = obj[key];\n    var name = join(parent, key);\n    if (value && typeof value === 'object') {\n      next[key] = toCustomProperties(value, name);\n      continue;\n    }\n    if (reservedKeys.has(key)) {\n      next[key] = value;\n      continue;\n    }\n    next[key] = toVarValue(name);\n  }\n  return next;\n};\n/**\n * @internal\n * Recursively transforms an object into CSS variables excluding \"modes\" key.\n */\n\nvar __objectToVars = function __objectToVars(parent, obj) {\n  var vars = {};\n  for (var key in obj) {\n    if (key === 'modes') continue;\n    var name = join(parent, key);\n    var value = obj[key];\n    if (value && typeof value === 'object') {\n      vars = _extends({}, vars, __objectToVars(name, value));\n    } else {\n      vars[toVarName(name)] = value;\n    }\n  }\n  return vars;\n};\n/**\n * @internal\n * Creates root styles for color modes.\n * - Transforms color scale into CSS variables.\n * - Sets background and text color.\n */\n\nvar __createColorStyles = function __createColorStyles(theme) {\n  if (theme === void 0) {\n    theme = {};\n  }\n  var _ref = theme.config || theme || {},\n    useCustomProperties = _ref.useCustomProperties,\n    initialColorModeName = _ref.initialColorModeName,\n    printColorModeName = _ref.printColorModeName,\n    useRootStyles = _ref.useRootStyles;\n  var colors = theme.rawColors || theme.colors;\n  if (!colors || useRootStyles === false) return {};\n  if (useCustomProperties === false) {\n    return css({\n      color: 'text',\n      bg: 'background'\n    })(theme);\n  }\n  var modes = colors.modes || {};\n  var styles = __createColorProperties(colors, modes);\n  if (printColorModeName) {\n    var printMode = modes[printColorModeName];\n    if (!printMode && printColorModeName === initialColorModeName) printMode = colors;\n    if (printMode) {\n      styles['@media print'] = __objectToVars('colors', printMode);\n    } else {\n      console.error(\"Theme UI `printColorModeName` was not found in colors scale\", {\n        colors: colors,\n        printColorModeName: printColorModeName\n      });\n    }\n  }\n  var colorToVarValue = function colorToVarValue(color) {\n    return toVarValue(\"colors-\" + color);\n  };\n  return css(_extends({}, styles, {\n    color: colorToVarValue('text'),\n    bg: colorToVarValue('background')\n  }))(theme);\n};\n/**\n * @internal\n * Returns an object with colors turned into Custom CSS Properties and\n * .theme-ui-<colormode> classes used for no-flash serverside rendering.\n */\n\nfunction __createColorProperties(colors, modes) {\n  var styles = __objectToVars('colors', colors);\n  Object.keys(modes).forEach(function (mode) {\n    var className = \".theme-ui-\" + mode;\n    var key = \"&\" + className + \", \" + className + \" &\";\n    styles[key] = __objectToVars('colors', modes[mode]);\n  });\n  return styles;\n}\nvar STORAGE_KEY = 'theme-ui-color-mode';\nvar DARK_QUERY = '(prefers-color-scheme: dark)';\nvar LIGHT_QUERY = '(prefers-color-scheme: light)';\nvar storage = {\n  get: function get() {\n    try {\n      return window.localStorage.getItem(STORAGE_KEY);\n    } catch (err) {\n      console.warn('localStorage is disabled and color mode might not work as expected.', 'Please check your Site Settings.', err);\n    }\n  },\n  set: function set(value) {\n    try {\n      window.localStorage.setItem(STORAGE_KEY, value);\n    } catch (err) {\n      console.warn('localStorage is disabled and color mode might not work as expected.', 'Please check your Site Settings.', err);\n    }\n  }\n};\nvar getPreferredColorScheme = function getPreferredColorScheme() {\n  if (typeof window !== 'undefined' && window.matchMedia) {\n    if (window.matchMedia(DARK_QUERY).matches) {\n      return 'dark';\n    }\n    if (window.matchMedia(LIGHT_QUERY).matches) {\n      return 'light';\n    }\n  }\n  return null;\n};\nvar useClientsideEffect = typeof window === 'undefined' ? function () {} : useLayoutEffect;\nvar TopLevelColorModeProvider = function TopLevelColorModeProvider(_ref) {\n  var outerCtx = _ref.outerCtx,\n    children = _ref.children;\n  var outerTheme = outerCtx.theme || {};\n  var _ref2 = outerTheme.config || outerTheme,\n    initialColorModeName = _ref2.initialColorModeName,\n    useColorSchemeMediaQuery = _ref2.useColorSchemeMediaQuery,\n    useLocalStorage = _ref2.useLocalStorage;\n  var _useState = useState(function () {\n      var preferredMode = useColorSchemeMediaQuery !== false && getPreferredColorScheme();\n      return preferredMode || initialColorModeName;\n    }),\n    colorMode = _useState[0],\n    setColorMode = _useState[1]; // on first render, we read the color mode from localStorage and\n  // clear the class on document element body\n\n  useClientsideEffect(function () {\n    var stored = useLocalStorage !== false && storage.get();\n    if (typeof document !== 'undefined') {\n      document.documentElement.classList.remove('theme-ui-' + stored);\n    }\n    if (useColorSchemeMediaQuery !== 'system' && stored && stored !== colorMode) {\n      colorMode = stored;\n      setColorMode(stored);\n    }\n  }, []); // when mode changes, we save it to localStorage\n\n  useEffect(function () {\n    if (colorMode && useLocalStorage !== false) {\n      storage.set(colorMode);\n    }\n  }, [colorMode, useLocalStorage]);\n  var setPreferredColorScheme = useCallback(function () {\n    var preferredColorScheme = getPreferredColorScheme();\n    setColorMode(preferredColorScheme || initialColorModeName);\n  }, [initialColorModeName]);\n  useEffect(function () {\n    if (useColorSchemeMediaQuery === 'system' && window.matchMedia) {\n      // It doesn't matter if we add the listener only to the dark media query\n      // Because in our callback function we'll check for both media queries (light and dark).\n      var darkMQL = window.matchMedia(DARK_QUERY);\n      if (typeof darkMQL.addEventListener === 'function') {\n        darkMQL.addEventListener('change', setPreferredColorScheme);\n      } else if (typeof darkMQL.addListener === 'function') {\n        darkMQL.addListener(setPreferredColorScheme);\n      }\n    }\n    return function () {\n      if (useColorSchemeMediaQuery === 'system' && window.matchMedia) {\n        var _darkMQL = window.matchMedia(DARK_QUERY);\n        if (typeof _darkMQL.removeEventListener === 'function') {\n          _darkMQL.removeEventListener('change', setPreferredColorScheme);\n        } else if (typeof _darkMQL.removeListener === 'function') {\n          _darkMQL.removeListener(setPreferredColorScheme);\n        }\n      }\n    };\n  }, [useColorSchemeMediaQuery, setPreferredColorScheme]);\n  if (process.env.NODE_ENV !== 'production') {\n    var _outerTheme$colors, _outerTheme$colors2;\n    if ((_outerTheme$colors = outerTheme.colors) != null && _outerTheme$colors.modes && initialColorModeName && Object.keys(outerTheme.colors.modes).indexOf(initialColorModeName) > -1) {\n      console.warn('[theme-ui] The `initialColorModeName` value should be a unique name' + ' and cannot reference a key in `theme.colors.modes`.');\n    }\n    var allColorKeys = [];\n    var flattenKeys = function flattenKeys(obj) {\n      Object.keys(obj).forEach(function (key) {\n        allColorKeys.push(key);\n        if (typeof obj[key] === 'object') {\n          flattenKeys(obj[key]);\n        }\n      });\n      return allColorKeys;\n    };\n    flattenKeys((_outerTheme$colors2 = outerTheme.colors) != null ? _outerTheme$colors2 : {}).forEach(function (color) {\n      if (color !== color.trim()) {\n        console.warn(\"[theme-ui] Key `\" + color + \"` in theme.colors contains leading/trailing \" + 'whitespace, which can cause bugs in your project.');\n      }\n    });\n  }\n  var newTheme = useThemeWithAppliedColorMode({\n    colorMode: colorMode,\n    outerTheme: outerTheme\n  });\n  var newCtx = _extends({}, outerCtx, {\n    theme: newTheme,\n    colorMode: colorMode,\n    setColorMode: setColorMode\n  });\n  return /*#__PURE__*/React.createElement(__ThemeUIInternalBaseThemeProvider, {\n    context: newCtx\n  }, /*#__PURE__*/React.createElement(GlobalColorStyles, {\n    theme: newTheme\n  }), children);\n};\nfunction useColorMode() {\n  var _useThemeUI = useThemeUI(),\n    colorMode = _useThemeUI.colorMode,\n    setColorMode = _useThemeUI.setColorMode;\n  if (typeof setColorMode !== 'function') {\n    throw new Error(\"[useColorMode] requires the ColorModeProvider component\");\n  } // We're allowing the user to specify a narrower type for its color mode name.\n\n  return [colorMode, setColorMode];\n}\nvar omitModes = function omitModes(colors) {\n  var res = _extends({}, colors);\n  delete res.modes;\n  return res;\n};\nfunction copyRawColors(colors, outerThemeRawColors) {\n  for (var _i = 0, _Object$entries = Object.entries(colors); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _Object$entries[_i],\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    if (typeof value === 'string' && !value.startsWith('var(')) {\n      outerThemeRawColors[key] = value;\n    } else if (typeof value === 'object') {\n      var newValue = _extends({}, outerThemeRawColors[key]);\n      copyRawColors(value, newValue);\n      outerThemeRawColors[key] = newValue;\n    }\n  }\n}\nfunction useThemeWithAppliedColorMode(_ref3) {\n  var outerTheme = _ref3.outerTheme,\n    colorMode = _ref3.colorMode;\n  var theme = useMemo(function () {\n    var res = _extends({}, outerTheme);\n    var modes = get(res, 'colors.modes', {});\n    var currentColorMode = get(modes, colorMode, {});\n    if (colorMode) {\n      res.colors = _extends({}, res.colors, currentColorMode);\n    }\n    var _ref4 = outerTheme.config || outerTheme,\n      useCustomProperties = _ref4.useCustomProperties,\n      _ref4$initialColorMod = _ref4.initialColorModeName,\n      initialColorModeName = _ref4$initialColorMod === void 0 ? '__default' : _ref4$initialColorMod;\n    var outerThemeRawColors = outerTheme.rawColors || outerTheme.colors || {};\n    if (useCustomProperties !== false) {\n      var alreadyHasRawColors = res.rawColors != null;\n      var colors = res.colors || {};\n      if (alreadyHasRawColors) {\n        outerThemeRawColors = _extends({}, outerThemeRawColors);\n        copyRawColors(colors, outerThemeRawColors);\n        if (outerThemeRawColors.modes) {\n          outerThemeRawColors.modes[initialColorModeName] = omitModes(outerThemeRawColors);\n        }\n        res.rawColors = outerThemeRawColors;\n      } else {\n        if (!('modes' in outerThemeRawColors)) {\n          res.rawColors = colors;\n        } else {\n          var _extends2;\n          var _modes = _extends((_extends2 = {}, _extends2[initialColorModeName] = omitModes(outerThemeRawColors), _extends2), outerThemeRawColors.modes);\n          res.rawColors = _extends({}, colors, {\n            modes: _modes\n          });\n          /* modes doesn't match index signature by design */\n        }\n      }\n      res.colors = toCustomProperties(omitModes(outerThemeRawColors), 'colors');\n    }\n    return res;\n  }, [colorMode, outerTheme]);\n  return theme;\n}\nfunction GlobalColorStyles(_ref5) {\n  var theme = _ref5.theme;\n  return jsx(Global, {\n    styles: function styles() {\n      return {\n        html: __createColorStyles(theme)\n      };\n    }\n  });\n}\nfunction NestedColorModeProvider(_ref6) {\n  var _newTheme$config2;\n  var outerCtx = _ref6.outerCtx,\n    children = _ref6.children;\n  var newTheme = useThemeWithAppliedColorMode({\n    outerTheme: outerCtx.theme,\n    colorMode: outerCtx.colorMode\n  }); // Nested theme providers need to be rerendered after hydration for the correct\n  // color mode to apply.\n\n  var _useState2 = useState(\n    // Note: we could also check some \"ssr-enabled\" flag as an optimization for\n    // SPAs, as deeply nested theme providers will also pay a performance penalty\n    // for this SSR bug fix\n    function () {\n      var _newTheme$config;\n      return ((_newTheme$config = newTheme.config) == null ? void 0 : _newTheme$config.useLocalStorage) !== false;\n    }),\n    needsRerender = _useState2[0],\n    setNeedsRerender = _useState2[1];\n  useClientsideEffect(function () {\n    return void setNeedsRerender(false);\n  }, []);\n  var themeColors = newTheme.rawColors || newTheme.colors;\n  var useCustomProperties = (_newTheme$config2 = newTheme.config) == null ? void 0 : _newTheme$config2.useCustomProperties;\n  var colorVars = useMemo(function () {\n    if (useCustomProperties === false) {\n      return {};\n    }\n    var colors = themeColors || {};\n    return css(__createColorProperties(colors, colors.modes || {}))(newTheme);\n  }, [newTheme, themeColors, useCustomProperties]);\n  return /*#__PURE__*/React.createElement(__ThemeUIInternalBaseThemeProvider, {\n    context: _extends({}, outerCtx, {\n      theme: newTheme\n    })\n  }, jsx('div', {\n    'data-themeui-nested-provider': true,\n    // the key here ensures that children will be rerendered after color\n    // mode is read from localStorage\n    key: Number(needsRerender),\n    suppressHydrationWarning: true,\n    css: colorVars,\n    children: children\n  }));\n}\nvar ColorModeProvider = function ColorModeProvider(_ref7) {\n  var children = _ref7.children;\n  var outerCtx = useThemeUI();\n  var isTopLevelColorModeProvider = typeof outerCtx.setColorMode !== 'function';\n  return isTopLevelColorModeProvider ? /*#__PURE__*/React.createElement(TopLevelColorModeProvider, {\n    outerCtx: outerCtx\n  }, children) : /*#__PURE__*/React.createElement(NestedColorModeProvider, {\n    outerCtx: outerCtx\n  }, children);\n};\nvar noflash = \"(function() { try {\\n  var mode = localStorage.getItem('theme-ui-color-mode');\\n  if (!mode) return\\n  document.documentElement.classList.add('theme-ui-' + mode);\\n} catch (e) {} })();\";\nvar InitializeColorMode = function InitializeColorMode() {\n  return jsx('script', {\n    key: 'theme-ui-no-flash',\n    dangerouslySetInnerHTML: {\n      __html: noflash\n    }\n  });\n};\nexport { ColorModeProvider, InitializeColorMode, useColorMode };","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useLayoutEffect","useThemeUI","jsx","__ThemeUIInternalBaseThemeProvider","css","get","Global","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","toVarName","replace","toVarValue","join","_len","args","Array","_key","filter","Boolean","reservedKeys","Set","toCustomProperties","obj","parent","next","isArray","value","name","has","__objectToVars","vars","__createColorStyles","theme","_ref","config","useCustomProperties","initialColorModeName","printColorModeName","useRootStyles","colors","rawColors","color","bg","modes","styles","__createColorProperties","printMode","console","error","colorToVarValue","keys","forEach","mode","className","STORAGE_KEY","DARK_QUERY","LIGHT_QUERY","storage","window","localStorage","getItem","err","warn","set","setItem","getPreferredColorScheme","matchMedia","matches","useClientsideEffect","TopLevelColorModeProvider","outerCtx","children","outerTheme","_ref2","useColorSchemeMediaQuery","useLocalStorage","_useState","preferredMode","colorMode","setColorMode","stored","document","documentElement","classList","remove","setPreferredColorScheme","preferredColorScheme","darkMQL","addEventListener","addListener","_darkMQL","removeEventListener","removeListener","process","env","NODE_ENV","_outerTheme$colors","_outerTheme$colors2","indexOf","allColorKeys","flattenKeys","push","trim","newTheme","useThemeWithAppliedColorMode","newCtx","createElement","context","GlobalColorStyles","useColorMode","_useThemeUI","Error","omitModes","res","copyRawColors","outerThemeRawColors","_i","_Object$entries","entries","_Object$entries$_i","startsWith","newValue","_ref3","currentColorMode","_ref4","_ref4$initialColorMod","alreadyHasRawColors","_extends2","_modes","_ref5","html","NestedColorModeProvider","_ref6","_newTheme$config2","_useState2","_newTheme$config","needsRerender","setNeedsRerender","themeColors","colorVars","Number","suppressHydrationWarning","ColorModeProvider","_ref7","isTopLevelColorModeProvider","noflash","InitializeColorMode","dangerouslySetInnerHTML","__html"],"sources":["/Users/luying/Documents/2023Ws_ITBE/Fusion_lab/homepage/node_modules/@theme-ui/color-modes/dist/theme-ui-color-modes.esm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, useLayoutEffect } from 'react';\nimport { useThemeUI, jsx, __ThemeUIInternalBaseThemeProvider } from '@theme-ui/core';\nimport { css, get } from '@theme-ui/css';\nimport { Global } from '@emotion/react';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar toVarName = function toVarName(key) {\n  return \"--theme-ui-\" + key.replace('-__default', '');\n};\n\nvar toVarValue = function toVarValue(key) {\n  return \"var(\" + toVarName(key) + \")\";\n};\n\nvar join = function join() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(Boolean).join('-');\n};\n\nvar reservedKeys = new Set(['useCustomProperties', 'initialColorModeName', 'printColorModeName', 'initialColorMode', 'useLocalStorage', 'config']); // convert theme values to custom properties\n\nvar toCustomProperties = function toCustomProperties(obj, parent) {\n  var next = Array.isArray(obj) ? [] : {};\n\n  for (var key in obj) {\n    var value = obj[key];\n    var name = join(parent, key);\n\n    if (value && typeof value === 'object') {\n      next[key] = toCustomProperties(value, name);\n      continue;\n    }\n\n    if (reservedKeys.has(key)) {\n      next[key] = value;\n      continue;\n    }\n\n    next[key] = toVarValue(name);\n  }\n\n  return next;\n};\n/**\n * @internal\n * Recursively transforms an object into CSS variables excluding \"modes\" key.\n */\n\nvar __objectToVars = function __objectToVars(parent, obj) {\n  var vars = {};\n\n  for (var key in obj) {\n    if (key === 'modes') continue;\n    var name = join(parent, key);\n    var value = obj[key];\n\n    if (value && typeof value === 'object') {\n      vars = _extends({}, vars, __objectToVars(name, value));\n    } else {\n      vars[toVarName(name)] = value;\n    }\n  }\n\n  return vars;\n};\n/**\n * @internal\n * Creates root styles for color modes.\n * - Transforms color scale into CSS variables.\n * - Sets background and text color.\n */\n\nvar __createColorStyles = function __createColorStyles(theme) {\n  if (theme === void 0) {\n    theme = {};\n  }\n\n  var _ref = theme.config || theme || {},\n      useCustomProperties = _ref.useCustomProperties,\n      initialColorModeName = _ref.initialColorModeName,\n      printColorModeName = _ref.printColorModeName,\n      useRootStyles = _ref.useRootStyles;\n\n  var colors = theme.rawColors || theme.colors;\n  if (!colors || useRootStyles === false) return {};\n\n  if (useCustomProperties === false) {\n    return css({\n      color: 'text',\n      bg: 'background'\n    })(theme);\n  }\n\n  var modes = colors.modes || {};\n\n  var styles = __createColorProperties(colors, modes);\n\n  if (printColorModeName) {\n    var printMode = modes[printColorModeName];\n    if (!printMode && printColorModeName === initialColorModeName) printMode = colors;\n\n    if (printMode) {\n      styles['@media print'] = __objectToVars('colors', printMode);\n    } else {\n      console.error(\"Theme UI `printColorModeName` was not found in colors scale\", {\n        colors: colors,\n        printColorModeName: printColorModeName\n      });\n    }\n  }\n\n  var colorToVarValue = function colorToVarValue(color) {\n    return toVarValue(\"colors-\" + color);\n  };\n\n  return css(_extends({}, styles, {\n    color: colorToVarValue('text'),\n    bg: colorToVarValue('background')\n  }))(theme);\n};\n/**\n * @internal\n * Returns an object with colors turned into Custom CSS Properties and\n * .theme-ui-<colormode> classes used for no-flash serverside rendering.\n */\n\nfunction __createColorProperties(colors, modes) {\n  var styles = __objectToVars('colors', colors);\n\n  Object.keys(modes).forEach(function (mode) {\n    var className = \".theme-ui-\" + mode;\n    var key = \"&\" + className + \", \" + className + \" &\";\n    styles[key] = __objectToVars('colors', modes[mode]);\n  });\n  return styles;\n}\n\nvar STORAGE_KEY = 'theme-ui-color-mode';\nvar DARK_QUERY = '(prefers-color-scheme: dark)';\nvar LIGHT_QUERY = '(prefers-color-scheme: light)';\nvar storage = {\n  get: function get() {\n    try {\n      return window.localStorage.getItem(STORAGE_KEY);\n    } catch (err) {\n      console.warn('localStorage is disabled and color mode might not work as expected.', 'Please check your Site Settings.', err);\n    }\n  },\n  set: function set(value) {\n    try {\n      window.localStorage.setItem(STORAGE_KEY, value);\n    } catch (err) {\n      console.warn('localStorage is disabled and color mode might not work as expected.', 'Please check your Site Settings.', err);\n    }\n  }\n};\n\nvar getPreferredColorScheme = function getPreferredColorScheme() {\n  if (typeof window !== 'undefined' && window.matchMedia) {\n    if (window.matchMedia(DARK_QUERY).matches) {\n      return 'dark';\n    }\n\n    if (window.matchMedia(LIGHT_QUERY).matches) {\n      return 'light';\n    }\n  }\n\n  return null;\n};\n\nvar useClientsideEffect = typeof window === 'undefined' ? function () {} : useLayoutEffect;\n\nvar TopLevelColorModeProvider = function TopLevelColorModeProvider(_ref) {\n  var outerCtx = _ref.outerCtx,\n      children = _ref.children;\n  var outerTheme = outerCtx.theme || {};\n\n  var _ref2 = outerTheme.config || outerTheme,\n      initialColorModeName = _ref2.initialColorModeName,\n      useColorSchemeMediaQuery = _ref2.useColorSchemeMediaQuery,\n      useLocalStorage = _ref2.useLocalStorage;\n\n  var _useState = useState(function () {\n    var preferredMode = useColorSchemeMediaQuery !== false && getPreferredColorScheme();\n    return preferredMode || initialColorModeName;\n  }),\n      colorMode = _useState[0],\n      setColorMode = _useState[1]; // on first render, we read the color mode from localStorage and\n  // clear the class on document element body\n\n\n  useClientsideEffect(function () {\n    var stored = useLocalStorage !== false && storage.get();\n\n    if (typeof document !== 'undefined') {\n      document.documentElement.classList.remove('theme-ui-' + stored);\n    }\n\n    if (useColorSchemeMediaQuery !== 'system' && stored && stored !== colorMode) {\n      colorMode = stored;\n      setColorMode(stored);\n    }\n  }, []); // when mode changes, we save it to localStorage\n\n  useEffect(function () {\n    if (colorMode && useLocalStorage !== false) {\n      storage.set(colorMode);\n    }\n  }, [colorMode, useLocalStorage]);\n  var setPreferredColorScheme = useCallback(function () {\n    var preferredColorScheme = getPreferredColorScheme();\n    setColorMode(preferredColorScheme || initialColorModeName);\n  }, [initialColorModeName]);\n  useEffect(function () {\n    if (useColorSchemeMediaQuery === 'system' && window.matchMedia) {\n      // It doesn't matter if we add the listener only to the dark media query\n      // Because in our callback function we'll check for both media queries (light and dark).\n      var darkMQL = window.matchMedia(DARK_QUERY);\n\n      if (typeof darkMQL.addEventListener === 'function') {\n        darkMQL.addEventListener('change', setPreferredColorScheme);\n      } else if (typeof darkMQL.addListener === 'function') {\n        darkMQL.addListener(setPreferredColorScheme);\n      }\n    }\n\n    return function () {\n      if (useColorSchemeMediaQuery === 'system' && window.matchMedia) {\n        var _darkMQL = window.matchMedia(DARK_QUERY);\n\n        if (typeof _darkMQL.removeEventListener === 'function') {\n          _darkMQL.removeEventListener('change', setPreferredColorScheme);\n        } else if (typeof _darkMQL.removeListener === 'function') {\n          _darkMQL.removeListener(setPreferredColorScheme);\n        }\n      }\n    };\n  }, [useColorSchemeMediaQuery, setPreferredColorScheme]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var _outerTheme$colors, _outerTheme$colors2;\n\n    if ((_outerTheme$colors = outerTheme.colors) != null && _outerTheme$colors.modes && initialColorModeName && Object.keys(outerTheme.colors.modes).indexOf(initialColorModeName) > -1) {\n      console.warn('[theme-ui] The `initialColorModeName` value should be a unique name' + ' and cannot reference a key in `theme.colors.modes`.');\n    }\n\n    var allColorKeys = [];\n\n    var flattenKeys = function flattenKeys(obj) {\n      Object.keys(obj).forEach(function (key) {\n        allColorKeys.push(key);\n\n        if (typeof obj[key] === 'object') {\n          flattenKeys(obj[key]);\n        }\n      });\n      return allColorKeys;\n    };\n\n    flattenKeys((_outerTheme$colors2 = outerTheme.colors) != null ? _outerTheme$colors2 : {}).forEach(function (color) {\n      if (color !== color.trim()) {\n        console.warn(\"[theme-ui] Key `\" + color + \"` in theme.colors contains leading/trailing \" + 'whitespace, which can cause bugs in your project.');\n      }\n    });\n  }\n\n  var newTheme = useThemeWithAppliedColorMode({\n    colorMode: colorMode,\n    outerTheme: outerTheme\n  });\n\n  var newCtx = _extends({}, outerCtx, {\n    theme: newTheme,\n    colorMode: colorMode,\n    setColorMode: setColorMode\n  });\n\n  return /*#__PURE__*/React.createElement(__ThemeUIInternalBaseThemeProvider, {\n    context: newCtx\n  }, /*#__PURE__*/React.createElement(GlobalColorStyles, {\n    theme: newTheme\n  }), children);\n};\n\nfunction useColorMode() {\n  var _useThemeUI = useThemeUI(),\n      colorMode = _useThemeUI.colorMode,\n      setColorMode = _useThemeUI.setColorMode;\n\n  if (typeof setColorMode !== 'function') {\n    throw new Error(\"[useColorMode] requires the ColorModeProvider component\");\n  } // We're allowing the user to specify a narrower type for its color mode name.\n\n\n  return [colorMode, setColorMode];\n}\n\nvar omitModes = function omitModes(colors) {\n  var res = _extends({}, colors);\n\n  delete res.modes;\n  return res;\n};\n\nfunction copyRawColors(colors, outerThemeRawColors) {\n  for (var _i = 0, _Object$entries = Object.entries(colors); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _Object$entries[_i],\n        key = _Object$entries$_i[0],\n        value = _Object$entries$_i[1];\n\n    if (typeof value === 'string' && !value.startsWith('var(')) {\n      outerThemeRawColors[key] = value;\n    } else if (typeof value === 'object') {\n      var newValue = _extends({}, outerThemeRawColors[key]);\n\n      copyRawColors(value, newValue);\n      outerThemeRawColors[key] = newValue;\n    }\n  }\n}\n\nfunction useThemeWithAppliedColorMode(_ref3) {\n  var outerTheme = _ref3.outerTheme,\n      colorMode = _ref3.colorMode;\n  var theme = useMemo(function () {\n    var res = _extends({}, outerTheme);\n\n    var modes = get(res, 'colors.modes', {});\n    var currentColorMode = get(modes, colorMode, {});\n\n    if (colorMode) {\n      res.colors = _extends({}, res.colors, currentColorMode);\n    }\n\n    var _ref4 = outerTheme.config || outerTheme,\n        useCustomProperties = _ref4.useCustomProperties,\n        _ref4$initialColorMod = _ref4.initialColorModeName,\n        initialColorModeName = _ref4$initialColorMod === void 0 ? '__default' : _ref4$initialColorMod;\n\n    var outerThemeRawColors = outerTheme.rawColors || outerTheme.colors || {};\n\n    if (useCustomProperties !== false) {\n      var alreadyHasRawColors = res.rawColors != null;\n      var colors = res.colors || {};\n\n      if (alreadyHasRawColors) {\n        outerThemeRawColors = _extends({}, outerThemeRawColors);\n        copyRawColors(colors, outerThemeRawColors);\n\n        if (outerThemeRawColors.modes) {\n          outerThemeRawColors.modes[initialColorModeName] = omitModes(outerThemeRawColors);\n        }\n\n        res.rawColors = outerThemeRawColors;\n      } else {\n        if (!('modes' in outerThemeRawColors)) {\n          res.rawColors = colors;\n        } else {\n          var _extends2;\n\n          var _modes = _extends((_extends2 = {}, _extends2[initialColorModeName] = omitModes(outerThemeRawColors), _extends2), outerThemeRawColors.modes);\n\n          res.rawColors = _extends({}, colors, {\n            modes: _modes\n          });\n          /* modes doesn't match index signature by design */\n        }\n      }\n\n      res.colors = toCustomProperties(omitModes(outerThemeRawColors), 'colors');\n    }\n\n    return res;\n  }, [colorMode, outerTheme]);\n  return theme;\n}\n\nfunction GlobalColorStyles(_ref5) {\n  var theme = _ref5.theme;\n  return jsx(Global, {\n    styles: function styles() {\n      return {\n        html: __createColorStyles(theme)\n      };\n    }\n  });\n}\n\nfunction NestedColorModeProvider(_ref6) {\n  var _newTheme$config2;\n\n  var outerCtx = _ref6.outerCtx,\n      children = _ref6.children;\n  var newTheme = useThemeWithAppliedColorMode({\n    outerTheme: outerCtx.theme,\n    colorMode: outerCtx.colorMode\n  }); // Nested theme providers need to be rerendered after hydration for the correct\n  // color mode to apply.\n\n  var _useState2 = useState( // Note: we could also check some \"ssr-enabled\" flag as an optimization for\n  // SPAs, as deeply nested theme providers will also pay a performance penalty\n  // for this SSR bug fix\n  function () {\n    var _newTheme$config;\n\n    return ((_newTheme$config = newTheme.config) == null ? void 0 : _newTheme$config.useLocalStorage) !== false;\n  }),\n      needsRerender = _useState2[0],\n      setNeedsRerender = _useState2[1];\n\n  useClientsideEffect(function () {\n    return void setNeedsRerender(false);\n  }, []);\n  var themeColors = newTheme.rawColors || newTheme.colors;\n  var useCustomProperties = (_newTheme$config2 = newTheme.config) == null ? void 0 : _newTheme$config2.useCustomProperties;\n  var colorVars = useMemo(function () {\n    if (useCustomProperties === false) {\n      return {};\n    }\n\n    var colors = themeColors || {};\n    return css(__createColorProperties(colors, colors.modes || {}))(newTheme);\n  }, [newTheme, themeColors, useCustomProperties]);\n  return /*#__PURE__*/React.createElement(__ThemeUIInternalBaseThemeProvider, {\n    context: _extends({}, outerCtx, {\n      theme: newTheme\n    })\n  }, jsx('div', {\n    'data-themeui-nested-provider': true,\n    // the key here ensures that children will be rerendered after color\n    // mode is read from localStorage\n    key: Number(needsRerender),\n    suppressHydrationWarning: true,\n    css: colorVars,\n    children: children\n  }));\n}\n\nvar ColorModeProvider = function ColorModeProvider(_ref7) {\n  var children = _ref7.children;\n  var outerCtx = useThemeUI();\n  var isTopLevelColorModeProvider = typeof outerCtx.setColorMode !== 'function';\n  return isTopLevelColorModeProvider ? /*#__PURE__*/React.createElement(TopLevelColorModeProvider, {\n    outerCtx: outerCtx\n  }, children) : /*#__PURE__*/React.createElement(NestedColorModeProvider, {\n    outerCtx: outerCtx\n  }, children);\n};\nvar noflash = \"(function() { try {\\n  var mode = localStorage.getItem('theme-ui-color-mode');\\n  if (!mode) return\\n  document.documentElement.classList.add('theme-ui-' + mode);\\n} catch (e) {} })();\";\nvar InitializeColorMode = function InitializeColorMode() {\n  return jsx('script', {\n    key: 'theme-ui-no-flash',\n    dangerouslySetInnerHTML: {\n      __html: noflash\n    }\n  });\n};\n\nexport { ColorModeProvider, InitializeColorMode, useColorMode };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}